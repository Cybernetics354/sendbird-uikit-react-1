{"version":3,"file":"Dropdown.js","sources":["../../../src/hooks/onClickOutside.jsx","../../../src/ui/Dropdown/index.jsx"],"sourcesContent":["import { useEffect } from 'react';\n\nexport default function useOutsideAlerter({\n  ref,\n  callback,\n}) {\n  const handleClickOutside = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      callback();\n    }\n  };\n\n  useEffect(() => {\n    // Bind the event listener\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  });\n}\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport onClickOutside from '../../hooks/onClickOutside';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport const MenuItem = ({ children, onClick }) => (\n  <li\n    className=\"sendbird-dropdown__menu-item\"\n    role=\"menuitem\"\n    onClick={onClick}\n    onKeyPress={(e) => {\n      if (e.keyCode === 13) {\n        onClick(e);\n      }\n    }}\n  >\n    <Label\n      className=\"sendbird-dropdown__menu-item__text\"\n      type={LabelTypography.SUBTITLE_2}\n      color={LabelColors.ONBACKGROUND_1}\n    >\n      {children}\n    </Label>\n  </li>\n);\n\nMenuItem.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\n/**\n * For now, this is not a dropdown component that should be used inside forms\n * This should be used in a list or in a nav-bar where you can click\n * and a list of options opens up\n * Also closing the dropdown is a manual operation for now\n * More options, Aria labels etc should be implemented\n */\nconst DropdownMenu = ({ renderButton, renderItems }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const wrapperRef = useRef(null);\n  onClickOutside({\n    ref: wrapperRef,\n    callback: () => setIsOpen(false),\n  });\n  return (\n    <div className=\"sendbird-dropdown\" ref={wrapperRef}>\n      <div className=\"sendbird-dropdown__button\">\n        {renderButton(() => setIsOpen(!isOpen)/** toggle-menu */)}\n      </div>\n      {\n        isOpen && (\n          <ul className=\"sendbird-dropdown__menu\">\n            {renderItems(() => setIsOpen(false)/** close-menu */)}\n          </ul>\n        )\n      }\n    </div>\n  );\n};\n\nDropdownMenu.propTypes = {\n  renderButton: PropTypes.func.isRequired,\n  renderItems: PropTypes.func.isRequired,\n};\n\nexport default DropdownMenu;\n"],"names":["useOutsideAlerter","ref","callback","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","MenuItem","children","onClick","React","e","keyCode","Label","LabelTypography","SUBTITLE_2","LabelColors","ONBACKGROUND_1","propTypes","PropTypes","oneOfType","string","element","isRequired","func","DropdownMenu","renderButton","renderItems","isOpen","setIsOpen","useState","wrapperRef","useRef","onClickOutside"],"mappings":"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"}