{"version":3,"file":"Dropdown.js","sources":["../../../src/hooks/onClickOutside.jsx","../../../src/ui/Dropdown/index.jsx"],"sourcesContent":["import { useEffect } from 'react';\n\nexport default function useOutsideAlerter({\n  ref,\n  callback,\n}) {\n  const handleClickOutside = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      callback();\n    }\n  };\n\n  useEffect(() => {\n    // Bind the event listener\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  });\n}\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport onClickOutside from '../../hooks/onClickOutside';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport const MenuItem = ({ children, onClick }) => (\n  <li\n    className=\"sendbird-dropdown__menu-item\"\n    role=\"menuitem\"\n    onClick={onClick}\n    onKeyPress={(e) => {\n      if (e.keyCode === 13) {\n        onClick(e);\n      }\n    }}\n  >\n    <Label\n      className=\"sendbird-dropdown__menu-item__text\"\n      type={LabelTypography.SUBTITLE_2}\n      color={LabelColors.ONBACKGROUND_1}\n    >\n      {children}\n    </Label>\n  </li>\n);\n\nMenuItem.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\n/**\n * For now, this is not a dropdown component that should be used inside forms\n * This should be used in a list or in a nav-bar where you can click\n * and a list of options opens up\n * Also closing the dropdown is a manual operation for now\n * More options, Aria labels etc should be implemented\n */\nconst DropdownMenu = ({ renderButton, renderItems }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const wrapperRef = useRef(null);\n  onClickOutside({\n    ref: wrapperRef,\n    callback: () => setIsOpen(false),\n  });\n  return (\n    <div className=\"sendbird-dropdown\" ref={wrapperRef}>\n      <div className=\"sendbird-dropdown__button\">\n        {renderButton(() => setIsOpen(!isOpen)/** toggle-menu */)}\n      </div>\n      {\n        isOpen && (\n          <ul className=\"sendbird-dropdown__menu\">\n            {renderItems(() => setIsOpen(false)/** close-menu */)}\n          </ul>\n        )\n      }\n    </div>\n  );\n};\n\nDropdownMenu.propTypes = {\n  renderButton: PropTypes.func.isRequired,\n  renderItems: PropTypes.func.isRequired,\n};\n\nexport default DropdownMenu;\n"],"names":["useOutsideAlerter","ref","callback","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","MenuItem","children","onClick","React","e","keyCode","Label","LabelTypography","SUBTITLE_2","LabelColors","ONBACKGROUND_1","propTypes","PropTypes","oneOfType","string","element","isRequired","func","DropdownMenu","renderButton","renderItems","isOpen","setIsOpen","useState","wrapperRef","useRef","onClickOutside"],"mappings":";;;;;;;;;;;;;;AAEe,SAASA,iBAAT,OAGZ;EAAA,IAHuC;IACxCC,GADwC;IAExCC;GACC;;EACD,MAAMC,kBAAkB,GAAIC,KAAD,IAAW;IACpC,IAAIH,GAAG,CAACI,OAAJ,IAAe,CAACJ,GAAG,CAACI,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAApB,EAAwD;MACtDL,QAAQ;;GAFZ;;EAMAM,eAAS,CAAC,MAAM;;IAEdC,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCP,kBAAvC;IACA,OAAO,MAAM;;MAEXM,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CR,kBAA1C;KAFF;GAHO,CAAT;AAQD;;MCZYS,QAAQ,GAAG;EAAA,IAAC;IAAEC,QAAF;IAAYC;GAAb;EAAA,oBACtBC;IACE,SAAS,EAAC,8BADZ;IAEE,IAAI,EAAC,UAFP;IAGE,OAAO,EAAED,OAHX;IAIE,UAAU,EAAGE,CAAD,IAAO;MACjB,IAAIA,CAAC,CAACC,OAAF,KAAc,EAAlB,EAAsB;QACpBH,OAAO,CAACE,CAAD,CAAP;;;kBAIJD,wCAACG,cAAD;IACE,SAAS,EAAC,oCADZ;IAEE,IAAI,EAAEC,wBAAe,CAACC,UAFxB;IAGE,KAAK,EAAEC,oBAAW,CAACC;KAElBT,QALH,CAVF,CADsB;AAAA;AAqBxBD,QAAQ,CAACW,SAAT,GAAqB;EACnBV,QAAQ,EAAEW,6BAAS,CAACC,SAAV,CAAoB,CAC5BD,6BAAS,CAACE,MADkB,EAE5BF,6BAAS,CAACG,OAFkB,CAApB,EAGPC,UAJgB;EAKnBd,OAAO,EAAEU,6BAAS,CAACK,IAAV,CAAeD;AALL,CAArB;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;MACME,YAAY,GAAG,SAAmC;EAAA,IAAlC;IAAEC,YAAF;IAAgBC;GAAkB;EACtD,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBC,cAAQ,CAAC,KAAD,CAApC;EACA,MAAMC,UAAU,GAAGC,YAAM,CAAC,IAAD,CAAzB;EACAC,iBAAc,CAAC;IACbrC,GAAG,EAAEmC,UADQ;IAEblC,QAAQ,EAAE,MAAMgC,SAAS,CAAC,KAAD;GAFb,CAAd;EAIA,oBACEnB;IAAK,SAAS,EAAC,mBAAf;IAAmC,GAAG,EAAEqB;kBACtCrB;IAAK,SAAS,EAAC;KACZgB,YAAY,CAAC,MAAMG,SAAS,CAAC,CAACD,MAAF;;GAD/B,CADF,EAKIA,MAAM,iBACJlB;IAAI,SAAS,EAAC;KACXiB,WAAW,CAAC,MAAME,SAAS,CAAC,KAAD;;GAD9B,CANN,CADF;AAcD;;AAEDJ,YAAY,CAACP,SAAb,GAAyB;EACvBQ,YAAY,EAAEP,6BAAS,CAACK,IAAV,CAAeD,UADN;EAEvBI,WAAW,EAAER,6BAAS,CAACK,IAAV,CAAeD;AAFL,CAAzB;;;;;"}