{"version":3,"file":"MessageContent.js","sources":["../../../src/ui/MessageContent/index.tsx"],"sourcesContent":["import React, {\n  ReactElement,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport UserProfile from '../UserProfile';\nimport MessageStatus from '../MessageStatus';\nimport MessageItemMenu from '../MessageItemMenu';\nimport MessageItemReactionMenu from '../MessageItemReactionMenu';\nimport ContextMenu, { MenuItems } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport EmojiReactions from '../EmojiReactions';\n\nimport ClientAdminMessage from '../AdminMessage';\nimport TextMessageItemBody from '../TextMessageItemBody';\nimport FileMessageItemBody from '../FileMessageItemBody';\nimport ThumbnailMessageItemBody from '../ThumbnailMessageItemBody';\nimport OGMessageItemBody from '../OGMessageItemBody';\nimport UnknownMessageItemBody from '../UnknownMessageItemBody';\nimport QuoteMessage from '../QuoteMessage';\n\nimport {\n  getClassName,\n  getUIKitMessageTypes,\n  getUIKitMessageType,\n  isTextMessage,\n  isOGMessage,\n  isThumbnailMessage,\n  getSenderName,\n} from '../../utils';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport { ReplyType } from '../../module.js';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../hooks/useSendbirdStateContext';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { EmojiContainer } from '@sendbird/chat';\nimport { AdminMessage, FileMessage, UserMessage } from '@sendbird/chat/message';\n\ninterface Props {\n  className?: string | Array<string>;\n  userId: string;\n  channel: GroupChannel;\n  message: AdminMessage | UserMessage | FileMessage;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  isReactionEnabled?: boolean;\n  replyType?: ReplyType;\n  nicknamesMap?: Map<string, string>;\n  emojiContainer?: EmojiContainer;\n  scrollToMessage?: (createdAt: number, messageId: number) => void;\n  showEdit?: (bool: boolean) => void;\n  showRemove?: (bool: boolean) => void;\n  showFileViewer?: (bool: boolean) => void;\n  resendMessage?: (message: UserMessage | FileMessage) => Promise<UserMessage | FileMessage>;\n  toggleReaction?: (message: UserMessage | FileMessage, reactionKey: string, isReacted: boolean) => void;\n  setQuoteMessage?: (message: UserMessage | FileMessage) => void;\n}\nexport default function MessageContent({\n  className,\n  userId,\n  channel,\n  message,\n  disabled = false,\n  chainTop = false,\n  chainBottom = false,\n  isReactionEnabled = false,\n  replyType,\n  nicknamesMap,\n  emojiContainer,\n  scrollToMessage,\n  showEdit,\n  showRemove,\n  showFileViewer,\n  resendMessage,\n  toggleReaction,\n  setQuoteMessage,\n}: Props): ReactElement {\n  const messageTypes = getUIKitMessageTypes();\n  const { dateLocale } = useLocalization();\n  const { config } = useSendbirdStateContext?.() || {};\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const avatarRef = useRef(null);\n  const [mouseHover, setMouseHover] = useState(false);\n  const [supposedHover, setSupposedHover] = useState(false);\n\n  const isByMe = (userId === (message as UserMessage | FileMessage)?.sender?.userId)\n    || ((message as UserMessage | FileMessage).sendingStatus === 'pending')\n    || ((message as UserMessage | FileMessage).sendingStatus === 'failed');\n  const isByMeClassName = isByMe ? 'outgoing' : 'incoming';\n  const chainTopClassName = chainTop ? 'chain-top' : '';\n  const isReactionEnabledClassName = isReactionEnabled ? 'use-reactions' : '';\n  const supposedHoverClassName = supposedHover ? 'supposed-hover' : '';\n  const useReplying = !!((replyType === 'QUOTE_REPLY') && message?.parentMessageId && message?.parentMessage);\n  const useReplyingClassName = useReplying ? 'use-quote' : '';\n\n  if (message?.isAdminMessage?.() || message?.messageType === 'admin') {\n    return (<ClientAdminMessage message={message} />);\n  }\n  return (\n    <div\n      className={getClassName([className, 'sendbird-message-content', isByMeClassName])}\n      onMouseOver={() => setMouseHover(true)}\n      onMouseLeave={() => setMouseHover(false)}\n    >\n      {/* left */}\n      <div className={getClassName(['sendbird-message-content__left', isReactionEnabledClassName, isByMeClassName, useReplyingClassName])}>\n        {(!isByMe && !chainBottom) && (\n          /** user profile */\n          <ContextMenu\n            menuTrigger={(toggleDropdown: () => void): ReactElement => (\n              <Avatar\n                className=\"sendbird-message-content__left__avatar\"\n                // @ts-ignore\n                src={channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.profileUrl || message?.sender?.profileUrl || ''}\n                // TODO: Divide getting profileUrl logic to utils\n                ref={avatarRef}\n                width=\"28px\"\n                height=\"28px\"\n                onClick={(): void => { if (!disableUserProfile) toggleDropdown() }}\n              />\n            )}\n            menuItems={(closeDropdown: () => void): ReactElement => (\n              <MenuItems\n                /**\n                * parentRef: For catching location(x, y) of MenuItems\n                * parentContainRef: For toggling more options(menus & reactions)\n                */\n                parentRef={avatarRef}\n                parentContainRef={avatarRef}\n                closeDropdown={closeDropdown}\n                style={{ paddingTop: 0, paddingBottom: 0 }}\n              >\n                {renderUserProfile\n                  // @ts-ignore\n                  ? renderUserProfile({ user: message?.sender, close: closeDropdown })\n                  // @ts-ignore\n                  : (<UserProfile user={message.sender} onSuccess={closeDropdown} />)\n                }\n              </MenuItems>\n            )}\n          />\n        )}\n        {/* outgoing menu */}\n        {isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', isReactionEnabledClassName, supposedHoverClassName, isByMeClassName])}>\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n          </div>\n        )}\n      </div>\n      {/* middle */}\n      <div className=\"sendbird-message-content__middle\">\n        {(!isByMe && !chainTop && !useReplying) && (\n          <Label\n            className=\"sendbird-message-content__middle__sender-name\"\n            type={LabelTypography.CAPTION_2}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {\n              // @ts-ignore\n              channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.nickname\n              || getSenderName(message as UserMessage | FileMessage)\n              // TODO: Divide getting profileUrl logic to utils\n            }\n          </Label>\n        )}\n        {/* quote message */}\n        {(useReplying) ? (\n          <div className={getClassName(['sendbird-message-content__middle__quote-message', isByMe ? 'outgoing' : 'incoming', useReplyingClassName])}>\n            <QuoteMessage\n              message={message as UserMessage | FileMessage}\n              userId={userId}\n              isByMe={isByMe}\n              onClick={() => {\n                if (message?.parentMessage?.createdAt && message?.parentMessageId) {\n                  scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                }\n              }}\n            />\n          </div>\n        ) : null}\n        {/* container: message item body + emoji reactions */}\n        <div className={getClassName(['sendbird-message-content__middle__body-container'])} >\n          {/* message status component */}\n          {(isByMe && !chainBottom) && (\n            <div className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'left', supposedHoverClassName])}>\n              <div className=\"sendbird-message-content__middle__body-container__created-at__component-container\">\n                <MessageStatus\n                  message={message as UserMessage | FileMessage}\n                  channel={channel}\n                />\n              </div>\n            </div>\n          )}\n          {/* message item body components */}\n          {isTextMessage(message as UserMessage) && (\n            <TextMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isMentionEnabled={config?.isMentionEnabled || false}\n            />\n          )}\n          {(isOGMessage(message as UserMessage)) && (\n            <OGMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isMentionEnabled={config?.isMentionEnabled || false}\n            />\n          )}\n          {(getUIKitMessageType((message as FileMessage)) === messageTypes.FILE) && (\n            <FileMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as FileMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n            />\n          )}\n          {(isThumbnailMessage(message as FileMessage)) && (\n            <ThumbnailMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as FileMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              showFileViewer={showFileViewer}\n            />\n          )}\n          {(getUIKitMessageType((message as FileMessage)) === messageTypes.UNKNOWN) && (\n            <UnknownMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n            />\n          )}\n          {/* reactions */}\n          {(isReactionEnabled && message?.reactions?.length > 0) && (\n            <div className={getClassName([\n              'sendbird-message-content-reactions',\n              (!isByMe || isThumbnailMessage(message as FileMessage) || isOGMessage(message as UserMessage)) ? '' : 'primary',\n              mouseHover ? 'mouse-hover' : '',\n            ])}>\n              <EmojiReactions\n                userId={userId}\n                message={message as UserMessage | FileMessage}\n                isByMe={isByMe}\n                emojiContainer={emojiContainer}\n                memberNicknamesMap={nicknamesMap}\n                toggleReaction={toggleReaction}\n              />\n            </div>\n          )}\n          {(!isByMe && !chainBottom) && (\n            <Label\n              className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'right', supposedHoverClassName])}\n              type={LabelTypography.CAPTION_3}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {format(message?.createdAt || 0, 'p', {\n                locale: dateLocale,\n              })}\n            </Label>\n          )}\n        </div>\n      </div>\n      {/* right */}\n      <div className={getClassName(['sendbird-message-content__right', chainTopClassName, isReactionEnabledClassName, useReplyingClassName])}>\n        {/* incoming menu */}\n        {!isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', chainTopClassName, supposedHoverClassName, isByMeClassName])}>\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["MessageContent","_a","className","userId","channel","message","_g","disabled","_h","chainTop","_j","chainBottom","_k","isReactionEnabled","replyType","nicknamesMap","emojiContainer","scrollToMessage","showEdit","showRemove","showFileViewer","resendMessage","toggleReaction","setQuoteMessage","messageTypes","getUIKitMessageTypes","dateLocale","useLocalization","config","useSendbirdStateContext","_l","useContext","UserProfileContext","disableUserProfile","renderUserProfile","avatarRef","useRef","_m","useState","mouseHover","setMouseHover","_o","supposedHover","setSupposedHover","isByMe","sender","sendingStatus","isByMeClassName","chainTopClassName","isReactionEnabledClassName","supposedHoverClassName","useReplying","parentMessageId","parentMessage","useReplyingClassName","isAdminMessage","messageType","React","ClientAdminMessage","getClassName","ContextMenu","toggleDropdown","Avatar","members","find","member","profileUrl","closeDropdown","MenuItems","paddingTop","paddingBottom","user","close","UserProfile","MessageItemMenu","MessageItemReactionMenu","Label","LabelTypography","CAPTION_2","LabelColors","ONBACKGROUND_2","nickname","getSenderName","QuoteMessage","createdAt","MessageStatus","isTextMessage","TextMessageItemBody","isMentionEnabled","isOGMessage","OGMessageItemBody","getUIKitMessageType","FILE","FileMessageItemBody","isThumbnailMessage","ThumbnailMessageItemBody","UNKNOWN","UnknownMessageItemBody","reactions","length","EmojiReactions","CAPTION_3","format","locale"],"mappings":"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"}