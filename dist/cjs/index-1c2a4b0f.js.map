{"version":3,"file":"index-1c2a4b0f.js","sources":["../../src/ui/S3ThumbnailMessageItemBody/index.tsx","../../src/ui/MessageContent/index.tsx","../../src/smart-components/Channel/components/Message/index.tsx","../../src/smart-components/Channel/components/MessageList/index.tsx","../../src/smart-components/Channel/components/MessageInput/index.tsx","../../src/smart-components/Channel/components/ChannelUI/index.tsx","../../src/smart-components/Channel/index.tsx","../../src/smart-components/App/index.jsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useState } from 'react';\nimport type { UserMessage } from '@sendbird/chat/message';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isSentMessage } from '../../utils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n}\n\nexport default function S3ThumbnailMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  showFileViewer,\n}: Props): ReactElement {\n  const [imageRendered, setImageRendered] = useState(false);\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        message?.reactions?.length > 0 ? 'reactions' : '',\n      ])}\n      onClick={() => {\n        if (isSentMessage(message)) {\n          showFileViewer(true);\n        }\n      }}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={message.message}\n        alt={message.message}\n        width=\"360px\"\n        height=\"270px\"\n        onLoad={() => { setImageRendered(true) }}\n        placeHolder={(style) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style}\n          >\n            <div className=\"sendbird-thumbnail-message-item-body__placeholder__icon\">\n              <Icon\n                type={IconTypes.PHOTO}\n                fillColor={IconColors.ON_BACKGROUND_2}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )}\n      />\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport UserProfile from '../UserProfile';\nimport MessageStatus from '../MessageStatus';\nimport MessageItemMenu from '../MessageItemMenu';\nimport MessageItemReactionMenu from '../MessageItemReactionMenu';\nimport ContextMenu, { MenuItems } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport EmojiReactions from '../EmojiReactions';\n\nimport ClientAdminMessage from '../AdminMessage';\nimport TextMessageItemBody from '../TextMessageItemBody';\nimport FileMessageItemBody from '../FileMessageItemBody';\nimport ThumbnailMessageItemBody from '../ThumbnailMessageItemBody';\nimport S3ThumbnailMessageItemBody from '../S3ThumbnailMessageItemBody';\nimport OGMessageItemBody from '../OGMessageItemBody';\nimport UnknownMessageItemBody from '../UnknownMessageItemBody';\nimport QuoteMessage from '../QuoteMessage';\n\nimport {\n  getClassName,\n  getUIKitMessageTypes,\n  getUIKitMessageType,\n  isTextMessage,\n  isOGMessage,\n  isThumbnailMessage,\n  getSenderName,\n  isS3ImageMessage,\n} from '../../utils';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport { ReplyType } from '../../module.js';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../hooks/useSendbirdStateContext';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { EmojiContainer } from '@sendbird/chat';\nimport { AdminMessage, FileMessage, UserMessage } from '@sendbird/chat/message';\nimport { FileInputContext } from '../../smart-components/App';\n\ninterface Props {\n  className?: string | Array<string>;\n  userId: string;\n  channel: GroupChannel;\n  message: AdminMessage | UserMessage | FileMessage;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  isReactionEnabled?: boolean;\n  replyType?: ReplyType;\n  nicknamesMap?: Map<string, string>;\n  emojiContainer?: EmojiContainer;\n  scrollToMessage?: (createdAt: number, messageId: number) => void;\n  showEdit?: (bool: boolean) => void;\n  showRemove?: (bool: boolean) => void;\n  showFileViewer?: (bool: boolean) => void;\n  resendMessage?: (message: UserMessage | FileMessage) => Promise<UserMessage | FileMessage>;\n  toggleReaction?: (message: UserMessage | FileMessage, reactionKey: string, isReacted: boolean) => void;\n  setQuoteMessage?: (message: UserMessage | FileMessage) => void;\n}\nexport default function MessageContent({\n  className,\n  userId,\n  channel,\n  message,\n  disabled = false,\n  chainTop = false,\n  chainBottom = false,\n  isReactionEnabled = false,\n  replyType,\n  nicknamesMap,\n  emojiContainer,\n  scrollToMessage,\n  showEdit,\n  showRemove,\n  showFileViewer,\n  resendMessage,\n  toggleReaction,\n  setQuoteMessage,\n}: Props): ReactElement {\n  const messageTypes = getUIKitMessageTypes();\n  const { dateLocale } = useLocalization();\n  const { config } = useSendbirdStateContext?.() || {};\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const { externalBucketUrl } = useContext<FileInputContext>(FileInputContext);\n  const avatarRef = useRef(null);\n  const [mouseHover, setMouseHover] = useState(false);\n  const [supposedHover, setSupposedHover] = useState(false);\n\n  const isByMe = (userId === (message as UserMessage | FileMessage)?.sender?.userId)\n    || ((message as UserMessage | FileMessage).sendingStatus === 'pending')\n    || ((message as UserMessage | FileMessage).sendingStatus === 'failed');\n  const isByMeClassName = isByMe ? 'outgoing' : 'incoming';\n  const chainTopClassName = chainTop ? 'chain-top' : '';\n  const isReactionEnabledClassName = isReactionEnabled ? 'use-reactions' : '';\n  const supposedHoverClassName = supposedHover ? 'supposed-hover' : '';\n  const useReplying = !!((replyType === 'QUOTE_REPLY') && message?.parentMessageId && message?.parentMessage);\n  const useReplyingClassName = useReplying ? 'use-quote' : '';\n\n  if (message?.isAdminMessage?.() || message?.messageType === 'admin') {\n    return (<ClientAdminMessage message={message} />);\n  }\n  return (\n    <div\n      className={getClassName([className, 'sendbird-message-content', isByMeClassName])}\n      onMouseOver={() => setMouseHover(true)}\n      onMouseLeave={() => setMouseHover(false)}\n    >\n      {/* left */}\n      <div className={getClassName(['sendbird-message-content__left', isReactionEnabledClassName, isByMeClassName, useReplyingClassName])}>\n        {(!isByMe && !chainBottom) && (\n          /** user profile */\n          <ContextMenu\n            menuTrigger={(toggleDropdown: () => void): ReactElement => (\n              <Avatar\n                className=\"sendbird-message-content__left__avatar\"\n                // @ts-ignore\n                src={channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.profileUrl || message?.sender?.profileUrl || ''}\n                // TODO: Divide getting profileUrl logic to utils\n                ref={avatarRef}\n                width=\"28px\"\n                height=\"28px\"\n                onClick={(): void => { if (!disableUserProfile) toggleDropdown() }}\n              />\n            )}\n            menuItems={(closeDropdown: () => void): ReactElement => (\n              <MenuItems\n                /**\n                * parentRef: For catching location(x, y) of MenuItems\n                * parentContainRef: For toggling more options(menus & reactions)\n                */\n                parentRef={avatarRef}\n                parentContainRef={avatarRef}\n                closeDropdown={closeDropdown}\n                style={{ paddingTop: 0, paddingBottom: 0 }}\n              >\n                {renderUserProfile\n                  // @ts-ignore\n                  ? renderUserProfile({ user: message?.sender, close: closeDropdown })\n                  // @ts-ignore\n                  : (<UserProfile user={message.sender} onSuccess={closeDropdown} />)\n                }\n              </MenuItems>\n            )}\n          />\n        )}\n        {/* outgoing menu */}\n        {isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', isReactionEnabledClassName, supposedHoverClassName, isByMeClassName])}>\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n          </div>\n        )}\n      </div>\n      {/* middle */}\n      <div className=\"sendbird-message-content__middle\">\n        {(!isByMe && !chainTop && !useReplying) && (\n          <Label\n            className=\"sendbird-message-content__middle__sender-name\"\n            type={LabelTypography.CAPTION_2}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {\n              // @ts-ignore\n              channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.nickname\n              || getSenderName(message as UserMessage | FileMessage)\n              // TODO: Divide getting profileUrl logic to utils\n            }\n          </Label>\n        )}\n        {/* quote message */}\n        {(useReplying) ? (\n          <div className={getClassName(['sendbird-message-content__middle__quote-message', isByMe ? 'outgoing' : 'incoming', useReplyingClassName])}>\n            <QuoteMessage\n              message={message as UserMessage | FileMessage}\n              userId={userId}\n              isByMe={isByMe}\n              onClick={() => {\n                if (message?.parentMessage?.createdAt && message?.parentMessageId) {\n                  scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                }\n              }}\n            />\n          </div>\n        ) : null}\n        {/* container: message item body + emoji reactions */}\n        <div className={getClassName(['sendbird-message-content__middle__body-container'])} >\n          {/* message status component */}\n          {(isByMe && !chainBottom) && (\n            <div className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'left', supposedHoverClassName])}>\n              <div className=\"sendbird-message-content__middle__body-container__created-at__component-container\">\n                <MessageStatus\n                  message={message as UserMessage | FileMessage}\n                  channel={channel}\n                />\n              </div>\n            </div>\n          )}\n          {/* message item body components */}\n          {isTextMessage(message as UserMessage, externalBucketUrl) && (\n            <TextMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isMentionEnabled={config?.isMentionEnabled || false}\n            />\n          )}\n          {(isS3ImageMessage(message as UserMessage, externalBucketUrl)) && (\n            <S3ThumbnailMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              showFileViewer={showFileViewer}\n            />\n          )}\n          {(isOGMessage(message as UserMessage)) && (\n            <OGMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isMentionEnabled={config?.isMentionEnabled || false}\n            />\n          )}\n          {(getUIKitMessageType((message as FileMessage)) === messageTypes.FILE) && (\n            <FileMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as FileMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n            />\n          )}\n          {(isThumbnailMessage(message as FileMessage)) && (\n            <ThumbnailMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as FileMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              showFileViewer={showFileViewer}\n            />\n          )}\n          {(getUIKitMessageType((message as FileMessage)) === messageTypes.UNKNOWN) && (\n            <UnknownMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n            />\n          )}\n          {/* reactions */}\n          {(isReactionEnabled && message?.reactions?.length > 0) && (\n            <div className={getClassName([\n              'sendbird-message-content-reactions',\n              (!isByMe || isThumbnailMessage(message as FileMessage) || isOGMessage(message as UserMessage)) ? '' : 'primary',\n              mouseHover ? 'mouse-hover' : '',\n            ])}>\n              <EmojiReactions\n                userId={userId}\n                message={message as UserMessage | FileMessage}\n                isByMe={isByMe}\n                emojiContainer={emojiContainer}\n                memberNicknamesMap={nicknamesMap}\n                toggleReaction={toggleReaction}\n              />\n            </div>\n          )}\n          {(!isByMe && !chainBottom) && (\n            <Label\n              className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'right', supposedHoverClassName])}\n              type={LabelTypography.CAPTION_3}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {format(message?.createdAt || 0, 'p', {\n                locale: dateLocale,\n              })}\n            </Label>\n          )}\n        </div>\n      </div>\n      {/* right */}\n      <div className={getClassName(['sendbird-message-content__right', chainTopClassName, isReactionEnabledClassName, useReplyingClassName])}>\n        {/* incoming menu */}\n        {!isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', chainTopClassName, supposedHoverClassName, isByMeClassName])}>\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, {\n  useRef,\n  useMemo,\n  useState,\n  useEffect,\n  useLayoutEffect,\n} from 'react';\nimport type { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\n\nimport SuggestedMentionList from '../SuggestedMentionList';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport { getClassName } from '../../../../utils';\nimport { isDisabledBecauseFrozen, isDisabledBecauseMuted } from '../../context/utils';\nimport { MAX_USER_MENTION_COUNT, MAX_USER_SUGGESTION_COUNT } from '../../context/const';\n\nimport DateSeparator from '../../../../ui/DateSeparator';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport MessageInput from '../../../../ui/MessageInput';\nimport MessageContent from '../../../../ui/MessageContent';\nimport FileViewer from '../FileViewer';\nimport RemoveMessageModal from '../RemoveMessageModal';\nimport { MessageInputKeys } from '../../../../ui/MessageInput/const';\nimport { EveryMessage, RenderMessageProps } from '../../../../types';\nimport { useLocalization } from '../../../../lib/LocalizationContext';\n\ntype MessageUIProps = {\n  message: EveryMessage;\n  hasSeparator?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  handleScroll: () => void;\n  // for extending\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderCustomSeparator?: () => React.ReactElement;\n  renderEditInput?: () => React.ReactElement;\n  renderMessageContent?: () => React.ReactElement;\n};\n\nconst Message = (props: MessageUIProps): React.FC<MessageUIProps> | React.ReactElement => {\n  const {\n    message,\n    hasSeparator,\n    chainTop,\n    chainBottom,\n    handleScroll,\n    renderCustomSeparator,\n    renderEditInput,\n    renderMessage,\n    renderMessageContent,\n  } = props;\n\n  const { dateLocale } = useLocalization();\n  const globalStore = useSendbirdStateContext();\n  const {\n    userId,\n    isOnline,\n    isMentionEnabled,\n    userMention,\n  } = globalStore?.config;\n  const maxUserMentionCount = userMention?.maxMentionCount || MAX_USER_MENTION_COUNT;\n  const maxUserSuggestionCount = userMention?.maxSuggestionCount || MAX_USER_SUGGESTION_COUNT;\n\n  const {\n    initialized,\n    currentGroupChannel,\n    highLightedMessageId,\n    setHighLightedMessageId,\n    animatedMessageId,\n    setAnimatedMessageId,\n    updateMessage,\n    scrollToMessage,\n    replyType,\n    isReactionEnabled,\n    toggleReaction,\n    emojiContainer,\n    nicknamesMap,\n    setQuoteMessage,\n    resendMessage,\n    renderUserMentionItem,\n  } = useChannelContext();\n\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const [isHighlighted, setIsHighlighted] = useState(false);\n  const [mentionNickname, setMentionNickname] = useState('');\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [mentionedUserIds, setMentionedUserIds] = useState([]);\n  const [messageInputEvent, setMessageInputEvent] = useState(null);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [mentionSuggestedUsers, setMentionSuggestedUsers] = useState([]);\n  const [ableMention, setAbleMention] = useState(true);\n  const editMessageInputRef = useRef(null);\n  const useMessageScrollRef = useRef(null);\n  const displaySuggestedMentionList = isOnline\n    && isMentionEnabled\n    && mentionNickname.length > 0\n    && !isDisabledBecauseFrozen(currentGroupChannel)\n    && !isDisabledBecauseMuted(currentGroupChannel);\n  const disabled = !initialized\n    || isDisabledBecauseFrozen(currentGroupChannel)\n    || isDisabledBecauseMuted(currentGroupChannel)\n    || !isOnline;\n\n  useEffect(() => {\n    if (mentionedUsers?.length >= maxUserMentionCount) {\n      setAbleMention(false);\n    } else {\n      setAbleMention(true);\n    }\n  }, [mentionedUsers]);\n\n  useEffect(() => {\n    setMentionedUsers(mentionedUsers.filter(({ userId }) => {\n      const i = mentionedUserIds.indexOf(userId);\n      if (i < 0) {\n        return false;\n      } else {\n        mentionedUserIds.splice(i, 1);\n        return true;\n      }\n    }));\n  }, [mentionedUserIds]);\n\n  useLayoutEffect(() => {\n    handleScroll?.();\n  }, [showEdit, message?.reactions?.length]);\n\n  useLayoutEffect(() => {\n    if (highLightedMessageId === message.messageId) {\n      if (useMessageScrollRef && useMessageScrollRef.current) {\n        useMessageScrollRef.current.scrollIntoView({ block: 'center', inline: 'center' });\n        setIsAnimated(false);\n        setTimeout(() => {\n          setIsHighlighted(true);\n        }, 500);\n        setTimeout(() => {\n          setHighLightedMessageId(0);\n        }, 1600);\n      }\n    } else {\n      setIsHighlighted(false);\n    }\n  }, [highLightedMessageId, useMessageScrollRef.current, message.messageId]);\n\n  useLayoutEffect(() => {\n    if (animatedMessageId === message.messageId) {\n      if (useMessageScrollRef && useMessageScrollRef.current) {\n        useMessageScrollRef.current.scrollIntoView({ block: 'center', inline: 'center' });\n        setIsHighlighted(false);\n        setTimeout(() => {\n          setIsAnimated(true);\n        }, 500);\n        setTimeout(() => {\n          setAnimatedMessageId(0);\n        }, 1600);\n      }\n    } else {\n      setIsAnimated(false);\n    }\n  }, [animatedMessageId, useMessageScrollRef.current, message.messageId]);\n  const renderedMessage = useMemo(() => {\n    return renderMessage?.({\n      message,\n      chainTop,\n      chainBottom,\n    });\n  }, [message, renderMessage]);\n  const renderedCustomSeparator = useMemo(() => {\n    if (renderCustomSeparator) {\n      return renderCustomSeparator?.();\n    }\n    return null;\n  }, [message, renderCustomSeparator]);\n\n  if (renderedMessage) {\n    return (\n      <div\n        ref={useMessageScrollRef}\n        className={getClassName([\n          'sendbird-msg-hoc sendbird-msg--scroll-ref',\n          isAnimated ? 'sendbird-msg-hoc__animated' : '',\n          isHighlighted ? 'sendbird-msg-hoc__highlighted' : '',\n        ])}\n      >\n        {/* date-separator */}\n        {\n          // TODO: Add message instance as a function parameter\n          hasSeparator && (renderedCustomSeparator || (\n            <DateSeparator>\n              <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n                {format(message.createdAt, 'MMMM dd, yyyy', {\n                  locale: dateLocale,\n                })}\n              </Label>\n            </DateSeparator>\n          ))\n        }\n        {renderedMessage}\n      </div>\n    );\n  }\n\n  if (showEdit && message.isUserMessage()) {\n    return renderEditInput?.() || (\n      <>\n        {\n          displaySuggestedMentionList && (\n            <SuggestedMentionList\n              targetNickname={mentionNickname}\n              inputEvent={messageInputEvent}\n              renderUserMentionItem={renderUserMentionItem}\n              onUserItemClick={(user) => {\n                if (user) {\n                  setMentionedUsers([...mentionedUsers, user]);\n                }\n                setMentionNickname('');\n                setSelectedUser(user);\n                setMessageInputEvent(null);\n              }}\n              onFocusItemChange={() => {\n                setMessageInputEvent(null);\n              }}\n              onFetchUsers={(users) => {\n                setMentionSuggestedUsers(users);\n              }}\n              ableAddMention={ableMention}\n              maxMentionCount={maxUserMentionCount}\n              maxSuggestionCount={maxUserSuggestionCount}\n            />\n          )\n        }\n        <MessageInput\n          isEdit\n          disabled={disabled}\n          ref={editMessageInputRef}\n          mentionSelectedUser={selectedUser}\n          isMentionEnabled={isMentionEnabled}\n          message={message}\n          onUpdateMessage={({ messageId, message, mentionTemplate }) => {\n            updateMessage({\n              messageId,\n              message,\n              mentionedUsers,\n              mentionTemplate,\n            });\n            setShowEdit(false);\n          }}\n          onCancelEdit={() => {\n            setMentionNickname('');\n            setMentionedUsers([]);\n            setMentionedUserIds([]);\n            setMentionSuggestedUsers([])\n            setShowEdit(false);\n          }}\n          onUserMentioned={(user) => {\n            if (selectedUser?.userId === user?.userId) {\n              setSelectedUser(null);\n              setMentionNickname('');\n            }\n          }}\n          onMentionStringChange={(mentionText) => {\n            setMentionNickname(mentionText);\n          }}\n          onMentionedUserIdsUpdated={(userIds) => {\n            setMentionedUserIds(userIds);\n          }}\n          onKeyDown={(e) => {\n            if (displaySuggestedMentionList && mentionSuggestedUsers?.length > 0\n              && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)\n            ) {\n              setMessageInputEvent(e);\n              return true;\n            }\n            return false;\n          }}\n        />\n      </>\n    );\n  }\n\n  return (\n    <div\n      className={getClassName([\n        'sendbird-msg-hoc sendbird-msg--scroll-ref',\n        isAnimated ? 'sendbird-msg-hoc__animated' : '',\n        isHighlighted ? 'sendbird-msg-hoc__highlighted' : '',\n      ])}\n      style={{ marginBottom: '2px' }}\n      ref={useMessageScrollRef}\n    >\n      {/* date-separator */}\n      {\n        hasSeparator && (renderedCustomSeparator || (\n          <DateSeparator>\n            <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n              {format(message.createdAt, 'MMMM dd, yyyy', {\n                locale: dateLocale,\n              })}\n            </Label>\n          </DateSeparator>\n        ))\n      }\n      {/* Message */}\n      {\n        renderMessageContent?.() || (\n          <MessageContent\n            className=\"sendbird-message-hoc__message-content\"\n            userId={userId}\n            scrollToMessage={scrollToMessage}\n            channel={currentGroupChannel}\n            message={message}\n            disabled={!isOnline}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n            isReactionEnabled={isReactionEnabled}\n            replyType={replyType}\n            nicknamesMap={nicknamesMap}\n            emojiContainer={emojiContainer}\n            showEdit={setShowEdit}\n            showRemove={setShowRemove}\n            showFileViewer={setShowFileViewer}\n            resendMessage={resendMessage}\n            toggleReaction={toggleReaction}\n            setQuoteMessage={setQuoteMessage}\n          />\n        )\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            message={message}\n            onCancel={() => setShowRemove(false)}\n          />\n        )\n      }\n      {\n        showFileViewer && (\n          <FileViewer\n            message={message as FileMessage}\n            onCancel={() => setShowFileViewer(false)}\n          />\n        )\n      }\n    </div>\n  );\n};\n\nexport default Message;\n","import './message-list.scss';\n\nimport React, { useState, useMemo } from 'react';\nimport isSameDay from 'date-fns/isSameDay';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport { compareMessagesForGrouping } from '../../context/utils';\nimport Message from '../Message';\nimport { RenderMessageProps } from '../../../../types';\nimport { isAboutSame } from '../../context/utils';\nimport uuidv4 from '../../../../utils/uuid';\n\nexport type MessageListProps = {\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderPlaceholderEmpty?: () => React.ReactElement;\n  renderCustomSeparator?: () => React.ReactElement;\n};\n\nconst SCROLL_REF_CLASS_NAME = '.sendbird-msg--scroll-ref';\n\nconst MessageList: React.FC<MessageListProps> = (props: MessageListProps) => {\n  const {\n    renderMessage,\n    renderPlaceholderEmpty,\n    renderCustomSeparator,\n  } = props;\n  const {\n    allMessages,\n    hasMorePrev,\n    setInitialTimeStamp,\n    setAnimatedMessageId,\n    setHighLightedMessageId,\n    isMessageGroupingEnabled,\n    scrollRef,\n    onScrollCallback,\n    onScrollDownCallback,\n    messagesDispatcher,\n    messageActionTypes,\n    currentGroupChannel,\n  } = useChannelContext();\n  const [scrollBottom, setScrollBottom] = useState(0);\n\n  const onScroll = (e) => {\n    const element = e.target;\n    const {\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    } = element;\n\n    if (scrollTop === 0) {\n      if (!hasMorePrev) {\n        return;\n      }\n      const nodes = scrollRef.current.querySelectorAll(SCROLL_REF_CLASS_NAME);\n      const first = nodes && nodes[0];\n      onScrollCallback(([messages]) => {\n        if (messages) {\n          // https://github.com/scabbiaza/react-scroll-position-on-updating-dom\n          // Set block to nearest to prevent unexpected scrolling from outer components\n          try {\n            first.scrollIntoView({ block: \"start\", inline: \"nearest\" });\n          } catch (error) {\n            //\n          }\n        }\n      });\n    }\n\n    if (isAboutSame(clientHeight + scrollTop, scrollHeight, 10)) {\n      onScrollDownCallback(([messages]) => {\n        if (messages) {\n          try {\n            element.scrollTop = scrollHeight - clientHeight;\n          } catch (error) {\n            //\n          }\n        }\n      });\n    }\n\n    // save the lastest scroll bottom value\n    if (scrollRef?.current) {\n      const current = scrollRef?.current;\n      setScrollBottom(current.scrollHeight - current.scrollTop - current.offsetHeight)\n    }\n\n    // do this later\n    setTimeout(() => {\n      // mark as read if scroll is at end\n      if (clientHeight + scrollTop === scrollHeight) {\n        messagesDispatcher({\n          type: messageActionTypes.MARK_AS_READ,\n          payload: { channel: currentGroupChannel },\n        });\n        currentGroupChannel?.markAsRead();\n      }\n    }, 500);\n  };\n\n  const onClickScrollBot = () => {\n    setInitialTimeStamp?.(null);\n    setAnimatedMessageId?.(null);\n    setHighLightedMessageId?.(null);\n    if (scrollRef?.current?.scrollTop > -1) {\n      scrollRef.current.scrollTop = scrollRef?.current?.scrollHeight - scrollRef?.current?.offsetHeight;\n    }\n  };\n\n  // Because every message components are re-rendered everytime by every scroll events\n  const memoizedAllMessages = useMemo(() => {\n    return (\n      allMessages.map((m, idx) => {\n        const previousMessage = allMessages[idx - 1];\n        const nextMessage = allMessages[idx + 1];\n        const [chainTop, chainBottom] = isMessageGroupingEnabled\n          ? compareMessagesForGrouping(previousMessage, m, nextMessage)\n          : [false, false];\n        const previousMessageCreatedAt = previousMessage?.createdAt;\n        const currentCreatedAt = m.createdAt;\n        // https://stackoverflow.com/a/41855608\n        const hasSeparator = !(previousMessageCreatedAt && (\n          isSameDay(currentCreatedAt, previousMessageCreatedAt)\n        ));\n\n        const handleScroll = () => {\n          const current = scrollRef?.current;\n          if (current) {\n            const bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n            if (scrollBottom < bottom) {\n              current.scrollTop += bottom - scrollBottom;\n            }\n          }\n        }\n\n        return (\n          <Message\n            handleScroll={handleScroll}\n            renderMessage={renderMessage}\n            message={m}\n            hasSeparator={hasSeparator}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n            renderCustomSeparator={renderCustomSeparator}\n            key={m.messageId + uuidv4()}\n          />\n        );\n      })\n    );\n  }, [allMessages]);\n\n  if (allMessages.length < 1) {\n    return (\n      <>\n        {\n          renderPlaceholderEmpty?.() || (\n            <PlaceHolder\n              className=\"sendbird-conversation__no-messages\"\n              type={PlaceHolderTypes.NO_MESSAGES}\n            />)\n        }\n      </>\n    );\n  }\n  return (\n    <div className=\"sendbird-conversation__messages\">\n      <div className=\"sendbird-conversation__scroll-container\">\n        <div className=\"sendbird-conversation__padding\" />\n        <div\n          className=\"sendbird-conversation__messages-padding\"\n          ref={scrollRef}\n          onScroll={onScroll}\n        >\n          {memoizedAllMessages}\n        </div>\n      </div>\n      {\n        // This flag is an unmatched variable\n        (scrollBottom > 1) && (\n          <div\n            className=\"sendbird-conversation__scroll-bottom-button\"\n            onClick={onClickScrollBot}\n            onKeyDown={onClickScrollBot}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <Icon\n              width=\"24px\"\n              height=\"24px\"\n              type={IconTypes.CHEVRON_DOWN}\n              fillColor={IconColors.PRIMARY}\n            />\n          </div>\n        )\n      }\n    </div>\n  );\n};\n\nexport default MessageList;\n","import type { User } from '@sendbird/chat';\n\nimport React, { useState, useContext, useEffect } from 'react';\n\nimport './message-input.scss';\nimport * as utils from '../../context/utils';\n\nimport MessageInput from '../../../../ui/MessageInput';\nimport QuoteMessageInput from '../../../../ui/QuoteMessageInput';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport SuggestedMentionList from '../SuggestedMentionList';\nimport { MessageInputKeys } from '../../../../ui/MessageInput/const';\nimport { FileInputContext } from '../../../../smart-components/App';\n\nconst MessageInputWrapper = (): JSX.Element => {\n  const {\n    currentGroupChannel,\n    initialized,\n    quoteMessage,\n    sendMessage,\n    sendFileMessage,\n    setQuoteMessage,\n    messageInputRef,\n    renderUserMentionItem,\n  } = useChannelContext();\n  const globalStore = useSendbirdStateContext();\n  const channel = currentGroupChannel;\n\n  const { isOnline, isMentionEnabled, userMention } = globalStore?.config;\n  const maxUserMentionCount = userMention?.maxMentionCount || 10;\n  const maxUserSuggestionCount = userMention?.maxSuggestionCount || 15;\n\n  const { onFilePicked } = useContext<FileInputContext>(FileInputContext);\n  const { stringSet } = useContext(LocalizationContext);\n  const [mentionNickname, setMentionNickname] = useState('');\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [mentionedUserIds, setMentionedUserIds] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [mentionSuggestedUsers, setMentionSuggestedUsers] = useState([]);\n  const [ableMention, setAbleMention] = useState(true);\n  const [messageInputEvent, setMessageInputEvent] = useState(null);\n  const disabled = !initialized\n    || utils.isDisabledBecauseFrozen(channel)\n    || utils.isDisabledBecauseMuted(channel)\n    || !isOnline;\n  const isOperator = utils.isOperator(channel);\n  const isBroadcast = channel?.isBroadcast;\n\n  const displaySuggestedMentionList = isOnline\n    && isMentionEnabled\n    && mentionNickname.length > 0\n    && !utils.isDisabledBecauseFrozen(channel)\n    && !utils.isDisabledBecauseMuted(channel);\n\n  // Reset when channel changes\n  useEffect(() => {\n    setMentionNickname('');\n    setMentionedUsers([]);\n    setMentionedUserIds([]);\n    setSelectedUser(null);\n    setMentionSuggestedUsers([]);\n    setAbleMention(true);\n    setMessageInputEvent(null);\n  }, [channel?.url]);\n\n  useEffect(() => {\n    if (mentionedUsers?.length >= maxUserMentionCount) {\n      setAbleMention(false);\n    } else {\n      setAbleMention(true);\n    }\n  }, [mentionedUsers]);\n\n  useEffect(() => {\n    setMentionedUsers(mentionedUsers.filter(({ userId }) => {\n      const i = mentionedUserIds.indexOf(userId);\n      if (i < 0) {\n        return false;\n      } else {\n        mentionedUserIds.splice(i, 1);\n        return true;\n      }\n    }));\n  }, [mentionedUserIds]);\n\n  // broadcast channel + not operator\n  if (isBroadcast && !isOperator) {\n    return null;\n  }\n  // other conditions\n  return (\n    <div className=\"sendbird-message-input-wrapper\">\n      {\n        displaySuggestedMentionList && (\n          <SuggestedMentionList\n            targetNickname={mentionNickname}\n            inputEvent={messageInputEvent}\n            renderUserMentionItem={renderUserMentionItem}\n            onUserItemClick={(user) => {\n              if (user) {\n                setMentionedUsers([...mentionedUsers, user]);\n              }\n              setMentionNickname('');\n              setSelectedUser(user);\n              setMessageInputEvent(null);\n            }}\n            onFocusItemChange={() => {\n              setMessageInputEvent(null);\n            }}\n            onFetchUsers={(users) => {\n              setMentionSuggestedUsers(users);\n            }}\n            ableAddMention={ableMention}\n            maxMentionCount={maxUserMentionCount}\n            maxSuggestionCount={maxUserSuggestionCount}\n          />\n        )\n      }\n      {quoteMessage && (\n        <div className=\"sendbird-message-input-wrapper__quote-message-input\">\n          <QuoteMessageInput\n            replyingMessage={quoteMessage}\n            onClose={() => setQuoteMessage(null)}\n          />\n        </div>\n      )}\n      <MessageInput\n        className=\"sendbird-message-input-wrapper__message-input\"\n        channelUrl={channel?.url}\n        mentionSelectedUser={selectedUser}\n        isMentionEnabled={isMentionEnabled}\n        placeholder={\n          (quoteMessage && stringSet.MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER)\n          || (utils.isDisabledBecauseFrozen(channel) && stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED)\n          || (utils.isDisabledBecauseMuted(channel) && stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED)\n        }\n        ref={messageInputRef}\n        disabled={disabled}\n        onStartTyping={() => {\n          channel?.startTyping();\n        }}\n        onSendMessage={({ message, mentionTemplate }) => {\n          sendMessage({\n            message,\n            quoteMessage,\n            mentionedUsers,\n            mentionTemplate,\n          });\n          setMentionNickname('');\n          setMentionedUsers([]);\n          setQuoteMessage(null);\n          channel?.endTyping();\n        }}\n        onFileUpload={(file) => {\n          // TODO: upload to s3\n          onFilePicked(file).then((result) => {\n            if(result) {\n              sendMessage({\n                message: result,\n              })\n            }\n          });\n\n          // sendFileMessage(file, quoteMessage);\n          setQuoteMessage(null);\n        }}\n        onUserMentioned={(user) => {\n          if (selectedUser?.userId === user?.userId) {\n            setSelectedUser(null);\n            setMentionNickname('');\n          }\n        }}\n        onMentionStringChange={(mentionText) => {\n          setMentionNickname(mentionText);\n        }}\n        onMentionedUserIdsUpdated={(userIds) => {\n          setMentionedUserIds(userIds);\n        }}\n        onKeyDown={(e) => {\n          if (displaySuggestedMentionList && mentionSuggestedUsers?.length > 0\n            && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)\n          ) {\n            setMessageInputEvent(e);\n            return true;\n          }\n          return false;\n        }}\n      />\n    </div>\n  );\n}\n\nexport default React.forwardRef(MessageInputWrapper);\n","import './channel-ui.scss';\n\nimport React, { useEffect, useState } from 'react';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport ConnectionStatus from '../../../../ui/ConnectionStatus';\nimport ChannelHeader from '../ChannelHeader';\nimport MessageList from '../MessageList';\nimport TypingIndicator from '../TypingIndicator';\nimport FrozenNotification from '../FrozenNotification';\nimport UnreadCount from '../UnreadCount';\nimport MessageInputWrapper from '../MessageInput';\nimport { RenderMessageProps } from '../../../../types';\nimport * as messageActionTypes from '../../context/dux/actionTypes';\n\nexport interface ChannelUIProps {\n  renderPlaceholderLoader?: () => React.ReactNode;\n  renderPlaceholderInvalid?: () => React.ReactNode;\n  renderPlaceholderEmpty?: () => React.ReactNode;\n  renderChannelHeader?: () => React.ReactNode;\n  renderMessage?: (props: RenderMessageProps) => React.ReactNode;\n  renderMessageInput?: () => React.ReactNode;\n  renderTypingIndicator?: () => React.ReactNode;\n  renderCustomSeparator?: () => React.ReactNode;\n}\n\nconst ChannelUI: React.FC<ChannelUIProps> = ({\n  renderPlaceholderLoader,\n  renderPlaceholderInvalid,\n  renderPlaceholderEmpty,\n  renderChannelHeader,\n  renderMessage,\n  renderMessageInput,\n  renderTypingIndicator,\n  renderCustomSeparator,\n}: ChannelUIProps) => {\n  const {\n    currentGroupChannel,\n    channelUrl,\n    isInvalid,\n    unreadSince,\n    loading,\n    setInitialTimeStamp,\n    setAnimatedMessageId,\n    setHighLightedMessageId,\n    scrollRef,\n    messagesDispatcher,\n  } = useChannelContext();\n  const [unreadCount, setUnreadCount] = useState(0);\n  useEffect(() => {\n    setUnreadCount(currentGroupChannel?.unreadMessageCount);\n  }, [currentGroupChannel?.unreadMessageCount]);\n\n  const globalStore = useSendbirdStateContext();\n  const sdkError = globalStore?.stores?.sdkStore?.error;\n  const logger = globalStore?.config?.logger;\n  const isOnline = globalStore?.config?.isOnline;\n\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderInvalid?.() || (\n          <PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} />\n        )\n      }\n    </div>);\n  }\n  if (isInvalid) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder type={PlaceHolderTypes.WRONG} />\n          )\n        }\n      </div>\n    );\n  }\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder\n              type={PlaceHolderTypes.WRONG}\n              retryToConnect={() => {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n  return (\n    <div className='sendbird-conversation'>\n      {\n        renderChannelHeader?.() || (\n          <ChannelHeader />\n        )\n      }\n      {\n        currentGroupChannel?.isFrozen && (\n          <FrozenNotification />\n        )\n      }\n      {\n        unreadCount > 0 && (\n          <UnreadCount\n            count={unreadCount}\n            time={unreadSince}\n            onClick={() => {\n              setUnreadCount(0);\n              if (scrollRef?.current?.scrollTop) {\n                scrollRef.current.scrollTop = scrollRef?.current?.scrollHeight - scrollRef?.current?.offsetHeight;\n              }\n              currentGroupChannel?.markAsRead();\n              messagesDispatcher({\n                type: messageActionTypes.MARK_AS_READ,\n                payload: { channel: currentGroupChannel },\n              });\n              setInitialTimeStamp(null);\n              setAnimatedMessageId(null);\n              setHighLightedMessageId(null);\n            }}\n          />\n        )\n      }\n      {\n        loading\n          ? (\n            <div className=\"sendbird-conversation\">\n              {\n                renderPlaceholderLoader?.() || (\n                  <PlaceHolder type={PlaceHolderTypes.LOADING} />\n                )\n              }\n            </div>\n          ) : (\n            <MessageList\n              renderMessage={renderMessage}\n              renderPlaceholderEmpty={renderPlaceholderEmpty}\n              renderCustomSeparator={renderCustomSeparator}\n            />\n          )\n      }\n      <div className=\"sendbird-conversation__footer\">\n        {\n          renderMessageInput?.() || (\n            <MessageInputWrapper />\n          )\n        }\n        <div className=\"sendbird-conversation__footer__typing-indicator\">\n          {\n            renderTypingIndicator?.() || (\n              <TypingIndicator />\n            )\n          }\n          {\n            !isOnline && (\n              <ConnectionStatus />\n            )\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChannelUI;\n","import React from 'react';\n\nimport {\n  ChannelProvider,\n  ChannelContextProps,\n} from './context/ChannelProvider';\n\nimport ChannelUI, { ChannelUIProps } from './components/ChannelUI';\nexport interface ChannelProps extends ChannelContextProps, ChannelUIProps {\n}\n\nconst Channel: React.FC<ChannelProps> = (props: ChannelProps) => {\n  return (\n    <ChannelProvider\n      channelUrl={props?.channelUrl}\n      isReactionEnabled={props?.isReactionEnabled}\n      isMessageGroupingEnabled={props?.isMessageGroupingEnabled}\n      showSearchIcon={props?.showSearchIcon}\n      highlightedMessage={props?.highlightedMessage}\n      startingPoint={props?.startingPoint}\n      onBeforeSendUserMessage={props?.onBeforeSendUserMessage}\n      onBeforeSendFileMessage={props?.onBeforeSendFileMessage}\n      onBeforeUpdateUserMessage={props?.onBeforeUpdateUserMessage}\n      onChatHeaderActionClick={props?.onChatHeaderActionClick}\n      onSearchClick={props?.onSearchClick}\n      replyType={props?.replyType}\n      queries={props?.queries}\n      renderUserProfile={props?.renderUserProfile}\n      disableUserProfile={props?.disableUserProfile}\n    >\n      <ChannelUI\n        renderPlaceholderLoader={props?.renderPlaceholderLoader}\n        renderPlaceholderInvalid={props?.renderPlaceholderInvalid}\n        renderPlaceholderEmpty={props?.renderPlaceholderEmpty}\n        renderChannelHeader={props?.renderChannelHeader}\n        renderMessage={props?.renderMessage}\n        renderMessageInput={props?.renderMessageInput}\n        renderTypingIndicator={props?.renderTypingIndicator}\n        renderCustomSeparator={props?.renderCustomSeparator}\n      />\n    </ChannelProvider>\n  );\n};\n\nexport default Channel;\n","/**\n * This is a drop in Chat solution\n * Can also be used as an example for creating\n * default chat apps\n */\nimport React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Sendbird from '../../lib/Sendbird';\n\nimport ChannelList from '../ChannelList';\nimport Channel from '../Channel';\nimport ChannelSettings from '../ChannelSettings';\nimport MessageSearchPannel from '../MessageSearch';\n\nimport './index.scss';\n\nconst FileInputContext = createContext({\n  onFilePicked: (file) => file.name,\n  externalBucketUrl: '',\n});\n\nexport { FileInputContext };\nexport default function App(props) {\n  const {\n    appId,\n    userId,\n    accessToken,\n    theme,\n    userListQuery,\n    nickname,\n    profileUrl,\n    dateLocale,\n    config = {},\n    isReactionEnabled,\n    isMentionEnabled,\n    replyType,\n    isMessageGroupingEnabled,\n    colorSet,\n    stringSet,\n    allowProfileEdit,\n    disableUserProfile,\n    renderUserProfile,\n    showSearchIcon,\n    onProfileEditSuccess,\n    imageCompression,\n    disableAutoSelect,\n    isTypingIndicatorEnabledOnChannelList,\n    isMessageReceiptStatusEnabledOnChannelList,\n    onFilePicked,\n    externalBucketUrl,\n  } = props;\n  const [currentChannelUrl, setCurrentChannelUrl] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [highlightedMessage, setHighlightedMessage] = useState(null);\n  const [startingPoint, setStartingPoint] = useState(null);\n\n  return (\n    <FileInputContext.Provider value={{ onFilePicked, externalBucketUrl }}>\n      <Sendbird\n        stringSet={stringSet}\n        appId={appId}\n        userId={userId}\n        accessToken={accessToken}\n        theme={theme}\n        nickname={nickname}\n        profileUrl={profileUrl}\n        dateLocale={dateLocale}\n        userListQuery={userListQuery}\n        config={config}\n        colorSet={colorSet}\n        disableUserProfile={disableUserProfile}\n        renderUserProfile={renderUserProfile}\n        imageCompression={imageCompression}\n        isReactionEnabled={isReactionEnabled}\n        isMentionEnabled={isMentionEnabled}\n        isTypingIndicatorEnabledOnChannelList={isTypingIndicatorEnabledOnChannelList}\n        isMessageReceiptStatusEnabledOnChannelList={isMessageReceiptStatusEnabledOnChannelList}\n      >\n        <div className=\"sendbird-app__wrap\">\n          <div className=\"sendbird-app__channellist-wrap\">\n            <ChannelList\n              allowProfileEdit={allowProfileEdit}\n              onProfileEditSuccess={onProfileEditSuccess}\n              disableAutoSelect={disableAutoSelect}\n              onChannelSelect={(channel) => {\n                setStartingPoint(null);\n                setHighlightedMessage(null);\n                if (channel?.url) {\n                  setCurrentChannelUrl(channel.url);\n                } else {\n                  setCurrentChannelUrl('');\n                }\n              }}\n            />\n          </div>\n          <div\n            className={`\n              ${showSettings ? 'sendbird-app__conversation--settings-open' : ''}\n              ${showSearch ? 'sendbird-app__conversation--search-open' : ''}\n              sendbird-app__conversation-wrap\n            `}\n          >\n            <Channel\n              channelUrl={currentChannelUrl}\n              onChatHeaderActionClick={() => {\n                setShowSearch(false);\n                setShowSettings(!showSettings);\n              }}\n              onSearchClick={() => {\n                setShowSettings(false);\n                setShowSearch(!showSearch);\n              }}\n              showSearchIcon={showSearchIcon}\n              startingPoint={startingPoint}\n              highlightedMessage={highlightedMessage}\n              isReactionEnabled={isReactionEnabled}\n              replyType={replyType}\n              isMessageGroupingEnabled={isMessageGroupingEnabled}\n            />\n          </div>\n          {showSettings && (\n            <div className=\"sendbird-app__settingspanel-wrap\">\n              <ChannelSettings\n                className=\"sendbird-channel-settings\"\n                channelUrl={currentChannelUrl}\n                onCloseClick={() => {\n                  setShowSettings(false);\n                }}\n              />\n            </div>\n          )}\n          {showSearch && (\n            <div className=\"sendbird-app__searchpanel-wrap\">\n              <MessageSearchPannel\n                channelUrl={currentChannelUrl}\n                onResultClick={(message) => {\n                  if (message.messageId === highlightedMessage) {\n                    setHighlightedMessage(null);\n                    setTimeout(() => {\n                      setHighlightedMessage(message.messageId);\n                    });\n                  } else {\n                    setStartingPoint(message.createdAt);\n                    setHighlightedMessage(message.messageId);\n                  }\n                }}\n                onCloseClick={() => {\n                  setShowSearch(false);\n                }}\n              />\n            </div>\n          )}\n        </div>\n      </Sendbird>\n    </FileInputContext.Provider>\n  );\n}\n\nApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  theme: PropTypes.string,\n  userListQuery: PropTypes.func,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  allowProfileEdit: PropTypes.bool,\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  onProfileEditSuccess: PropTypes.func,\n  dateLocale: PropTypes.shape({}),\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n  }),\n  isReactionEnabled: PropTypes.bool,\n  replyType: PropTypes.oneOf(['NONE', 'QUOTE_REPLY', 'THREAD']),\n  showSearchIcon: PropTypes.bool,\n  isMessageGroupingEnabled: PropTypes.bool,\n  stringSet: PropTypes.objectOf(PropTypes.string),\n  colorSet: PropTypes.objectOf(PropTypes.string),\n  imageCompression: PropTypes.shape({\n    compressionRate: PropTypes.number,\n    resizingWidth: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n    resizingHeight: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  disableAutoSelect: PropTypes.bool,\n  isMentionEnabled: PropTypes.bool,\n  isTypingIndicatorEnabledOnChannelList: PropTypes.bool,\n  isMessageReceiptStatusEnabledOnChannelList: PropTypes.bool,\n  onFilePicked: PropTypes.any,\n  externalBucketUrl: PropTypes.string,\n};\n\nApp.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  userListQuery: null,\n  dateLocale: null,\n  allowProfileEdit: false,\n  onProfileEditSuccess: null,\n  disableUserProfile: false,\n  showSearchIcon: false,\n  renderUserProfile: null,\n  config: {},\n  isReactionEnabled: true,\n  isMentionEnabled: false,\n  replyType: 'NONE',\n  isMessageGroupingEnabled: true,\n  stringSet: null,\n  colorSet: null,\n  imageCompression: {},\n  disableAutoSelect: false,\n  isTypingIndicatorEnabledOnChannelList: false,\n  isMessageReceiptStatusEnabledOnChannelList: false,\n  onFilePicked: (file) => file.name,\n  externalBucketUrl: '',\n};\n"],"names":["S3ThumbnailMessageItemBody","_a","className","message","_c","isByMe","_d","mouseHover","showFileViewer","_e","useState","setImageRendered","React","getClassName","reactions","_b","length","isSentMessage","ImageRenderer","style","Icon","IconTypes","PHOTO","IconColors","ON_BACKGROUND_2","MessageContent","userId","channel","_g","disabled","_h","chainTop","_j","chainBottom","_k","isReactionEnabled","replyType","nicknamesMap","emojiContainer","scrollToMessage","showEdit","showRemove","resendMessage","toggleReaction","setQuoteMessage","messageTypes","getUIKitMessageTypes","dateLocale","useLocalization","config","useSendbirdStateContext","_l","useContext","UserProfileContext","disableUserProfile","renderUserProfile","externalBucketUrl","FileInputContext","avatarRef","useRef","_m","setMouseHover","_o","supposedHover","setSupposedHover","sender","sendingStatus","isByMeClassName","chainTopClassName","isReactionEnabledClassName","supposedHoverClassName","useReplying","parentMessageId","parentMessage","useReplyingClassName","isAdminMessage","call","messageType","ClientAdminMessage","ContextMenu","toggleDropdown","Avatar","members","find","member","profileUrl","closeDropdown","MenuItems","paddingTop","paddingBottom","user","close","UserProfile","MessageItemMenu","MessageItemReactionMenu","Label","LabelTypography","CAPTION_2","LabelColors","ONBACKGROUND_2","nickname","getSenderName","QuoteMessage","createdAt","MessageStatus","isTextMessage","TextMessageItemBody","isMentionEnabled","isS3ImageMessage","isOGMessage","OGMessageItemBody","getUIKitMessageType","FILE","FileMessageItemBody","isThumbnailMessage","ThumbnailMessageItemBody","UNKNOWN","UnknownMessageItemBody","_f","EmojiReactions","CAPTION_3","format","locale","Message","props","hasSeparator","handleScroll","renderCustomSeparator","renderEditInput","renderMessage","renderMessageContent","globalStore","isOnline","userMention","maxUserMentionCount","maxMentionCount","MAX_USER_MENTION_COUNT","maxUserSuggestionCount","maxSuggestionCount","MAX_USER_SUGGESTION_COUNT","useChannelContext","initialized","currentGroupChannel","highLightedMessageId","setHighLightedMessageId","animatedMessageId","setAnimatedMessageId","updateMessage","renderUserMentionItem","setShowEdit","setShowRemove","setShowFileViewer","isAnimated","setIsAnimated","isHighlighted","setIsHighlighted","mentionNickname","setMentionNickname","mentionedUsers","setMentionedUsers","mentionedUserIds","setMentionedUserIds","messageInputEvent","setMessageInputEvent","selectedUser","setSelectedUser","_p","mentionSuggestedUsers","setMentionSuggestedUsers","_q","ableMention","setAbleMention","editMessageInputRef","useMessageScrollRef","displaySuggestedMentionList","isDisabledBecauseFrozen","isDisabledBecauseMuted","useEffect","filter","i","indexOf","splice","useLayoutEffect","messageId","current","scrollIntoView","block","inline","setTimeout","renderedMessage","useMemo","renderedCustomSeparator","DateSeparator","isUserMessage","SuggestedMentionList","__spreadArray","users","MessageInput","mentionTemplate","mentionText","userIds","e","key","MessageInputKeys","Enter","ArrowUp","ArrowDown","marginBottom","RemoveMessageModal","FileViewer","SCROLL_REF_CLASS_NAME","MessageList","renderPlaceholderEmpty","allMessages","hasMorePrev","setInitialTimeStamp","isMessageGroupingEnabled","scrollRef","onScrollCallback","onScrollDownCallback","messagesDispatcher","messageActionTypes","scrollBottom","setScrollBottom","onScroll","element","target","scrollTop","clientHeight","scrollHeight","nodes","querySelectorAll","first_1","messages","error","isAboutSame","offsetHeight","type","MARK_AS_READ","payload","markAsRead","onClickScrollBot","memoizedAllMessages","map","m","idx","previousMessage","nextMessage","compareMessagesForGrouping","previousMessageCreatedAt","currentCreatedAt","isSameDay","bottom","uuidv4","PlaceHolder","PlaceHolderTypes","NO_MESSAGES","CHEVRON_DOWN","PRIMARY","MessageInputWrapper","quoteMessage","sendMessage","sendFileMessage","messageInputRef","onFilePicked","stringSet","LocalizationContext","utils","isOperator","isBroadcast","url","QuoteMessageInput","MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER","MESSAGE_INPUT__PLACE_HOLDER__DISABLED","MESSAGE_INPUT__PLACE_HOLDER__MUTED","startTyping","endTyping","file","then","result","forwardRef","ChannelUI","renderPlaceholderLoader","renderPlaceholderInvalid","renderChannelHeader","renderMessageInput","renderTypingIndicator","channelUrl","isInvalid","unreadSince","loading","unreadCount","setUnreadCount","unreadMessageCount","sdkError","stores","sdkStore","logger","NO_CHANNELS","WRONG","info","ChannelHeader","isFrozen","FrozenNotification","UnreadCount","LOADING","TypingIndicator","ConnectionStatus","Channel","ChannelProvider","showSearchIcon","highlightedMessage","startingPoint","onBeforeSendUserMessage","onBeforeSendFileMessage","onBeforeUpdateUserMessage","onChatHeaderActionClick","onSearchClick","queries","createContext","name","App","appId","accessToken","theme","userListQuery","colorSet","allowProfileEdit","onProfileEditSuccess","imageCompression","disableAutoSelect","isTypingIndicatorEnabledOnChannelList","isMessageReceiptStatusEnabledOnChannelList","currentChannelUrl","setCurrentChannelUrl","showSettings","setShowSettings","showSearch","setShowSearch","setHighlightedMessage","setStartingPoint","Sendbird","MessageSearchPannel","propTypes","PropTypes","string","isRequired","func","bool","shape","logLevel","oneOfType","arrayOf","oneOf","objectOf","compressionRate","number","resizingWidth","resizingHeight","any","defaultProps"],"mappings":"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"}