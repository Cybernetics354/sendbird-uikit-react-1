{"version":3,"file":"ChannelHeader.js","sources":["../../../../src/smart-components/Channel/components/ChannelHeader/utils.ts","../../../../src/smart-components/Channel/components/ChannelHeader/index.tsx"],"sourcesContent":["import type { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { LabelStringSet } from '../../../../ui/Label';\n\nexport const getChannelTitle = (\n  channel: GroupChannel,\n  currentUserId: string,\n  stringSet: { [label: string]: string }\n  ): string => {\n  const LABEL_STRING_SET: { [label: string]: string } = stringSet || LabelStringSet;\n  if (!channel?.name && !channel?.members) {\n    return LABEL_STRING_SET.NO_TITLE;\n  }\n  if (channel?.name && channel.name !== 'Group Channel') {\n    return channel.name;\n  }\n\n  if (channel?.members?.length === 1) {\n    return LABEL_STRING_SET.NO_MEMBERS;\n  }\n\n  return channel?.members\n    .filter(({ userId }) => userId !== currentUserId)\n    .map(({ nickname }) => (nickname || LABEL_STRING_SET.NO_NAME))\n    .join(', ');\n};\n","import './channel-header.scss';\nimport React, { useContext } from 'react';\n\nimport * as utils from './utils';\n\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport IconButton from '../../../../ui/IconButton';\nimport ChannelAvatar from '../../../../ui/ChannelAvatar/index';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelContext } from '../../context/ChannelProvider';\n\nconst ChatHeader: React.FC = () => {\n  const globalStore = useSendbirdStateContext();\n  const userId = globalStore?.config?.userId;\n  const theme = globalStore?.config?.theme;\n\n  const channelStore = useChannelContext();\n  const {\n    currentGroupChannel,\n    showSearchIcon,\n    onSearchClick,\n    onChatHeaderActionClick,\n  } = channelStore;\n  const subTitle = (currentGroupChannel?.members\n    && currentGroupChannel?.members?.length !== 2);\n  const isMuted = currentGroupChannel?.myMutedState === \"muted\";\n\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-chat-header\">\n      <div className=\"sendbird-chat-header__left\">\n        <ChannelAvatar\n          theme={theme}\n          channel={currentGroupChannel}\n          userId={userId}\n          height={32}\n          width={32}\n        />\n        <Label\n          className=\"sendbird-chat-header__left__title\"\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {utils.getChannelTitle(currentGroupChannel, userId, stringSet)}\n        </Label>\n        <Label\n          className=\"sendbird-chat-header__left__subtitle\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {subTitle}\n        </Label>\n      </div>\n      <div className=\"sendbird-chat-header__right\">\n        {\n          ((typeof isMuted === 'string' && isMuted === 'true') || (typeof isMuted === 'boolean' && isMuted))\n            && (\n              <Icon\n                className=\"sendbird-chat-header__right__mute\"\n                type={IconTypes.NOTIFICATIONS_OFF_FILLED}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            )\n        }\n        {\n          showSearchIcon && (\n            <IconButton\n              className=\"sendbird-chat-header__right__search\"\n              width=\"32px\"\n              height=\"32px\"\n              onClick={onSearchClick}\n            >\n              <Icon\n                type={IconTypes.SEARCH}\n                fillColor={IconColors.PRIMARY}\n                width=\"24px\"\n                height=\"24px\"\n              />\n            </IconButton>\n          )\n        }\n        <IconButton\n          className=\"sendbird-chat-header__right__info\"\n          width=\"32px\"\n          height=\"32px\"\n          onClick={onChatHeaderActionClick}\n        >\n          <Icon\n            type={IconTypes.INFO}\n            fillColor={IconColors.PRIMARY}\n            width=\"24px\"\n            height=\"24px\"\n          />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatHeader;\n"],"names":["getChannelTitle","channel","currentUserId","stringSet","LABEL_STRING_SET","LabelStringSet","name","members","NO_TITLE","length","NO_MEMBERS","filter","_a","userId","map","nickname","NO_NAME","join","ChatHeader","globalStore","useSendbirdStateContext","config","theme","channelStore","useChannelContext","currentGroupChannel","showSearchIcon","onSearchClick","onChatHeaderActionClick","subTitle","isMuted","myMutedState","useContext","LocalizationContext","React","ChannelAvatar","Label","LabelTypography","H_2","LabelColors","ONBACKGROUND_1","utils","BODY_1","ONBACKGROUND_2","Icon","IconTypes","NOTIFICATIONS_OFF_FILLED","IconButton","SEARCH","IconColors","PRIMARY","INFO"],"mappings":"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"}