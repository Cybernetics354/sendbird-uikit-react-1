{"version":3,"file":"LeaveChannel.js","sources":["../../../../src/smart-components/ChannelSettings/components/LeaveChannel/index.tsx"],"sourcesContent":["import React from 'react';\n\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\nimport { noop } from '../../../../utils/utils';\n\nimport Modal from '../../../../ui/Modal';\n\nexport type LeaveChannelProps = {\n  onSubmit: () => void;\n  onCancel: () => void;\n}\n\nconst LeaveChannel: React.FC<LeaveChannelProps> = (props: LeaveChannelProps) => {\n  const {\n    onSubmit = noop,\n    onCancel = noop,\n  } = props;\n\n  const channel = useChannelSettingsContext()?.channel;\n  const state = useSendbirdStateContext();\n  const logger = state?.config?.logger;\n  const isOnline = state?.config?.isOnline;\n  if (channel) {\n    return (\n      <Modal\n        disabled={!isOnline}\n        onCancel={onCancel}\n        onSubmit={() => {\n          logger.info('ChannelSettings: Leaving channel', channel);\n          channel?.leave()\n            .then(() => {\n              logger.info('ChannelSettings: Leaving channel successful!', channel);\n              onSubmit();\n            });\n        }}\n        submitText=\"Leave\"\n        titleText=\"Leave this channel?\"\n      />\n    );\n  }\n};\n\nexport default LeaveChannel;\n"],"names":["LeaveChannel","props","_d","onSubmit","noop","_e","onCancel","channel","useChannelSettingsContext","state","useSendbirdStateContext","logger","config","isOnline","React","Modal","info","leave","then"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;IAaMA,YAAY,GAAgC,UAACC,KAAD;;;EAE9C,IAAAC,KAEED,KAAK,SAFP;MAAAE,QAAQ,mBAAGC,eAAX;MACAC,KACEJ,KAAK,SAFP;MACAK,QAAQ,mBAAGF,eADX;EAIF,IAAMG,OAAO,GAAG,MAAAC,iDAAyB,EAAzB,UAAA,iBAAA,SAAA,MAA6BD,OAA7C;EACA,IAAME,KAAK,GAAGC,uBAAuB,EAArC;EACA,IAAMC,MAAM,GAAG,MAAAF,KAAK,SAAL,IAAAA,KAAK,WAAL,SAAA,GAAAA,KAAK,CAAEG,MAAP,UAAA,iBAAA,SAAA,MAAeD,MAA9B;EACA,IAAME,QAAQ,GAAG,MAAAJ,KAAK,SAAL,IAAAA,KAAK,WAAL,SAAA,GAAAA,KAAK,CAAEG,MAAP,UAAA,iBAAA,SAAA,MAAeC,QAAhC;;EACA,IAAIN,OAAJ,EAAa;IACX,oBACEO,wCAACC,mBAAD;MACE,QAAQ,EAAE,CAACF,QADb;MAEE,QAAQ,EAAEP,QAFZ;MAGE,QAAQ,EAAE;QACRK,MAAM,CAACK,IAAP,CAAY,kCAAZ,EAAgDT,OAAhD;QACAA,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEU,KAAT,GACGC,IADH,CACQ;UACJP,MAAM,CAACK,IAAP,CAAY,8CAAZ,EAA4DT,OAA5D;UACAJ,QAAQ;SAHZ,CAAA;OALJ;MAWE,UAAU,EAAC,OAXb;MAYE,SAAS,EAAC;MAbd;;AAiBH;;;;"}