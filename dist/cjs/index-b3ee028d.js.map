{"version":3,"file":"index-b3ee028d.js","sources":["../../src/ui/S3ThumbnailMessageItemBody/index.tsx","../../src/ui/MessageContent/index.tsx","../../src/smart-components/Channel/components/Message/index.tsx","../../src/smart-components/Channel/components/MessageList/index.tsx","../../src/smart-components/Channel/components/MessageInput/index.tsx","../../src/smart-components/Channel/components/ChannelUI/index.tsx","../../src/smart-components/Channel/index.tsx","../../src/smart-components/App/index.jsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useState } from 'react';\nimport type { UserMessage } from '@sendbird/chat/message';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isSentMessage } from '../../utils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n}\n\nexport default function S3ThumbnailMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  showFileViewer,\n}: Props): ReactElement {\n  const [imageRendered, setImageRendered] = useState(false);\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        message?.reactions?.length > 0 ? 'reactions' : '',\n      ])}\n      onClick={() => {\n        if (isSentMessage(message)) {\n          showFileViewer(true);\n        }\n      }}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={message.message}\n        alt={message.message}\n        width=\"360px\"\n        height=\"270px\"\n        onLoad={() => { setImageRendered(true) }}\n        placeHolder={(style) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style}\n          >\n            <div className=\"sendbird-thumbnail-message-item-body__placeholder__icon\">\n              <Icon\n                type={IconTypes.PHOTO}\n                fillColor={IconColors.ON_BACKGROUND_2}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )}\n      />\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport UserProfile from '../UserProfile';\nimport MessageStatus from '../MessageStatus';\nimport MessageItemMenu from '../MessageItemMenu';\nimport MessageItemReactionMenu from '../MessageItemReactionMenu';\nimport ContextMenu, { MenuItems } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport EmojiReactions from '../EmojiReactions';\n\nimport ClientAdminMessage from '../AdminMessage';\nimport TextMessageItemBody from '../TextMessageItemBody';\nimport FileMessageItemBody from '../FileMessageItemBody';\nimport ThumbnailMessageItemBody from '../ThumbnailMessageItemBody';\nimport S3ThumbnailMessageItemBody from '../S3ThumbnailMessageItemBody';\nimport OGMessageItemBody from '../OGMessageItemBody';\nimport UnknownMessageItemBody from '../UnknownMessageItemBody';\nimport QuoteMessage from '../QuoteMessage';\n\nimport {\n  getClassName,\n  getUIKitMessageTypes,\n  getUIKitMessageType,\n  isTextMessage,\n  isOGMessage,\n  isThumbnailMessage,\n  getSenderName,\n  isS3ImageMessage,\n} from '../../utils';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport { ReplyType } from '../../module.js';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../hooks/useSendbirdStateContext';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { EmojiContainer } from '@sendbird/chat';\nimport { AdminMessage, FileMessage, UserMessage } from '@sendbird/chat/message';\nimport { FileInputContext } from '../../smart-components/App';\n\ninterface Props {\n  className?: string | Array<string>;\n  userId: string;\n  channel: GroupChannel;\n  message: AdminMessage | UserMessage | FileMessage;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  isReactionEnabled?: boolean;\n  replyType?: ReplyType;\n  nicknamesMap?: Map<string, string>;\n  emojiContainer?: EmojiContainer;\n  scrollToMessage?: (createdAt: number, messageId: number) => void;\n  showEdit?: (bool: boolean) => void;\n  showRemove?: (bool: boolean) => void;\n  showFileViewer?: (bool: boolean) => void;\n  resendMessage?: (message: UserMessage | FileMessage) => Promise<UserMessage | FileMessage>;\n  toggleReaction?: (message: UserMessage | FileMessage, reactionKey: string, isReacted: boolean) => void;\n  setQuoteMessage?: (message: UserMessage | FileMessage) => void;\n}\nexport default function MessageContent({\n  className,\n  userId,\n  channel,\n  message,\n  disabled = false,\n  chainTop = false,\n  chainBottom = false,\n  isReactionEnabled = false,\n  replyType,\n  nicknamesMap,\n  emojiContainer,\n  scrollToMessage,\n  showEdit,\n  showRemove,\n  showFileViewer,\n  resendMessage,\n  toggleReaction,\n  setQuoteMessage,\n}: Props): ReactElement {\n  const messageTypes = getUIKitMessageTypes();\n  const { dateLocale } = useLocalization();\n  const { config } = useSendbirdStateContext?.() || {};\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const { externalBucketUrl, renderCustomMessage } = useContext<FileInputContext>(FileInputContext);\n  const avatarRef = useRef(null);\n  const [mouseHover, setMouseHover] = useState(false);\n  const [supposedHover, setSupposedHover] = useState(false);\n\n  const isByMe = (userId === (message as UserMessage | FileMessage)?.sender?.userId)\n    || ((message as UserMessage | FileMessage).sendingStatus === 'pending')\n    || ((message as UserMessage | FileMessage).sendingStatus === 'failed');\n  const isByMeClassName = isByMe ? 'outgoing' : 'incoming';\n  const chainTopClassName = chainTop ? 'chain-top' : '';\n  const isReactionEnabledClassName = isReactionEnabled ? 'use-reactions' : '';\n  const supposedHoverClassName = supposedHover ? 'supposed-hover' : '';\n  const useReplying = !!((replyType === 'QUOTE_REPLY') && message?.parentMessageId && message?.parentMessage);\n  const useReplyingClassName = useReplying ? 'use-quote' : '';\n\n  if (message?.isAdminMessage?.() || message?.messageType === 'admin') {\n    return (<ClientAdminMessage message={message} />);\n  }\n\n  function RenderMessageContent() {\n    const renderedItem = renderCustomMessage({\n      className: \"sendbird-message-content__middle__message-item-body\",\n      isMentionEnabled: config?.isMentionEnabled || false,\n      message,\n      isByMe,\n      mouseHover,\n      showFileViewer,\n    });\n\n    if (renderedItem) {\n      return <div>{ renderedItem }</div>\n    }\n\n    return <div>\n      {isTextMessage(message as UserMessage, externalBucketUrl) && (\n        <TextMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as UserMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n          isMentionEnabled={config?.isMentionEnabled || false}\n        />\n      )}\n      {(isS3ImageMessage(message as UserMessage, externalBucketUrl)) && (\n        <S3ThumbnailMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as UserMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n          showFileViewer={showFileViewer}\n        />\n      )}\n      {(isOGMessage(message as UserMessage)) && (\n        <OGMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as UserMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n          isMentionEnabled={config?.isMentionEnabled || false}\n        />\n      )}\n      {(getUIKitMessageType((message as FileMessage)) === messageTypes.FILE) && (\n        <FileMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as FileMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n        />\n      )}\n      {(isThumbnailMessage(message as FileMessage)) && (\n        <ThumbnailMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as FileMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n          showFileViewer={showFileViewer}\n        />\n      )}\n      {(getUIKitMessageType((message as FileMessage)) === messageTypes.UNKNOWN) && (\n        <UnknownMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n        />\n      )}\n    </div>\n  }\n\n  return (\n    <div\n      className={getClassName([className, 'sendbird-message-content', isByMeClassName])}\n      onMouseOver={() => setMouseHover(true)}\n      onMouseLeave={() => setMouseHover(false)}\n    >\n      {/* left */}\n      <div className={getClassName(['sendbird-message-content__left', isReactionEnabledClassName, isByMeClassName, useReplyingClassName])}>\n        {(!isByMe && !chainBottom) && (\n          /** user profile */\n          <ContextMenu\n            menuTrigger={(toggleDropdown: () => void): ReactElement => (\n              <Avatar\n                className=\"sendbird-message-content__left__avatar\"\n                // @ts-ignore\n                src={channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.profileUrl || message?.sender?.profileUrl || ''}\n                // TODO: Divide getting profileUrl logic to utils\n                ref={avatarRef}\n                width=\"28px\"\n                height=\"28px\"\n                onClick={(): void => { if (!disableUserProfile) toggleDropdown() }}\n              />\n            )}\n            menuItems={(closeDropdown: () => void): ReactElement => (\n              <MenuItems\n                /**\n                * parentRef: For catching location(x, y) of MenuItems\n                * parentContainRef: For toggling more options(menus & reactions)\n                */\n                parentRef={avatarRef}\n                parentContainRef={avatarRef}\n                closeDropdown={closeDropdown}\n                style={{ paddingTop: 0, paddingBottom: 0 }}\n              >\n                {renderUserProfile\n                  // @ts-ignore\n                  ? renderUserProfile({ user: message?.sender, close: closeDropdown })\n                  // @ts-ignore\n                  : (<UserProfile user={message.sender} onSuccess={closeDropdown} />)\n                }\n              </MenuItems>\n            )}\n          />\n        )}\n        {/* outgoing menu */}\n        {isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', isReactionEnabledClassName, supposedHoverClassName, isByMeClassName])}>\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n          </div>\n        )}\n      </div>\n      {/* middle */}\n      <div className=\"sendbird-message-content__middle\">\n        {(!isByMe && !chainTop && !useReplying) && (\n          <Label\n            className=\"sendbird-message-content__middle__sender-name\"\n            type={LabelTypography.CAPTION_2}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {\n              // @ts-ignore\n              channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.nickname\n              || getSenderName(message as UserMessage | FileMessage)\n              // TODO: Divide getting profileUrl logic to utils\n            }\n          </Label>\n        )}\n        {/* quote message */}\n        {(useReplying) ? (\n          <div className={getClassName(['sendbird-message-content__middle__quote-message', isByMe ? 'outgoing' : 'incoming', useReplyingClassName])}>\n            <QuoteMessage\n              message={message as UserMessage | FileMessage}\n              userId={userId}\n              isByMe={isByMe}\n              onClick={() => {\n                if (message?.parentMessage?.createdAt && message?.parentMessageId) {\n                  scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                }\n              }}\n            />\n          </div>\n        ) : null}\n        {/* container: message item body + emoji reactions */}\n        <div className={getClassName(['sendbird-message-content__middle__body-container'])} >\n          {/* message status component */}\n          {(isByMe && !chainBottom) && (\n            <div className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'left', supposedHoverClassName])}>\n              <div className=\"sendbird-message-content__middle__body-container__created-at__component-container\">\n                <MessageStatus\n                  message={message as UserMessage | FileMessage}\n                  channel={channel}\n                />\n              </div>\n            </div>\n          )}\n          {/* message item body components */}\n          <RenderMessageContent />\n          {/* reactions */}\n          {(isReactionEnabled && message?.reactions?.length > 0) && (\n            <div className={getClassName([\n              'sendbird-message-content-reactions',\n              (!isByMe || isThumbnailMessage(message as FileMessage) || isOGMessage(message as UserMessage)) ? '' : 'primary',\n              mouseHover ? 'mouse-hover' : '',\n            ])}>\n              <EmojiReactions\n                userId={userId}\n                message={message as UserMessage | FileMessage}\n                isByMe={isByMe}\n                emojiContainer={emojiContainer}\n                memberNicknamesMap={nicknamesMap}\n                toggleReaction={toggleReaction}\n              />\n            </div>\n          )}\n          {(!isByMe && !chainBottom) && (\n            <Label\n              className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'right', supposedHoverClassName])}\n              type={LabelTypography.CAPTION_3}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {format(message?.createdAt || 0, 'p', {\n                locale: dateLocale,\n              })}\n            </Label>\n          )}\n        </div>\n      </div>\n      {/* right */}\n      <div className={getClassName(['sendbird-message-content__right', chainTopClassName, isReactionEnabledClassName, useReplyingClassName])}>\n        {/* incoming menu */}\n        {!isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', chainTopClassName, supposedHoverClassName, isByMeClassName])}>\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, {\n  useRef,\n  useMemo,\n  useState,\n  useEffect,\n  useLayoutEffect,\n} from 'react';\nimport type { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\n\nimport SuggestedMentionList from '../SuggestedMentionList';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport { getClassName } from '../../../../utils';\nimport { isDisabledBecauseFrozen, isDisabledBecauseMuted } from '../../context/utils';\nimport { MAX_USER_MENTION_COUNT, MAX_USER_SUGGESTION_COUNT } from '../../context/const';\n\nimport DateSeparator from '../../../../ui/DateSeparator';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport MessageInput from '../../../../ui/MessageInput';\nimport MessageContent from '../../../../ui/MessageContent';\nimport FileViewer from '../FileViewer';\nimport RemoveMessageModal from '../RemoveMessageModal';\nimport { MessageInputKeys } from '../../../../ui/MessageInput/const';\nimport { EveryMessage, RenderMessageProps } from '../../../../types';\nimport { useLocalization } from '../../../../lib/LocalizationContext';\n\ntype MessageUIProps = {\n  message: EveryMessage;\n  hasSeparator?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  handleScroll: () => void;\n  // for extending\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderCustomSeparator?: () => React.ReactElement;\n  renderEditInput?: () => React.ReactElement;\n  renderMessageContent?: () => React.ReactElement;\n};\n\nconst Message = (props: MessageUIProps): React.FC<MessageUIProps> | React.ReactElement => {\n  const {\n    message,\n    hasSeparator,\n    chainTop,\n    chainBottom,\n    handleScroll,\n    renderCustomSeparator,\n    renderEditInput,\n    renderMessage,\n    renderMessageContent,\n  } = props;\n\n  const { dateLocale } = useLocalization();\n  const globalStore = useSendbirdStateContext();\n  const {\n    userId,\n    isOnline,\n    isMentionEnabled,\n    userMention,\n  } = globalStore?.config;\n  const maxUserMentionCount = userMention?.maxMentionCount || MAX_USER_MENTION_COUNT;\n  const maxUserSuggestionCount = userMention?.maxSuggestionCount || MAX_USER_SUGGESTION_COUNT;\n\n  const {\n    initialized,\n    currentGroupChannel,\n    highLightedMessageId,\n    setHighLightedMessageId,\n    animatedMessageId,\n    setAnimatedMessageId,\n    updateMessage,\n    scrollToMessage,\n    replyType,\n    isReactionEnabled,\n    toggleReaction,\n    emojiContainer,\n    nicknamesMap,\n    setQuoteMessage,\n    resendMessage,\n    renderUserMentionItem,\n  } = useChannelContext();\n\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const [isHighlighted, setIsHighlighted] = useState(false);\n  const [mentionNickname, setMentionNickname] = useState('');\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [mentionedUserIds, setMentionedUserIds] = useState([]);\n  const [messageInputEvent, setMessageInputEvent] = useState(null);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [mentionSuggestedUsers, setMentionSuggestedUsers] = useState([]);\n  const [ableMention, setAbleMention] = useState(true);\n  const editMessageInputRef = useRef(null);\n  const useMessageScrollRef = useRef(null);\n  const displaySuggestedMentionList = isOnline\n    && isMentionEnabled\n    && mentionNickname.length > 0\n    && !isDisabledBecauseFrozen(currentGroupChannel)\n    && !isDisabledBecauseMuted(currentGroupChannel);\n  const disabled = !initialized\n    || isDisabledBecauseFrozen(currentGroupChannel)\n    || isDisabledBecauseMuted(currentGroupChannel)\n    || !isOnline;\n\n  useEffect(() => {\n    if (mentionedUsers?.length >= maxUserMentionCount) {\n      setAbleMention(false);\n    } else {\n      setAbleMention(true);\n    }\n  }, [mentionedUsers]);\n\n  useEffect(() => {\n    setMentionedUsers(mentionedUsers.filter(({ userId }) => {\n      const i = mentionedUserIds.indexOf(userId);\n      if (i < 0) {\n        return false;\n      } else {\n        mentionedUserIds.splice(i, 1);\n        return true;\n      }\n    }));\n  }, [mentionedUserIds]);\n\n  useLayoutEffect(() => {\n    handleScroll?.();\n  }, [showEdit, message?.reactions?.length]);\n\n  useLayoutEffect(() => {\n    if (highLightedMessageId === message.messageId) {\n      if (useMessageScrollRef && useMessageScrollRef.current) {\n        useMessageScrollRef.current.scrollIntoView({ block: 'center', inline: 'center' });\n        setIsAnimated(false);\n        setTimeout(() => {\n          setIsHighlighted(true);\n        }, 500);\n        setTimeout(() => {\n          setHighLightedMessageId(0);\n        }, 1600);\n      }\n    } else {\n      setIsHighlighted(false);\n    }\n  }, [highLightedMessageId, useMessageScrollRef.current, message.messageId]);\n\n  useLayoutEffect(() => {\n    if (animatedMessageId === message.messageId) {\n      if (useMessageScrollRef && useMessageScrollRef.current) {\n        useMessageScrollRef.current.scrollIntoView({ block: 'center', inline: 'center' });\n        setIsHighlighted(false);\n        setTimeout(() => {\n          setIsAnimated(true);\n        }, 500);\n        setTimeout(() => {\n          setAnimatedMessageId(0);\n        }, 1600);\n      }\n    } else {\n      setIsAnimated(false);\n    }\n  }, [animatedMessageId, useMessageScrollRef.current, message.messageId]);\n  const renderedMessage = useMemo(() => {\n    return renderMessage?.({\n      message,\n      chainTop,\n      chainBottom,\n    });\n  }, [message, renderMessage]);\n  const renderedCustomSeparator = useMemo(() => {\n    if (renderCustomSeparator) {\n      return renderCustomSeparator?.();\n    }\n    return null;\n  }, [message, renderCustomSeparator]);\n\n  if (renderedMessage) {\n    return (\n      <div\n        ref={useMessageScrollRef}\n        className={getClassName([\n          'sendbird-msg-hoc sendbird-msg--scroll-ref',\n          isAnimated ? 'sendbird-msg-hoc__animated' : '',\n          isHighlighted ? 'sendbird-msg-hoc__highlighted' : '',\n        ])}\n      >\n        {/* date-separator */}\n        {\n          // TODO: Add message instance as a function parameter\n          hasSeparator && (renderedCustomSeparator || (\n            <DateSeparator>\n              <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n                {format(message.createdAt, 'MMMM dd, yyyy', {\n                  locale: dateLocale,\n                })}\n              </Label>\n            </DateSeparator>\n          ))\n        }\n        {renderedMessage}\n      </div>\n    );\n  }\n\n  if (showEdit && message.isUserMessage()) {\n    return renderEditInput?.() || (\n      <>\n        {\n          displaySuggestedMentionList && (\n            <SuggestedMentionList\n              targetNickname={mentionNickname}\n              inputEvent={messageInputEvent}\n              renderUserMentionItem={renderUserMentionItem}\n              onUserItemClick={(user) => {\n                if (user) {\n                  setMentionedUsers([...mentionedUsers, user]);\n                }\n                setMentionNickname('');\n                setSelectedUser(user);\n                setMessageInputEvent(null);\n              }}\n              onFocusItemChange={() => {\n                setMessageInputEvent(null);\n              }}\n              onFetchUsers={(users) => {\n                setMentionSuggestedUsers(users);\n              }}\n              ableAddMention={ableMention}\n              maxMentionCount={maxUserMentionCount}\n              maxSuggestionCount={maxUserSuggestionCount}\n            />\n          )\n        }\n        <MessageInput\n          isEdit\n          disabled={disabled}\n          ref={editMessageInputRef}\n          mentionSelectedUser={selectedUser}\n          isMentionEnabled={isMentionEnabled}\n          message={message}\n          onUpdateMessage={({ messageId, message, mentionTemplate }) => {\n            updateMessage({\n              messageId,\n              message,\n              mentionedUsers,\n              mentionTemplate,\n            });\n            setShowEdit(false);\n          }}\n          onCancelEdit={() => {\n            setMentionNickname('');\n            setMentionedUsers([]);\n            setMentionedUserIds([]);\n            setMentionSuggestedUsers([])\n            setShowEdit(false);\n          }}\n          onUserMentioned={(user) => {\n            if (selectedUser?.userId === user?.userId) {\n              setSelectedUser(null);\n              setMentionNickname('');\n            }\n          }}\n          onMentionStringChange={(mentionText) => {\n            setMentionNickname(mentionText);\n          }}\n          onMentionedUserIdsUpdated={(userIds) => {\n            setMentionedUserIds(userIds);\n          }}\n          onKeyDown={(e) => {\n            if (displaySuggestedMentionList && mentionSuggestedUsers?.length > 0\n              && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)\n            ) {\n              setMessageInputEvent(e);\n              return true;\n            }\n            return false;\n          }}\n        />\n      </>\n    );\n  }\n\n  return (\n    <div\n      className={getClassName([\n        'sendbird-msg-hoc sendbird-msg--scroll-ref',\n        isAnimated ? 'sendbird-msg-hoc__animated' : '',\n        isHighlighted ? 'sendbird-msg-hoc__highlighted' : '',\n      ])}\n      style={{ marginBottom: '2px' }}\n      ref={useMessageScrollRef}\n    >\n      {/* date-separator */}\n      {\n        hasSeparator && (renderedCustomSeparator || (\n          <DateSeparator>\n            <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n              {format(message.createdAt, 'MMMM dd, yyyy', {\n                locale: dateLocale,\n              })}\n            </Label>\n          </DateSeparator>\n        ))\n      }\n      {/* Message */}\n      {\n        renderMessageContent?.() || (\n          <MessageContent\n            className=\"sendbird-message-hoc__message-content\"\n            userId={userId}\n            scrollToMessage={scrollToMessage}\n            channel={currentGroupChannel}\n            message={message}\n            disabled={!isOnline}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n            isReactionEnabled={isReactionEnabled}\n            replyType={replyType}\n            nicknamesMap={nicknamesMap}\n            emojiContainer={emojiContainer}\n            showEdit={setShowEdit}\n            showRemove={setShowRemove}\n            showFileViewer={setShowFileViewer}\n            resendMessage={resendMessage}\n            toggleReaction={toggleReaction}\n            setQuoteMessage={setQuoteMessage}\n          />\n        )\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            message={message}\n            onCancel={() => setShowRemove(false)}\n          />\n        )\n      }\n      {\n        showFileViewer && (\n          <FileViewer\n            message={message as FileMessage}\n            onCancel={() => setShowFileViewer(false)}\n          />\n        )\n      }\n    </div>\n  );\n};\n\nexport default Message;\n","import './message-list.scss';\n\nimport React, { useState, useMemo } from 'react';\nimport isSameDay from 'date-fns/isSameDay';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport { compareMessagesForGrouping } from '../../context/utils';\nimport Message from '../Message';\nimport { RenderMessageProps } from '../../../../types';\nimport { isAboutSame } from '../../context/utils';\nimport uuidv4 from '../../../../utils/uuid';\n\nexport type MessageListProps = {\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderPlaceholderEmpty?: () => React.ReactElement;\n  renderCustomSeparator?: () => React.ReactElement;\n};\n\nconst SCROLL_REF_CLASS_NAME = '.sendbird-msg--scroll-ref';\n\nconst MessageList: React.FC<MessageListProps> = (props: MessageListProps) => {\n  const {\n    renderMessage,\n    renderPlaceholderEmpty,\n    renderCustomSeparator,\n  } = props;\n  const {\n    allMessages,\n    hasMorePrev,\n    setInitialTimeStamp,\n    setAnimatedMessageId,\n    setHighLightedMessageId,\n    isMessageGroupingEnabled,\n    scrollRef,\n    onScrollCallback,\n    onScrollDownCallback,\n    messagesDispatcher,\n    messageActionTypes,\n    currentGroupChannel,\n  } = useChannelContext();\n  const [scrollBottom, setScrollBottom] = useState(0);\n\n  const onScroll = (e) => {\n    const element = e.target;\n    const {\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    } = element;\n\n    if (scrollTop === 0) {\n      if (!hasMorePrev) {\n        return;\n      }\n      const nodes = scrollRef.current.querySelectorAll(SCROLL_REF_CLASS_NAME);\n      const first = nodes && nodes[0];\n      onScrollCallback(([messages]) => {\n        if (messages) {\n          // https://github.com/scabbiaza/react-scroll-position-on-updating-dom\n          // Set block to nearest to prevent unexpected scrolling from outer components\n          try {\n            first.scrollIntoView({ block: \"start\", inline: \"nearest\" });\n          } catch (error) {\n            //\n          }\n        }\n      });\n    }\n\n    if (isAboutSame(clientHeight + scrollTop, scrollHeight, 10)) {\n      onScrollDownCallback(([messages]) => {\n        if (messages) {\n          try {\n            element.scrollTop = scrollHeight - clientHeight;\n          } catch (error) {\n            //\n          }\n        }\n      });\n    }\n\n    // save the lastest scroll bottom value\n    if (scrollRef?.current) {\n      const current = scrollRef?.current;\n      setScrollBottom(current.scrollHeight - current.scrollTop - current.offsetHeight)\n    }\n\n    // do this later\n    setTimeout(() => {\n      // mark as read if scroll is at end\n      if (clientHeight + scrollTop === scrollHeight) {\n        messagesDispatcher({\n          type: messageActionTypes.MARK_AS_READ,\n          payload: { channel: currentGroupChannel },\n        });\n        currentGroupChannel?.markAsRead();\n      }\n    }, 500);\n  };\n\n  const onClickScrollBot = () => {\n    setInitialTimeStamp?.(null);\n    setAnimatedMessageId?.(null);\n    setHighLightedMessageId?.(null);\n    if (scrollRef?.current?.scrollTop > -1) {\n      scrollRef.current.scrollTop = scrollRef?.current?.scrollHeight - scrollRef?.current?.offsetHeight;\n    }\n  };\n\n  // Because every message components are re-rendered everytime by every scroll events\n  const memoizedAllMessages = useMemo(() => {\n    return (\n      allMessages.map((m, idx) => {\n        const previousMessage = allMessages[idx - 1];\n        const nextMessage = allMessages[idx + 1];\n        const [chainTop, chainBottom] = isMessageGroupingEnabled\n          ? compareMessagesForGrouping(previousMessage, m, nextMessage)\n          : [false, false];\n        const previousMessageCreatedAt = previousMessage?.createdAt;\n        const currentCreatedAt = m.createdAt;\n        // https://stackoverflow.com/a/41855608\n        const hasSeparator = !(previousMessageCreatedAt && (\n          isSameDay(currentCreatedAt, previousMessageCreatedAt)\n        ));\n\n        const handleScroll = () => {\n          const current = scrollRef?.current;\n          if (current) {\n            const bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n            if (scrollBottom < bottom) {\n              current.scrollTop += bottom - scrollBottom;\n            }\n          }\n        }\n\n        return (\n          <Message\n            handleScroll={handleScroll}\n            renderMessage={renderMessage}\n            message={m}\n            hasSeparator={hasSeparator}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n            renderCustomSeparator={renderCustomSeparator}\n            key={m.messageId + uuidv4()}\n          />\n        );\n      })\n    );\n  }, [allMessages]);\n\n  if (allMessages.length < 1) {\n    return (\n      <>\n        {\n          renderPlaceholderEmpty?.() || (\n            <PlaceHolder\n              className=\"sendbird-conversation__no-messages\"\n              type={PlaceHolderTypes.NO_MESSAGES}\n            />)\n        }\n      </>\n    );\n  }\n  return (\n    <div className=\"sendbird-conversation__messages\">\n      <div className=\"sendbird-conversation__scroll-container\">\n        <div className=\"sendbird-conversation__padding\" />\n        <div\n          className=\"sendbird-conversation__messages-padding\"\n          ref={scrollRef}\n          onScroll={onScroll}\n        >\n          {memoizedAllMessages}\n        </div>\n      </div>\n      {\n        // This flag is an unmatched variable\n        (scrollBottom > 1) && (\n          <div\n            className=\"sendbird-conversation__scroll-bottom-button\"\n            onClick={onClickScrollBot}\n            onKeyDown={onClickScrollBot}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <Icon\n              width=\"24px\"\n              height=\"24px\"\n              type={IconTypes.CHEVRON_DOWN}\n              fillColor={IconColors.PRIMARY}\n            />\n          </div>\n        )\n      }\n    </div>\n  );\n};\n\nexport default MessageList;\n","import type { User } from \"@sendbird/chat\";\n\nimport React, { useState, useContext, useEffect } from \"react\";\n\nimport \"./message-input.scss\";\nimport * as utils from \"../../context/utils\";\n\nimport MessageInput from \"../../../../ui/MessageInput\";\nimport QuoteMessageInput from \"../../../../ui/QuoteMessageInput\";\nimport { LocalizationContext } from \"../../../../lib/LocalizationContext\";\nimport { useChannelContext } from \"../../context/ChannelProvider\";\nimport useSendbirdStateContext from \"../../../../hooks/useSendbirdStateContext\";\nimport SuggestedMentionList from \"../SuggestedMentionList\";\nimport { MessageInputKeys } from \"../../../../ui/MessageInput/const\";\nimport { FileInputContext } from \"../../../../smart-components/App\";\n\nconst MessageInputWrapper = (): JSX.Element => {\n  const {\n    currentGroupChannel,\n    initialized,\n    quoteMessage,\n    sendMessage,\n    sendFileMessage,\n    setQuoteMessage,\n    messageInputRef,\n    renderUserMentionItem,\n  } = useChannelContext();\n  const globalStore = useSendbirdStateContext();\n  const channel = currentGroupChannel;\n\n  const { isOnline, isMentionEnabled, userMention } = globalStore?.config;\n  const maxUserMentionCount = userMention?.maxMentionCount || 10;\n  const maxUserSuggestionCount = userMention?.maxSuggestionCount || 15;\n\n  const { onFilePicked } = useContext<FileInputContext>(FileInputContext);\n  const { stringSet } = useContext(LocalizationContext);\n  const [mentionNickname, setMentionNickname] = useState(\"\");\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [mentionedUserIds, setMentionedUserIds] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [mentionSuggestedUsers, setMentionSuggestedUsers] = useState([]);\n  const [ableMention, setAbleMention] = useState(true);\n  const [messageInputEvent, setMessageInputEvent] = useState(null);\n  const disabled =\n    !initialized ||\n    utils.isDisabledBecauseFrozen(channel) ||\n    utils.isDisabledBecauseMuted(channel) ||\n    !isOnline;\n  const isOperator = utils.isOperator(channel);\n  const isBroadcast = channel?.isBroadcast;\n\n  const displaySuggestedMentionList =\n    isOnline &&\n    isMentionEnabled &&\n    mentionNickname.length > 0 &&\n    !utils.isDisabledBecauseFrozen(channel) &&\n    !utils.isDisabledBecauseMuted(channel);\n\n  // Reset when channel changes\n  useEffect(() => {\n    setMentionNickname(\"\");\n    setMentionedUsers([]);\n    setMentionedUserIds([]);\n    setSelectedUser(null);\n    setMentionSuggestedUsers([]);\n    setAbleMention(true);\n    setMessageInputEvent(null);\n  }, [channel?.url]);\n\n  useEffect(() => {\n    if (mentionedUsers?.length >= maxUserMentionCount) {\n      setAbleMention(false);\n    } else {\n      setAbleMention(true);\n    }\n  }, [mentionedUsers]);\n\n  useEffect(() => {\n    setMentionedUsers(\n      mentionedUsers.filter(({ userId }) => {\n        const i = mentionedUserIds.indexOf(userId);\n        if (i < 0) {\n          return false;\n        } else {\n          mentionedUserIds.splice(i, 1);\n          return true;\n        }\n      })\n    );\n  }, [mentionedUserIds]);\n\n  // broadcast channel + not operator\n  if (isBroadcast && !isOperator) {\n    return null;\n  }\n  // other conditions\n  return (\n    <div className=\"sendbird-message-input-wrapper\">\n      {displaySuggestedMentionList && (\n        <SuggestedMentionList\n          targetNickname={mentionNickname}\n          inputEvent={messageInputEvent}\n          renderUserMentionItem={renderUserMentionItem}\n          onUserItemClick={(user) => {\n            if (user) {\n              setMentionedUsers([...mentionedUsers, user]);\n            }\n            setMentionNickname(\"\");\n            setSelectedUser(user);\n            setMessageInputEvent(null);\n          }}\n          onFocusItemChange={() => {\n            setMessageInputEvent(null);\n          }}\n          onFetchUsers={(users) => {\n            setMentionSuggestedUsers(users);\n          }}\n          ableAddMention={ableMention}\n          maxMentionCount={maxUserMentionCount}\n          maxSuggestionCount={maxUserSuggestionCount}\n        />\n      )}\n      {quoteMessage && (\n        <div className=\"sendbird-message-input-wrapper__quote-message-input\">\n          <QuoteMessageInput\n            replyingMessage={quoteMessage}\n            onClose={() => setQuoteMessage(null)}\n          />\n        </div>\n      )}\n      <MessageInput\n        className=\"sendbird-message-input-wrapper__message-input\"\n        channelUrl={channel?.url}\n        mentionSelectedUser={selectedUser}\n        isMentionEnabled={isMentionEnabled}\n        placeholder={\n          (quoteMessage &&\n            stringSet.MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER) ||\n          (utils.isDisabledBecauseFrozen(channel) &&\n            stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED) ||\n          (utils.isDisabledBecauseMuted(channel) &&\n            stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED)\n        }\n        ref={messageInputRef}\n        disabled={disabled}\n        onStartTyping={() => {\n          channel?.startTyping();\n        }}\n        onSendMessage={({ message, mentionTemplate }) => {\n          sendMessage({\n            message,\n            quoteMessage,\n            mentionedUsers,\n            mentionTemplate,\n          });\n          setMentionNickname(\"\");\n          setMentionedUsers([]);\n          setQuoteMessage(null);\n          channel?.endTyping();\n        }}\n        onFileUpload={(file) => {\n          // TODO: upload to s3\n          onFilePicked(file).then((result) => {\n            if (!result) {\n              return;\n            }\n\n            console.log(result);\n\n            switch (result.type) {\n              case \"message\":\n                return sendMessage({ message: result.message });\n\n              case \"upload-to-sendbird\":\n                return sendFileMessage(file, quoteMessage);\n            }\n          });\n\n          setQuoteMessage(null);\n        }}\n        onUserMentioned={(user) => {\n          if (selectedUser?.userId === user?.userId) {\n            setSelectedUser(null);\n            setMentionNickname(\"\");\n          }\n        }}\n        onMentionStringChange={(mentionText) => {\n          setMentionNickname(mentionText);\n        }}\n        onMentionedUserIdsUpdated={(userIds) => {\n          setMentionedUserIds(userIds);\n        }}\n        onKeyDown={(e) => {\n          if (\n            displaySuggestedMentionList &&\n            mentionSuggestedUsers?.length > 0 &&\n            ((e.key === MessageInputKeys.Enter && ableMention) ||\n              e.key === MessageInputKeys.ArrowUp ||\n              e.key === MessageInputKeys.ArrowDown)\n          ) {\n            setMessageInputEvent(e);\n            return true;\n          }\n          return false;\n        }}\n      />\n    </div>\n  );\n};\n\nexport default React.forwardRef(MessageInputWrapper);\n","import './channel-ui.scss';\n\nimport React, { useEffect, useState } from 'react';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport ConnectionStatus from '../../../../ui/ConnectionStatus';\nimport ChannelHeader from '../ChannelHeader';\nimport MessageList from '../MessageList';\nimport TypingIndicator from '../TypingIndicator';\nimport FrozenNotification from '../FrozenNotification';\nimport UnreadCount from '../UnreadCount';\nimport MessageInputWrapper from '../MessageInput';\nimport { RenderMessageProps } from '../../../../types';\nimport * as messageActionTypes from '../../context/dux/actionTypes';\n\nexport interface ChannelUIProps {\n  renderPlaceholderLoader?: () => React.ReactNode;\n  renderPlaceholderInvalid?: () => React.ReactNode;\n  renderPlaceholderEmpty?: () => React.ReactNode;\n  renderChannelHeader?: () => React.ReactNode;\n  renderMessage?: (props: RenderMessageProps) => React.ReactNode;\n  renderMessageInput?: () => React.ReactNode;\n  renderTypingIndicator?: () => React.ReactNode;\n  renderCustomSeparator?: () => React.ReactNode;\n}\n\nconst ChannelUI: React.FC<ChannelUIProps> = ({\n  renderPlaceholderLoader,\n  renderPlaceholderInvalid,\n  renderPlaceholderEmpty,\n  renderChannelHeader,\n  renderMessage,\n  renderMessageInput,\n  renderTypingIndicator,\n  renderCustomSeparator,\n}: ChannelUIProps) => {\n  const {\n    currentGroupChannel,\n    channelUrl,\n    isInvalid,\n    unreadSince,\n    loading,\n    setInitialTimeStamp,\n    setAnimatedMessageId,\n    setHighLightedMessageId,\n    scrollRef,\n    messagesDispatcher,\n  } = useChannelContext();\n  const [unreadCount, setUnreadCount] = useState(0);\n  useEffect(() => {\n    setUnreadCount(currentGroupChannel?.unreadMessageCount);\n  }, [currentGroupChannel?.unreadMessageCount]);\n\n  const globalStore = useSendbirdStateContext();\n  const sdkError = globalStore?.stores?.sdkStore?.error;\n  const logger = globalStore?.config?.logger;\n  const isOnline = globalStore?.config?.isOnline;\n\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderInvalid?.() || (\n          <PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} />\n        )\n      }\n    </div>);\n  }\n  if (isInvalid) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder type={PlaceHolderTypes.WRONG} />\n          )\n        }\n      </div>\n    );\n  }\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder\n              type={PlaceHolderTypes.WRONG}\n              retryToConnect={() => {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n  return (\n    <div className='sendbird-conversation'>\n      {\n        renderChannelHeader?.() || (\n          <ChannelHeader />\n        )\n      }\n      {\n        currentGroupChannel?.isFrozen && (\n          <FrozenNotification />\n        )\n      }\n      {\n        unreadCount > 0 && (\n          <UnreadCount\n            count={unreadCount}\n            time={unreadSince}\n            onClick={() => {\n              setUnreadCount(0);\n              if (scrollRef?.current?.scrollTop) {\n                scrollRef.current.scrollTop = scrollRef?.current?.scrollHeight - scrollRef?.current?.offsetHeight;\n              }\n              currentGroupChannel?.markAsRead();\n              messagesDispatcher({\n                type: messageActionTypes.MARK_AS_READ,\n                payload: { channel: currentGroupChannel },\n              });\n              setInitialTimeStamp(null);\n              setAnimatedMessageId(null);\n              setHighLightedMessageId(null);\n            }}\n          />\n        )\n      }\n      {\n        loading\n          ? (\n            <div className=\"sendbird-conversation\">\n              {\n                renderPlaceholderLoader?.() || (\n                  <PlaceHolder type={PlaceHolderTypes.LOADING} />\n                )\n              }\n            </div>\n          ) : (\n            <MessageList\n              renderMessage={renderMessage}\n              renderPlaceholderEmpty={renderPlaceholderEmpty}\n              renderCustomSeparator={renderCustomSeparator}\n            />\n          )\n      }\n      <div className=\"sendbird-conversation__footer\">\n        {\n          renderMessageInput?.() || (\n            <MessageInputWrapper />\n          )\n        }\n        <div className=\"sendbird-conversation__footer__typing-indicator\">\n          {\n            renderTypingIndicator?.() || (\n              <TypingIndicator />\n            )\n          }\n          {\n            !isOnline && (\n              <ConnectionStatus />\n            )\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChannelUI;\n","import React from 'react';\n\nimport {\n  ChannelProvider,\n  ChannelContextProps,\n} from './context/ChannelProvider';\n\nimport ChannelUI, { ChannelUIProps } from './components/ChannelUI';\nexport interface ChannelProps extends ChannelContextProps, ChannelUIProps {\n}\n\nconst Channel: React.FC<ChannelProps> = (props: ChannelProps) => {\n  return (\n    <ChannelProvider\n      channelUrl={props?.channelUrl}\n      isReactionEnabled={props?.isReactionEnabled}\n      isMessageGroupingEnabled={props?.isMessageGroupingEnabled}\n      showSearchIcon={props?.showSearchIcon}\n      highlightedMessage={props?.highlightedMessage}\n      startingPoint={props?.startingPoint}\n      onBeforeSendUserMessage={props?.onBeforeSendUserMessage}\n      onBeforeSendFileMessage={props?.onBeforeSendFileMessage}\n      onBeforeUpdateUserMessage={props?.onBeforeUpdateUserMessage}\n      onChatHeaderActionClick={props?.onChatHeaderActionClick}\n      onSearchClick={props?.onSearchClick}\n      replyType={props?.replyType}\n      queries={props?.queries}\n      renderUserProfile={props?.renderUserProfile}\n      disableUserProfile={props?.disableUserProfile}\n    >\n      <ChannelUI\n        renderPlaceholderLoader={props?.renderPlaceholderLoader}\n        renderPlaceholderInvalid={props?.renderPlaceholderInvalid}\n        renderPlaceholderEmpty={props?.renderPlaceholderEmpty}\n        renderChannelHeader={props?.renderChannelHeader}\n        renderMessage={props?.renderMessage}\n        renderMessageInput={props?.renderMessageInput}\n        renderTypingIndicator={props?.renderTypingIndicator}\n        renderCustomSeparator={props?.renderCustomSeparator}\n      />\n    </ChannelProvider>\n  );\n};\n\nexport default Channel;\n","/**\n * This is a drop in Chat solution\n * Can also be used as an example for creating\n * default chat apps\n */\nimport React, { createContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Sendbird from \"../../lib/Sendbird\";\n\nimport ChannelList from \"../ChannelList\";\nimport Channel from \"../Channel\";\nimport ChannelSettings from \"../ChannelSettings\";\nimport MessageSearchPannel from \"../MessageSearch\";\n\nimport \"./index.scss\";\n\nconst FileInputContext = createContext({\n  onFilePicked: (file) => {\n    return {\n      type: \"upload-to-sendbird\",\n    };\n  },\n  externalBucketUrl: \"\",\n  renderCustomMessage: (props) => {\n    return null;\n  },\n});\n\nexport { FileInputContext };\nexport default function App(props) {\n  const {\n    appId,\n    userId,\n    accessToken,\n    theme,\n    userListQuery,\n    nickname,\n    profileUrl,\n    dateLocale,\n    config = {},\n    isReactionEnabled,\n    isMentionEnabled,\n    replyType,\n    isMessageGroupingEnabled,\n    colorSet,\n    stringSet,\n    allowProfileEdit,\n    disableUserProfile,\n    renderUserProfile,\n    showSearchIcon,\n    onProfileEditSuccess,\n    imageCompression,\n    disableAutoSelect,\n    isTypingIndicatorEnabledOnChannelList,\n    isMessageReceiptStatusEnabledOnChannelList,\n    onFilePicked,\n    externalBucketUrl,\n    renderCustomMessage\n  } = props;\n  const [currentChannelUrl, setCurrentChannelUrl] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [highlightedMessage, setHighlightedMessage] = useState(null);\n  const [startingPoint, setStartingPoint] = useState(null);\n\n  return (\n    <FileInputContext.Provider value={{ onFilePicked, externalBucketUrl, renderCustomMessage }}>\n      <Sendbird\n        stringSet={stringSet}\n        appId={appId}\n        userId={userId}\n        accessToken={accessToken}\n        theme={theme}\n        nickname={nickname}\n        profileUrl={profileUrl}\n        dateLocale={dateLocale}\n        userListQuery={userListQuery}\n        config={config}\n        colorSet={colorSet}\n        disableUserProfile={disableUserProfile}\n        renderUserProfile={renderUserProfile}\n        imageCompression={imageCompression}\n        isReactionEnabled={isReactionEnabled}\n        isMentionEnabled={isMentionEnabled}\n        isTypingIndicatorEnabledOnChannelList={\n          isTypingIndicatorEnabledOnChannelList\n        }\n        isMessageReceiptStatusEnabledOnChannelList={\n          isMessageReceiptStatusEnabledOnChannelList\n        }\n      >\n        <div className=\"sendbird-app__wrap\">\n          <div className=\"sendbird-app__channellist-wrap\">\n            <ChannelList\n              allowProfileEdit={allowProfileEdit}\n              onProfileEditSuccess={onProfileEditSuccess}\n              disableAutoSelect={disableAutoSelect}\n              onChannelSelect={(channel) => {\n                setStartingPoint(null);\n                setHighlightedMessage(null);\n                if (channel?.url) {\n                  setCurrentChannelUrl(channel.url);\n                } else {\n                  setCurrentChannelUrl(\"\");\n                }\n              }}\n            />\n          </div>\n          <div\n            className={`\n              ${showSettings ? \"sendbird-app__conversation--settings-open\" : \"\"}\n              ${showSearch ? \"sendbird-app__conversation--search-open\" : \"\"}\n              sendbird-app__conversation-wrap\n            `}\n          >\n            <Channel\n              channelUrl={currentChannelUrl}\n              onChatHeaderActionClick={() => {\n                setShowSearch(false);\n                setShowSettings(!showSettings);\n              }}\n              onSearchClick={() => {\n                setShowSettings(false);\n                setShowSearch(!showSearch);\n              }}\n              showSearchIcon={showSearchIcon}\n              startingPoint={startingPoint}\n              highlightedMessage={highlightedMessage}\n              isReactionEnabled={isReactionEnabled}\n              replyType={replyType}\n              isMessageGroupingEnabled={isMessageGroupingEnabled}\n            />\n          </div>\n          {showSettings && (\n            <div className=\"sendbird-app__settingspanel-wrap\">\n              <ChannelSettings\n                className=\"sendbird-channel-settings\"\n                channelUrl={currentChannelUrl}\n                onCloseClick={() => {\n                  setShowSettings(false);\n                }}\n              />\n            </div>\n          )}\n          {showSearch && (\n            <div className=\"sendbird-app__searchpanel-wrap\">\n              <MessageSearchPannel\n                channelUrl={currentChannelUrl}\n                onResultClick={(message) => {\n                  if (message.messageId === highlightedMessage) {\n                    setHighlightedMessage(null);\n                    setTimeout(() => {\n                      setHighlightedMessage(message.messageId);\n                    });\n                  } else {\n                    setStartingPoint(message.createdAt);\n                    setHighlightedMessage(message.messageId);\n                  }\n                }}\n                onCloseClick={() => {\n                  setShowSearch(false);\n                }}\n              />\n            </div>\n          )}\n        </div>\n      </Sendbird>\n    </FileInputContext.Provider>\n  );\n}\n\nApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  theme: PropTypes.string,\n  userListQuery: PropTypes.func,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  allowProfileEdit: PropTypes.bool,\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  onProfileEditSuccess: PropTypes.func,\n  dateLocale: PropTypes.shape({}),\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n  }),\n  isReactionEnabled: PropTypes.bool,\n  replyType: PropTypes.oneOf([\"NONE\", \"QUOTE_REPLY\", \"THREAD\"]),\n  showSearchIcon: PropTypes.bool,\n  isMessageGroupingEnabled: PropTypes.bool,\n  stringSet: PropTypes.objectOf(PropTypes.string),\n  colorSet: PropTypes.objectOf(PropTypes.string),\n  imageCompression: PropTypes.shape({\n    compressionRate: PropTypes.number,\n    resizingWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    resizingHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  }),\n  disableAutoSelect: PropTypes.bool,\n  isMentionEnabled: PropTypes.bool,\n  isTypingIndicatorEnabledOnChannelList: PropTypes.bool,\n  isMessageReceiptStatusEnabledOnChannelList: PropTypes.bool,\n  onFilePicked: PropTypes.object,\n  externalBucketUrl: PropTypes.string,\n  renderCustomMessage: PropTypes.object,\n};\n\nApp.defaultProps = {\n  accessToken: \"\",\n  theme: \"light\",\n  nickname: \"\",\n  profileUrl: \"\",\n  userListQuery: null,\n  dateLocale: null,\n  allowProfileEdit: false,\n  onProfileEditSuccess: null,\n  disableUserProfile: false,\n  showSearchIcon: false,\n  renderUserProfile: null,\n  config: {},\n  isReactionEnabled: true,\n  isMentionEnabled: false,\n  replyType: \"NONE\",\n  isMessageGroupingEnabled: true,\n  stringSet: null,\n  colorSet: null,\n  imageCompression: {},\n  disableAutoSelect: false,\n  isTypingIndicatorEnabledOnChannelList: false,\n  isMessageReceiptStatusEnabledOnChannelList: false,\n  onFilePicked: (file) => {\n    return {\n      type: \"upload-to-sendbird\",\n    };\n  },\n  externalBucketUrl: \"\",\n  renderCustomMessage: (props) => {\n    return null;\n  },\n};\n"],"names":["S3ThumbnailMessageItemBody","_a","className","message","_c","isByMe","_d","mouseHover","showFileViewer","_e","useState","setImageRendered","React","getClassName","reactions","_b","length","isSentMessage","ImageRenderer","style","Icon","IconTypes","PHOTO","IconColors","ON_BACKGROUND_2","MessageContent","userId","channel","_g","disabled","_h","chainTop","_j","chainBottom","_k","isReactionEnabled","replyType","nicknamesMap","emojiContainer","scrollToMessage","showEdit","showRemove","resendMessage","toggleReaction","setQuoteMessage","messageTypes","getUIKitMessageTypes","dateLocale","useLocalization","config","useSendbirdStateContext","_l","useContext","UserProfileContext","disableUserProfile","renderUserProfile","_m","FileInputContext","externalBucketUrl","renderCustomMessage","avatarRef","useRef","_o","setMouseHover","_p","supposedHover","setSupposedHover","sender","sendingStatus","isByMeClassName","chainTopClassName","isReactionEnabledClassName","supposedHoverClassName","useReplying","parentMessageId","parentMessage","useReplyingClassName","isAdminMessage","call","messageType","ClientAdminMessage","RenderMessageContent","renderedItem","isMentionEnabled","isTextMessage","TextMessageItemBody","isS3ImageMessage","isOGMessage","OGMessageItemBody","getUIKitMessageType","FILE","FileMessageItemBody","isThumbnailMessage","ThumbnailMessageItemBody","UNKNOWN","UnknownMessageItemBody","ContextMenu","toggleDropdown","Avatar","members","find","member","profileUrl","closeDropdown","MenuItems","paddingTop","paddingBottom","user","close","UserProfile","MessageItemMenu","MessageItemReactionMenu","Label","LabelTypography","CAPTION_2","LabelColors","ONBACKGROUND_2","nickname","getSenderName","QuoteMessage","createdAt","MessageStatus","_f","EmojiReactions","CAPTION_3","format","locale","Message","props","hasSeparator","handleScroll","renderCustomSeparator","renderEditInput","renderMessage","renderMessageContent","globalStore","isOnline","userMention","maxUserMentionCount","maxMentionCount","MAX_USER_MENTION_COUNT","maxUserSuggestionCount","maxSuggestionCount","MAX_USER_SUGGESTION_COUNT","useChannelContext","initialized","currentGroupChannel","highLightedMessageId","setHighLightedMessageId","animatedMessageId","setAnimatedMessageId","updateMessage","renderUserMentionItem","setShowEdit","setShowRemove","setShowFileViewer","isAnimated","setIsAnimated","isHighlighted","setIsHighlighted","mentionNickname","setMentionNickname","mentionedUsers","setMentionedUsers","mentionedUserIds","setMentionedUserIds","messageInputEvent","setMessageInputEvent","selectedUser","setSelectedUser","mentionSuggestedUsers","setMentionSuggestedUsers","_q","ableMention","setAbleMention","editMessageInputRef","useMessageScrollRef","displaySuggestedMentionList","isDisabledBecauseFrozen","isDisabledBecauseMuted","useEffect","filter","i","indexOf","splice","useLayoutEffect","messageId","current","scrollIntoView","block","inline","setTimeout","renderedMessage","useMemo","renderedCustomSeparator","DateSeparator","isUserMessage","SuggestedMentionList","__spreadArray","users","MessageInput","mentionTemplate","mentionText","userIds","e","key","MessageInputKeys","Enter","ArrowUp","ArrowDown","marginBottom","RemoveMessageModal","FileViewer","SCROLL_REF_CLASS_NAME","MessageList","renderPlaceholderEmpty","allMessages","hasMorePrev","setInitialTimeStamp","isMessageGroupingEnabled","scrollRef","onScrollCallback","onScrollDownCallback","messagesDispatcher","messageActionTypes","scrollBottom","setScrollBottom","onScroll","element","target","scrollTop","clientHeight","scrollHeight","nodes","querySelectorAll","first_1","messages","error","isAboutSame","offsetHeight","type","MARK_AS_READ","payload","markAsRead","onClickScrollBot","memoizedAllMessages","map","m","idx","previousMessage","nextMessage","compareMessagesForGrouping","previousMessageCreatedAt","currentCreatedAt","isSameDay","bottom","uuidv4","PlaceHolder","PlaceHolderTypes","NO_MESSAGES","CHEVRON_DOWN","PRIMARY","MessageInputWrapper","quoteMessage","sendMessage","sendFileMessage","messageInputRef","onFilePicked","stringSet","LocalizationContext","utils","isOperator","isBroadcast","url","QuoteMessageInput","MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER","MESSAGE_INPUT__PLACE_HOLDER__DISABLED","MESSAGE_INPUT__PLACE_HOLDER__MUTED","startTyping","endTyping","file","then","result","console","log","forwardRef","ChannelUI","renderPlaceholderLoader","renderPlaceholderInvalid","renderChannelHeader","renderMessageInput","renderTypingIndicator","channelUrl","isInvalid","unreadSince","loading","unreadCount","setUnreadCount","unreadMessageCount","sdkError","stores","sdkStore","logger","NO_CHANNELS","WRONG","info","ChannelHeader","isFrozen","FrozenNotification","UnreadCount","LOADING","TypingIndicator","ConnectionStatus","Channel","ChannelProvider","showSearchIcon","highlightedMessage","startingPoint","onBeforeSendUserMessage","onBeforeSendFileMessage","onBeforeUpdateUserMessage","onChatHeaderActionClick","onSearchClick","queries","createContext","App","appId","accessToken","theme","userListQuery","colorSet","allowProfileEdit","onProfileEditSuccess","imageCompression","disableAutoSelect","isTypingIndicatorEnabledOnChannelList","isMessageReceiptStatusEnabledOnChannelList","currentChannelUrl","setCurrentChannelUrl","showSettings","setShowSettings","showSearch","setShowSearch","setHighlightedMessage","setStartingPoint","Sendbird","MessageSearchPannel","propTypes","PropTypes","string","isRequired","func","bool","shape","logLevel","oneOfType","arrayOf","oneOf","objectOf","compressionRate","number","resizingWidth","resizingHeight","object","defaultProps"],"mappings":"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"}