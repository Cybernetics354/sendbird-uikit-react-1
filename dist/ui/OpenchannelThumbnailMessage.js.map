{"version":3,"file":"OpenchannelThumbnailMessage.js","sources":["../../src/ui/OpenchannelThumbnailMessage/utils.ts","../../src/ui/OpenchannelThumbnailMessage/index.tsx"],"sourcesContent":["export const SUPPORTING_TYPES = {\n  IMAGE: 'IMAGE',\n  VIDEO: 'VIDEO',\n  UNSUPPORTED: 'UNSUPPORTED',\n};\n\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/webp',\n  ],\n  VIDEO: [\n    'video/mpeg',\n    'video/ogg',\n    'video/webm',\n    'video/mp4',\n  ],\n};\n\nexport const getSupportingFileType = (type: string): string => {\n  if (SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0) {\n    return SUPPORTING_TYPES.IMAGE;\n  }\n  if (SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0) {\n    return SUPPORTING_TYPES.VIDEO;\n  }\n  return SUPPORTING_TYPES.UNSUPPORTED;\n}\n","import React, {\n  useRef,\n  useMemo,\n  useState,\n  useEffect,\n  useContext,\n} from 'react';\nimport { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\nimport './index.scss';\nimport { SUPPORTING_TYPES, getSupportingFileType } from './utils';\nimport { useLocalization } from '../../lib/LocalizationContext';\n\nimport Avatar from '../Avatar';\nimport ContextMenu, { MenuItems, MenuItem } from '../ContextMenu';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport IconButton from '../IconButton';\nimport ImageRenderer from '../ImageRenderer';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport Loader from '../Loader';\nimport UserProfile from '../UserProfile';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport {\n  checkIsByMe,\n  checkIsSent,\n  checkIsPending,\n  checkIsFailed,\n  isFineResend,\n  isFineDelete,\n  showMenuTrigger,\n} from '../../utils/openChannelUtils';\nimport { getSenderFromMessage } from '../../utils/openChannelUtils';\n\ninterface LocalUrl {\n  localUrl?: string;\n}\ninterface Props {\n  className?: string | Array<string>;\n  message: FileMessage;\n  disabled: boolean;\n  userId: string;\n  chainTop: boolean;\n  chainBottom: boolean;\n  onClick(bool: boolean): void,\n  showRemove(bool: boolean): void,\n  resendMessage(message: FileMessage): void;\n}\n\nexport default function OpenchannelThumbnailMessage({\n  className,\n  message,\n  disabled,\n  userId,\n  chainTop,\n  onClick,\n  showRemove,\n  resendMessage,\n}: Props): JSX.Element {\n  const {\n    type,\n    url,\n    thumbnails,\n    localUrl,\n  }: FileMessage & LocalUrl = message;\n  const status = message?.sendingStatus;\n  const thumbnailUrl = (thumbnails && thumbnails.length > 0 && thumbnails[0].url) || null;\n  const { stringSet, dateLocale } = useLocalization();\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const [messageWidth, setMessageWidth] = useState(360);\n  const messageRef = useRef(null);\n  const contextMenuRef = useRef(null);\n  const avatarRef = useRef(null);\n\n  const memorizedThumbnailPlaceHolder = useMemo(() => (type) => ({ style }) => ( // eslint-disable-line\n    <div style={style}>\n      <Icon\n        type={type}\n        fillColor={IconColors.ON_BACKGROUND_2}\n        width=\"56px\"\n        height=\"56px\"\n        />\n    </div>\n  ), []);\n\n  const isByMe = checkIsByMe(message, userId);\n  const isMessageSent = checkIsSent(status);\n  const isPending = checkIsPending(status);\n  const isFailed = checkIsFailed(status);\n  const sender = getSenderFromMessage(message);\n\n  useEffect(() => {\n    const thumbnailWidth = messageRef?.current?.clientWidth - 80;\n    setMessageWidth(thumbnailWidth > 360 ? 360 : thumbnailWidth);\n  }, []);\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-openchannel-thumbnail-message',\n      ].join(' ')}\n      ref={messageRef}\n    >\n      <div className=\"sendbird-openchannel-thumbnail-message__left\">\n        {\n          !chainTop && (\n            <ContextMenu\n              menuTrigger={(toggleDropdown) => (\n                <Avatar\n                  className=\"sendbird-openchannel-thumbnail-message__left__avatar\"\n                  src={sender.profileUrl || ''}\n                  ref={avatarRef}\n                  width=\"28px\"\n                  height=\"28px\"\n                  onClick={() => {\n                    if (!disableUserProfile) {\n                      toggleDropdown();\n                    }\n                  }}\n                />\n              )}\n              menuItems={(closeDropdown) => (\n                <MenuItems\n                  parentRef={avatarRef}\n                  parentContainRef={avatarRef}\n                  closeDropdown={closeDropdown}\n                  style={{ paddingTop: 0, paddingBottom: 0 }}\n                >\n                  {\n                    renderUserProfile\n                      ? (\n                        renderUserProfile({\n                          user: sender,\n                          close: closeDropdown,\n                        })\n                      )\n                      : (\n                        <UserProfile\n                          user={sender}\n                          onSuccess={closeDropdown}\n                          disableMessaging\n                        />\n                      )\n                  }\n                </MenuItems>\n              )}\n            />\n          )\n        }\n      </div>\n      <div className=\"sendbird-openchannel-thumbnail-message__right\">\n        {\n          !chainTop && (\n            <div className=\"sendbird-openchannel-thumbnail-message__right__title\">\n              <Label\n                className=\"sendbird-openchannel-thumbnail-message__right__title__sender-name\"\n                type={LabelTypography.CAPTION_2}\n                color={isByMe ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2}\n              >\n                {\n                  sender && (\n                    sender.friendName\n                    || sender.nickname\n                    || sender.userId\n                  )\n                }\n              </Label>\n              <Label\n                className=\"sendbird-openchannel-thumbnail-message__right__title__sent-at\"\n                type={LabelTypography.CAPTION_3}\n                color={LabelColors.ONBACKGROUND_3}\n              >\n                {\n                  message?.createdAt && (\n                    format(message.createdAt, 'p', {\n                      locale: dateLocale,\n                    })\n                  )\n                }\n              </Label>\n            </div>\n          )\n        }\n        <div className=\"sendbird-openchannel-thumbnail-message__right__body\">\n          <div\n            className=\"sendbird-openchannel-thumbnail-message__right__body__wrap\"\n            role=\"button\"\n            onClick={() => {\n              if (isMessageSent) {\n                onClick(true);\n              }\n            }}\n            onKeyDown={() => {\n              if (isMessageSent) {\n                onClick(true);\n              }\n            }}\n            tabIndex={0}\n          >\n            <div className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay\" />\n            {\n              {\n                [SUPPORTING_TYPES.VIDEO]: (\n                  (url || localUrl)\n                    ? (\n                      <div className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video\" >\n                        {\n                          (thumbnailUrl)\n                            ? (\n                              <ImageRenderer\n                                className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video\"\n                                url={thumbnailUrl}\n                                width={messageWidth}\n                                height=\"270px\"\n                                alt=\"image\"\n                                placeHolder={memorizedThumbnailPlaceHolder(IconTypes.PLAY)}\n                              />\n                            )\n                            : (\n                              <video className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video\">\n                                <source src={url || localUrl} type={type} />\n                              </video>\n                            )\n                        }\n                        <Icon\n                          className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon\"\n                          type={IconTypes.PLAY}\n                          fillColor={IconColors.ON_BACKGROUND_2}\n                          width=\"56px\"\n                          height=\"56px\"\n                        />\n                      </div>\n                    )\n                    : (\n                      <Icon\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon\"\n                        type={IconTypes.PHOTO}\n                        fillColor={IconColors.ON_BACKGROUND_2}\n                        width=\"56px\"\n                        height=\"56px\"\n                      />\n                    )\n                ),\n                [SUPPORTING_TYPES.IMAGE]: (\n                  (url || localUrl)\n                    ? (\n                      <ImageRenderer\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__image\"\n                        url={thumbnailUrl || url || localUrl}\n                        alt=\"image\"\n                        width={messageWidth}\n                        height=\"270px\"\n                        placeHolder={memorizedThumbnailPlaceHolder(IconTypes.PHOTO)}\n                      />\n                    )\n                    : (\n                      <Icon\n                        className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon\"\n                        type={IconTypes.PHOTO}\n                        fillColor={IconColors.ON_BACKGROUND_2}\n                        width=\"56px\"\n                        height=\"56px\"\n                      />\n                    )\n                ),\n                [SUPPORTING_TYPES.UNSUPPORTED]: (\n                  <Icon\n                    className=\"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown\"\n                    type={IconTypes.PHOTO}\n                    fillColor={IconColors.ON_BACKGROUND_2}\n                    width=\"56px\"\n                    height=\"56px\"\n                  />\n                ),\n              }[getSupportingFileType(type)]\n            }\n          </div>\n        </div>\n        {\n          (isPending || isFailed) && (\n            <div className=\"sendbird-openchannel-thumbnail-message__right__tail\">\n              {\n                isPending && (\n                  <Loader\n                    width=\"16px\"\n                    height=\"16px\"\n                  >\n                    <Icon\n                      className=\"sendbird-openchannel-thumbnail-message__right__tail__pending\"\n                      type={IconTypes.SPINNER}\n                      fillColor={IconColors.PRIMARY}\n                      width=\"16px\"\n                      height=\"16px\"\n                    />\n                  </Loader>\n                )\n              }\n              {\n                isFailed && (\n                  <Icon\n                    className=\"sendbird-openchannel-thumbnail-message__right__tail__failed\"\n                    type={IconTypes.ERROR}\n                    fillColor={IconColors.ERROR}\n                    width=\"16px\"\n                    height=\"16px\"\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n      <div\n        className=\"sendbird-openchannel-thumbnail-message__context-menu\"\n        ref={contextMenuRef}\n      >\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            showMenuTrigger({ message, userId, status }) && (\n              <IconButton\n                className=\"sendbird-openchannel-thumbnail-message__context-menu--icon\"\n                width=\"32px\"\n                height=\"32px\"\n                onClick={toggleDropdown}\n              >\n                <Icon\n                  type={IconTypes.MORE}\n                  fillColor={IconColors.CONTENT_INVERSE}\n                  width=\"24px\"\n                  height=\"24px\"\n                />\n              </IconButton>\n            )\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              parentRef={contextMenuRef}\n              parentContainRef={contextMenuRef}\n              closeDropdown={closeDropdown}\n              openLeft\n            >\n              {\n                isFineResend({ message, userId, status }) && (\n                  <MenuItem\n                    onClick={() => {\n                      resendMessage(message);\n                      closeDropdown();\n                    }}\n                  >\n                    {stringSet.CONTEXT_MENU_DROPDOWN__RESEND}\n                  </MenuItem>\n                )\n              }\n              {\n                isFineDelete({ message, userId, status }) && (\n                  <MenuItem\n                    onClick={() => {\n                      if (disabled) {\n                        return;\n                      }\n                      showRemove(true);\n                      closeDropdown();\n                    }}\n                  >\n                    {stringSet.CONTEXT_MENU_DROPDOWN__DELETE}\n                  </MenuItem>\n                )\n              }\n            </MenuItems>\n          )}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":["SUPPORTING_TYPES","IMAGE","VIDEO","UNSUPPORTED","SUPPORTED_MIMES","getSupportingFileType","type","indexOf","OpenchannelThumbnailMessage","_a","className","message","disabled","userId","chainTop","onClick","showRemove","resendMessage","url","thumbnails","localUrl","status","sendingStatus","thumbnailUrl","length","_c","useLocalization","stringSet","dateLocale","_d","useContext","UserProfileContext","disableUserProfile","renderUserProfile","_e","useState","messageWidth","setMessageWidth","messageRef","useRef","contextMenuRef","avatarRef","memorizedThumbnailPlaceHolder","useMemo","style","React","IconColors","ON_BACKGROUND_2","isByMe","checkIsByMe","isMessageSent","checkIsSent","isPending","checkIsPending","isFailed","checkIsFailed","sender","getSenderFromMessage","useEffect","thumbnailWidth","current","clientWidth","__spreadArray","Array","isArray","join","toggleDropdown","profileUrl","closeDropdown","paddingTop","paddingBottom","user","close","UserProfile","LabelTypography","CAPTION_2","LabelColors","SECONDARY_3","ONBACKGROUND_2","friendName","nickname","CAPTION_3","ONBACKGROUND_3","createdAt","format","locale","_b","IconTypes","PLAY","PHOTO","SPINNER","PRIMARY","ERROR","showMenuTrigger","MORE","CONTENT_INVERSE","isFineResend","CONTEXT_MENU_DROPDOWN__RESEND","isFineDelete","CONTEXT_MENU_DROPDOWN__DELETE"],"mappings":"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"}