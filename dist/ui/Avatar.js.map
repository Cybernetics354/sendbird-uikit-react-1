{"version":3,"file":"Avatar.js","sources":["../../src/utils/pxToNumber.ts","../../src/ui/Avatar/index.tsx"],"sourcesContent":["export default (px: string | number): number | void => {\n  if (typeof px === 'number') {\n    return px;\n  }\n  if (typeof px === 'string') {\n    const parsed = Number.parseFloat(px);\n    if (!Number.isNaN(parsed)) {\n      return parsed;\n    }\n  }\n  return null;\n};\n","import React, { ReactElement } from 'react';\n\nimport ImageRenderer from '../ImageRenderer';\nimport Icon, { IconTypes, IconColors } from '../Icon';\n\nimport './index.scss';\nimport { uuidv4 } from '../../utils/uuid';\nimport pxToNumber from '../../utils/pxToNumber';\n\nconst imageRendererClassName = 'sendbird-avatar-img';\n\ninterface DefaultComponentProps {\n  width: string | number,\n  height: string | number,\n}\n\nconst DefaultComponent = ({ width, height }: DefaultComponentProps): ReactElement => {\n  let iconWidth = pxToNumber(width);\n  let iconHeight = pxToNumber(height);\n  if (typeof iconWidth === 'number') {\n    iconWidth *= 0.575;\n  }\n  if (typeof iconHeight === 'number') {\n    iconHeight *= 0.575;\n  }\n\n  return (\n    <div className=\"sendbird-avatar-img--default\" style={{ width, height }}>\n      <Icon\n        type={IconTypes.USER}\n        fillColor={IconColors.CONTENT}\n        width={iconWidth}\n        height={iconHeight}\n      />\n    </div>\n  );\n};\n\nconst _defaultComponent = ({\n  width,\n  height,\n}: DefaultComponentProps) => (\n  <DefaultComponent width={width} height={height} />\n);\n\ninterface AvatarInnerProps {\n  height: string | number,\n  width: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nexport const AvatarInner = ({\n  src = '',\n  alt = '',\n  height,\n  width,\n  customDefaultComponent,\n}: AvatarInnerProps): ReactElement => {\n  const defaultComponent = () => customDefaultComponent ? customDefaultComponent({ width, height }) : _defaultComponent({ width, height });\n\n  if (typeof src === 'string') {\n    return (\n      <ImageRenderer\n        className={imageRendererClassName}\n        url={src}\n        height={height}\n        width={width}\n        alt={alt}\n        defaultComponent={defaultComponent}\n      />\n    );\n  }\n\n  if (src && src.length) {\n    if (src.length === 1) {\n      return (\n        <ImageRenderer\n          className={imageRendererClassName}\n          url={src[0]}\n          height={height}\n          width={width}\n          alt={alt}\n          defaultComponent={defaultComponent}\n        />\n      );\n    }\n\n    if (src.length === 2) {\n      return (\n        <div className=\"sendbird-avatar--inner__two-child\">\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[0]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n          <ImageRenderer\n            className={imageRendererClassName}\n            url={src[1]}\n            height={height}\n            width={width}\n            alt={alt}\n            defaultComponent={defaultComponent}\n          />\n        </div>\n      );\n    }\n\n    if (src.length === 3) {\n      return (\n        <>\n          <div className=\"sendbird-avatar--inner__three-child--upper\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[0]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n          <div className=\"sendbird-avatar--inner__three-child--lower\">\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[1]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n            <ImageRenderer\n              className={imageRendererClassName}\n              url={src[2]}\n              height={height}\n              width={width}\n              alt={alt}\n              defaultComponent={defaultComponent}\n            />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"sendbird-avatar--inner__four-child\">\n        {\n          src.slice(0, 4)\n            .map((i) => (\n              <ImageRenderer\n                className={imageRendererClassName}\n                url={i}\n                height={height}\n                width={width}\n                alt={alt}\n                key={uuidv4()}\n                defaultComponent={defaultComponent}\n              />\n            ))\n        }\n      </div>\n    );\n  }\n  // default img\n  return (\n    <ImageRenderer\n      className={imageRendererClassName}\n      url=\"\"\n      height={height}\n      width={width}\n      alt={alt}\n      defaultComponent={defaultComponent}\n    />\n  );\n};\n\ninterface AvatarProps {\n  className?: string | Array<string>,\n  height?: string | number,\n  width?: string | number,\n  src?: string | Array<string>,\n  alt?: string,\n  onClick?(): void,\n  customDefaultComponent?({ width, height }: { width: number | string, height: number | string }): ReactElement;\n}\n\nfunction Avatar(\n  {\n    className = '',\n    src = '',\n    alt = '',\n    width = '56px',\n    height = '56px',\n    onClick,\n    customDefaultComponent,\n  }: AvatarProps,\n  ref: React.Ref<HTMLDivElement>,\n): ReactElement {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-avatar',\n      ].join(' ')}\n      role=\"button\"\n      ref={ref}\n      style={{ height, width }}\n      onClick={onClick}\n      onKeyDown={onClick}\n      tabIndex={0}\n    >\n      <AvatarInner\n        src={src}\n        width={width}\n        height={height}\n        alt={alt}\n        customDefaultComponent={customDefaultComponent}\n      />\n    </div>\n  );\n}\n\nexport default React.forwardRef(Avatar);\n"],"names":["px","parsed","Number","parseFloat","isNaN","imageRendererClassName","DefaultComponent","_a","width","height","iconWidth","pxToNumber","iconHeight","React","IconTypes","USER","IconColors","CONTENT","_defaultComponent","AvatarInner","_b","src","_c","alt","customDefaultComponent","defaultComponent","length","slice","map","i","uuidv4","Avatar","ref","className","_d","_e","_f","onClick","__spreadArray","Array","isArray","join","forwardRef"],"mappings":"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"}