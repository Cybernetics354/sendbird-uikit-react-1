{"version":3,"file":"UserProfile.js","sources":["../../src/ui/UserProfile/index.tsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useContext } from 'react';\nimport type { GroupChannel, GroupChannelCreateParams } from '@sendbird/chat/groupChannel';\nimport type { User } from '@sendbird/chat';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport { getSdk, getCreateGroupChannel } from '../../lib/selectors';\nimport Avatar from '../Avatar/index';\nimport Label, { LabelColors, LabelTypography } from '../Label';\nimport Button, { ButtonTypes } from '../Button';\n\ninterface Logger {\n  info?(message: string, channel: GroupChannel): void;\n}\n\ninterface Props {\n  user: User;\n  currentUserId?: string;\n  logger?: Logger;\n  disableMessaging?: boolean;\n  createChannel?(params: GroupChannelCreateParams): Promise<GroupChannel>;\n  onSuccess?(): void;\n}\n\nfunction UserProfile({\n  user,\n  currentUserId,\n  logger,\n  disableMessaging = false,\n  createChannel,\n  onSuccess,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird__user-profile\">\n      <section className=\"sendbird__user-profile-avatar\">\n        <Avatar\n          height=\"80px\"\n          width=\"80px\"\n          src={user?.profileUrl}\n        />\n      </section>\n      <section className=\"sendbird__user-profile-name\">\n        <Label\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user?.nickname || stringSet.NO_NAME}\n        </Label>\n      </section>\n      {\n        (user?.userId !== currentUserId) && !disableMessaging && (\n          <section className=\"sendbird__user-profile-message\">\n            <Button\n              type={ButtonTypes.SECONDARY}\n              onClick={() => {\n                const params: GroupChannelCreateParams = {\n                  isDistinct: true,\n                  invitedUserIds: [user?.userId],\n                };\n                onSuccess();\n                createChannel(params)\n                  .then((groupChannel) => {\n                    logger.info('UserProfile, channel create', groupChannel);\n                  });\n              }}\n            >\n              {stringSet.USER_PROFILE__MESSAGE}\n            </Button>\n          </section>\n        )\n      }\n      <div className=\"sendbird__user-profile-separator\" />\n      <section className=\"sendbird__user-profile-userId\">\n        <Label\n          className=\"sendbird__user-profile-userId--label\"\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.USER_PROFILE__USER_ID}\n        </Label>\n        <Label\n          className=\"sendbird__user-profile-userId--value\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user?.userId}\n        </Label>\n      </section>\n    </div>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n  createChannel: getCreateGroupChannel(store),\n  logger: store.config.logger,\n  pubsub: store.config.pubSub,\n});\n\nconst ConnectedUserProfile = withSendbirdContext(UserProfile, mapStoreToProps);\n\nexport default ConnectedUserProfile;\n"],"names":["UserProfile","_a","user","currentUserId","logger","_b","disableMessaging","createChannel","onSuccess","stringSet","useContext","LocalizationContext","React","profileUrl","LabelTypography","H_2","LabelColors","ONBACKGROUND_1","nickname","NO_NAME","userId","ButtonTypes","SECONDARY","params","isDistinct","invitedUserIds","then","groupChannel","info","USER_PROFILE__MESSAGE","CAPTION_2","ONBACKGROUND_2","USER_PROFILE__USER_ID","BODY_1","mapStoreToProps","store","sdk","getSdk","getCreateGroupChannel","config","pubsub","pubSub","ConnectedUserProfile","withSendbirdContext"],"mappings":"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"}