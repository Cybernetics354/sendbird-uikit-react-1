{"version":3,"file":"TextMessageItemBody.js","sources":["../../src/ui/TextMessageItemBody/index.tsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useContext, useMemo } from 'react';\nimport type { UserMessage } from '@sendbird/chat/message';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { getClassName, isEditedMessage } from '../../utils';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport uuidv4 from '../../utils/uuid';\nimport Word from '../Word';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  isMentionEnabled?: boolean;\n}\n\nexport default function TextMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  isMentionEnabled = false,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  const isMessageMentioned = isMentionEnabled && message?.mentionedMessageTemplate?.length > 0 && message?.mentionedUsers?.length > 0;\n  const sentences: Array<Array<string>> = useMemo(() => {\n    return message?.mentionedMessageTemplate?.split(/\\n/).map((sentence) => sentence.split(/\\s/));\n  }, [message?.mentionedMessageTemplate]);\n  return (\n    <Label\n      type={LabelTypography.BODY_1}\n      color={isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1}\n    >\n      <div className={getClassName([\n        className,\n        'sendbird-text-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        message?.reactions?.length > 0 ? 'reactions' : '',\n      ])}>\n        {\n          isMessageMentioned\n           ? (\n              sentences.map((sentence, index) => {\n                return [\n                  sentence.map((word) => {\n                    return (\n                      <Word\n                        key={uuidv4()}\n                        word={word}\n                        message={message}\n                        isByMe={isByMe}\n                      />\n                    );\n                  }),\n                  sentences?.[index + 1] ? <br /> : null,\n                ]\n              })\n           )\n           : message?.message\n        }\n        {\n          isEditedMessage(message) && (\n            <Label\n              className=\"sendbird-text-message-item-body__message edited\"\n              type={LabelTypography.BODY_1}\n              color={isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2}\n            >\n              {` ${stringSet.MESSAGE_EDITED} `}\n            </Label>\n          )\n        }\n      </div>\n    </Label>\n  );\n}\n"],"names":["TextMessageItemBody","_a","className","message","_e","isByMe","_f","mouseHover","_g","isMentionEnabled","stringSet","useContext","LocalizationContext","isMessageMentioned","mentionedMessageTemplate","length","mentionedUsers","sentences","useMemo","split","map","sentence","React","LabelTypography","BODY_1","LabelColors","ONCONTENT_1","ONBACKGROUND_1","getClassName","reactions","index","word","uuidv4","isEditedMessage","ONCONTENT_2","ONBACKGROUND_2","MESSAGE_EDITED"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;SAkBwBA,oBAAoBC;;;MAC1CC,SAAS;MACTC,OAAO;MACPC;MAAAC,MAAM,mBAAG;MACTC;MAAAC,UAAU,mBAAG;MACbC;MAAAC,gBAAgB,mBAAG;EAEX,IAAAC,SAAS,GAAKC,UAAU,CAACC,mBAAD,CAAV,UAAd;EACR,IAAMC,kBAAkB,GAAGJ,gBAAgB,IAAI,CAAA,MAAAN,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEW,wBAAT,UAAA,iBAAA,SAAA,MAAmCC,MAAnC,IAA4C,CAAhE,IAAqE,CAAA,MAAAZ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEa,cAAT,UAAA,iBAAA,SAAA,MAAyBD,MAAzB,IAAkC,CAAlI;EACA,IAAME,SAAS,GAAyBC,OAAO,CAAC;;;IAC9C,OAAO,MAAAf,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEW,wBAAT,UAAA,iBAAA,SAAA,MAAmCK,MAAM,MAAMC,IAAI,UAACC,QAAD;MAAc,OAAAA,QAAQ,CAACF,KAAT,CAAe,IAAf,CAAA;MAAxE;GAD6C,EAE5C,CAAChB,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEW,wBAAV,CAF4C,CAA/C;EAGA,oBACEQ,6BAAC,KAAD;IACE,IAAI,EAAEC,eAAe,CAACC,MADxB;IAEE,KAAK,EAAEnB,MAAM,GAAGoB,WAAW,CAACC,WAAf,GAA6BD,WAAW,CAACE;kBAEtDL;IAAK,SAAS,EAAEM,YAAY,CAAC,CAC3B1B,SAD2B,EAE3B,iCAF2B,EAG3BG,MAAM,GAAG,UAAH,GAAgB,UAHK,EAI3BE,UAAU,GAAG,aAAH,GAAmB,EAJF,EAK3B,CAAA,MAAAJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAE0B,SAAT,UAAA,iBAAA,SAAA,MAAoBd,MAApB,IAA6B,CAA7B,GAAiC,WAAjC,GAA+C,EALpB,CAAD;KAQxBF,kBAAkB,GAEdI,SAAS,CAACG,GAAV,CAAc,UAACC,QAAD,EAAWS,KAAX;IACZ,OAAO,CACLT,QAAQ,CAACD,GAAT,CAAa,UAACW,IAAD;MACX,oBACET,6BAAC,IAAD;QACE,GAAG,EAAEU,MAAM,EADb;QAEE,IAAI,EAAED,IAFR;QAGE,OAAO,EAAE5B,OAHX;QAIE,MAAM,EAAEE;QALZ;KADF,CADK,EAWL,CAAAY,SAAS,SAAT,IAAAA,SAAS,WAAT,SAAA,GAAAA,SAAS,CAAGa,KAAK,GAAG,CAAX,CAAT,iBAAyBR,wCAAzB,GAAkC,IAX7B,CAAP;GADF,CAFc,GAkBfnB,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEA,OA1BhB,EA6BI8B,eAAe,CAAC9B,OAAD,CAAf,iBACEmB,6BAAC,KAAD;IACE,SAAS,EAAC,iDADZ;IAEE,IAAI,EAAEC,eAAe,CAACC,MAFxB;IAGE,KAAK,EAAEnB,MAAM,GAAGoB,WAAW,CAACS,WAAf,GAA6BT,WAAW,CAACU;KAErD,UAAA,CAAIzB,SAAS,CAAC0B,cAAd,KAAA,CALH,CA9BN,CAJF,CADF;AA+CD;;;;"}