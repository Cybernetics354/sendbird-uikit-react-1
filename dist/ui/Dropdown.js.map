{"version":3,"file":"Dropdown.js","sources":["../../src/hooks/onClickOutside.jsx","../../src/ui/Dropdown/index.jsx"],"sourcesContent":["import { useEffect } from 'react';\n\nexport default function useOutsideAlerter({\n  ref,\n  callback,\n}) {\n  const handleClickOutside = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      callback();\n    }\n  };\n\n  useEffect(() => {\n    // Bind the event listener\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  });\n}\n","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport onClickOutside from '../../hooks/onClickOutside';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport const MenuItem = ({ children, onClick }) => (\n  <li\n    className=\"sendbird-dropdown__menu-item\"\n    role=\"menuitem\"\n    onClick={onClick}\n    onKeyPress={(e) => {\n      if (e.keyCode === 13) {\n        onClick(e);\n      }\n    }}\n  >\n    <Label\n      className=\"sendbird-dropdown__menu-item__text\"\n      type={LabelTypography.SUBTITLE_2}\n      color={LabelColors.ONBACKGROUND_1}\n    >\n      {children}\n    </Label>\n  </li>\n);\n\nMenuItem.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\n/**\n * For now, this is not a dropdown component that should be used inside forms\n * This should be used in a list or in a nav-bar where you can click\n * and a list of options opens up\n * Also closing the dropdown is a manual operation for now\n * More options, Aria labels etc should be implemented\n */\nconst DropdownMenu = ({ renderButton, renderItems }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const wrapperRef = useRef(null);\n  onClickOutside({\n    ref: wrapperRef,\n    callback: () => setIsOpen(false),\n  });\n  return (\n    <div className=\"sendbird-dropdown\" ref={wrapperRef}>\n      <div className=\"sendbird-dropdown__button\">\n        {renderButton(() => setIsOpen(!isOpen)/** toggle-menu */)}\n      </div>\n      {\n        isOpen && (\n          <ul className=\"sendbird-dropdown__menu\">\n            {renderItems(() => setIsOpen(false)/** close-menu */)}\n          </ul>\n        )\n      }\n    </div>\n  );\n};\n\nDropdownMenu.propTypes = {\n  renderButton: PropTypes.func.isRequired,\n  renderItems: PropTypes.func.isRequired,\n};\n\nexport default DropdownMenu;\n"],"names":["useOutsideAlerter","ref","callback","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","MenuItem","children","onClick","React","e","keyCode","LabelTypography","SUBTITLE_2","LabelColors","ONBACKGROUND_1","propTypes","PropTypes","oneOfType","string","element","isRequired","func","DropdownMenu","renderButton","renderItems","isOpen","setIsOpen","useState","wrapperRef","useRef","onClickOutside"],"mappings":";;;;;AAEe,SAASA,iBAAT,OAGZ;EAAA,IAHuC;IACxCC,GADwC;IAExCC;GACC;;EACD,MAAMC,kBAAkB,GAAIC,KAAD,IAAW;IACpC,IAAIH,GAAG,CAACI,OAAJ,IAAe,CAACJ,GAAG,CAACI,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAApB,EAAwD;MACtDL,QAAQ;;GAFZ;;EAMAM,SAAS,CAAC,MAAM;;IAEdC,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCP,kBAAvC;IACA,OAAO,MAAM;;MAEXM,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CR,kBAA1C;KAFF;GAHO,CAAT;AAQD;;MCZYS,QAAQ,GAAG;EAAA,IAAC;IAAEC,QAAF;IAAYC;GAAb;EAAA,oBACtBC;IACE,SAAS,EAAC,8BADZ;IAEE,IAAI,EAAC,UAFP;IAGE,OAAO,EAAED,OAHX;IAIE,UAAU,EAAGE,CAAD,IAAO;MACjB,IAAIA,CAAC,CAACC,OAAF,KAAc,EAAlB,EAAsB;QACpBH,OAAO,CAACE,CAAD,CAAP;;;kBAIJD,6BAAC,KAAD;IACE,SAAS,EAAC,oCADZ;IAEE,IAAI,EAAEG,eAAe,CAACC,UAFxB;IAGE,KAAK,EAAEC,WAAW,CAACC;KAElBR,QALH,CAVF,CADsB;AAAA;AAqBxBD,QAAQ,CAACU,SAAT,GAAqB;EACnBT,QAAQ,EAAEU,SAAS,CAACC,SAAV,CAAoB,CAC5BD,SAAS,CAACE,MADkB,EAE5BF,SAAS,CAACG,OAFkB,CAApB,EAGPC,UAJgB;EAKnBb,OAAO,EAAES,SAAS,CAACK,IAAV,CAAeD;AALL,CAArB;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;MACME,YAAY,GAAG,SAAmC;EAAA,IAAlC;IAAEC,YAAF;IAAgBC;GAAkB;EACtD,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBC,QAAQ,CAAC,KAAD,CAApC;EACA,MAAMC,UAAU,GAAGC,MAAM,CAAC,IAAD,CAAzB;EACAC,iBAAc,CAAC;IACbpC,GAAG,EAAEkC,UADQ;IAEbjC,QAAQ,EAAE,MAAM+B,SAAS,CAAC,KAAD;GAFb,CAAd;EAIA,oBACElB;IAAK,SAAS,EAAC,mBAAf;IAAmC,GAAG,EAAEoB;kBACtCpB;IAAK,SAAS,EAAC;KACZe,YAAY,CAAC,MAAMG,SAAS,CAAC,CAACD,MAAF;;GAD/B,CADF,EAKIA,MAAM,iBACJjB;IAAI,SAAS,EAAC;KACXgB,WAAW,CAAC,MAAME,SAAS,CAAC,KAAD;;GAD9B,CANN,CADF;AAcD;;AAEDJ,YAAY,CAACP,SAAb,GAAyB;EACvBQ,YAAY,EAAEP,SAAS,CAACK,IAAV,CAAeD,UADN;EAEvBI,WAAW,EAAER,SAAS,CAACK,IAAV,CAAeD;AAFL,CAAzB;;;;"}