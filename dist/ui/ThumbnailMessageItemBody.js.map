{"version":3,"file":"ThumbnailMessageItemBody.js","sources":["../../src/ui/ThumbnailMessageItemBody/index.tsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useState } from 'react';\nimport type { FileMessage } from '@sendbird/chat/message';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isGifMessage, isSentMessage, isVideoMessage } from '../../utils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: FileMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n}\n\nexport default function ThumbnailMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  showFileViewer,\n}: Props): ReactElement {\n  const { thumbnails = [] } = message;\n  const thumbnailUrl: string = thumbnails.length > 0 ? thumbnails[0]?.url : '';\n  const [imageRendered, setImageRendered] = useState(false);\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        message?.reactions?.length > 0 ? 'reactions' : '',\n      ])}\n      onClick={() => {\n        if (isSentMessage(message)) {\n          showFileViewer(true);\n        }\n      }}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={thumbnailUrl || message?.url}\n        alt={message?.type}\n        width=\"360px\"\n        height=\"270px\"\n        onLoad={() => { setImageRendered(true) }}\n        placeHolder={(style) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style}\n          >\n            <div className=\"sendbird-thumbnail-message-item-body__placeholder__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO}\n                fillColor={IconColors.ON_BACKGROUND_2}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )}\n      />\n      {\n        (isVideoMessage(message) && !thumbnailUrl) && !imageRendered && (\n          <video className=\"sendbird-thumbnail-message-item-body__video\">\n            <source src={message?.url} type={message?.type} />\n          </video>\n        )\n      }\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n      {\n        (isVideoMessage(message) || isGifMessage(message)) && (\n          <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper\">\n            <div className=\"sendbird-thumbnail-message-item-body__icon-wrapper__icon\">\n              <Icon\n                type={isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF}\n                fillColor={IconColors.GRAY}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n"],"names":["ThumbnailMessageItemBody","_a","className","message","_d","isByMe","_e","mouseHover","showFileViewer","_f","thumbnails","thumbnailUrl","length","url","_g","useState","imageRendered","setImageRendered","React","getClassName","reactions","isSentMessage","type","style","isVideoMessage","IconTypes","PLAY","PHOTO","IconColors","ON_BACKGROUND_2","isGifMessage","GIF","GRAY"],"mappings":";;;;;;;SAgBwBA,yBAAyBC;;;MAC/CC,SAAS;MACTC,OAAO;MACPC;MAAAC,MAAM,mBAAG;MACTC;MAAAC,UAAU,mBAAG;MACbC,cAAc;EAEN,IAAAC,KAAoBN,OAAO,WAA3B;MAAAO,UAAU,mBAAG,OAAb;EACR,IAAMC,YAAY,GAAWD,UAAU,CAACE,MAAX,GAAoB,CAApB,GAAwB,MAAAF,UAAU,CAAC,CAAD,CAAV,UAAA,iBAAA,SAAA,MAAeG,GAAvC,GAA6C,EAA1E;;EACM,IAAAC,KAAoCC,QAAQ,CAAC,KAAD,CAA5C;MAACC,aAAa,QAAd;MAAgBC,gBAAgB,QAAhC;;EAEN,oBACEC;IACE,SAAS,EAAEC,YAAY,CAAC,CACtBjB,SADsB,EAEtB,sCAFsB,EAGtBG,MAAM,GAAG,UAAH,GAAgB,UAHA,EAItBE,UAAU,GAAG,aAAH,GAAmB,EAJP,EAKtB,CAAA,MAAAJ,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEiB,SAAT,UAAA,iBAAA,SAAA,MAAoBR,MAApB,IAA6B,CAA7B,GAAiC,WAAjC,GAA+C,EALzB,CAAD,CADzB;IAQE,OAAO,EAAE;MACP,IAAIS,aAAa,CAAClB,OAAD,CAAjB,EAA4B;QAC1BK,cAAc,CAAC,IAAD,CAAd;;;kBAIJU,6BAAC,aAAD;IACE,SAAS,EAAC,iDADZ;IAEE,GAAG,EAAEP,YAAY,KAAIR,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEU,GAAb,CAFnB;IAGE,GAAG,EAAEV,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEmB,IAHhB;IAIE,KAAK,EAAC,OAJR;IAKE,MAAM,EAAC,OALT;IAME,MAAM,EAAE;MAAQL,gBAAgB,CAAC,IAAD,CAAhB;KANlB;IAOE,WAAW,EAAE,UAACM,KAAD;MAAW,oBACtBL;QACE,SAAS,EAAC,mDADZ;QAEE,KAAK,EAAEK;sBAEPL;QAAK,SAAS,EAAC;sBACbA,6BAAC,IAAD;QACE,IAAI,EAAEM,cAAc,CAACrB,OAAD,CAAd,GAA0BsB,SAAS,CAACC,IAApC,GAA2CD,SAAS,CAACE,KAD7D;QAEE,SAAS,EAAEC,UAAU,CAACC,eAFxB;QAGE,KAAK,EAAC,MAHR;QAIE,MAAM,EAAC;QALX,CAJF,CADsB;;IArB5B,EAsCKL,cAAc,CAACrB,OAAD,CAAd,IAA2B,CAACQ,YAA7B,IAA8C,CAACK,aAA/C,iBACEE;IAAO,SAAS,EAAC;kBACfA;IAAQ,GAAG,EAAEf,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEU,GAAtB;IAA2B,IAAI,EAAEV,OAAO,SAAP,IAAAA,OAAO,WAAP,SAAA,GAAAA,OAAO,CAAEmB;IAD5C,CAvCN,eA4CEJ;IAAK,SAAS,EAAC;IA5CjB,EA8CI,CAACM,cAAc,CAACrB,OAAD,CAAd,IAA2B2B,YAAY,CAAC3B,OAAD,CAAxC,kBACEe;IAAK,SAAS,EAAC;kBACbA;IAAK,SAAS,EAAC;kBACbA,6BAAC,IAAD;IACE,IAAI,EAAEM,cAAc,CAACrB,OAAD,CAAd,GAA0BsB,SAAS,CAACC,IAApC,GAA2CD,SAAS,CAACM,GAD7D;IAEE,SAAS,EAAEH,UAAU,CAACI,IAFxB;IAGE,KAAK,EAAC,MAHR;IAIE,MAAM,EAAC;IALX,CADF,CA/CN,CADF;AA8DD;;;;"}