{"version":3,"file":"index-7593256d.js","sources":["../src/ui/S3ThumbnailMessageItemBody/index.tsx","../src/ui/MessageContent/index.tsx","../src/smart-components/Channel/components/Message/index.tsx","../src/smart-components/Channel/components/MessageList/index.tsx","../src/smart-components/Channel/components/MessageInput/index.tsx","../src/smart-components/Channel/components/ChannelUI/index.tsx","../src/smart-components/Channel/index.tsx","../src/smart-components/App/index.jsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useState } from 'react';\nimport type { UserMessage } from '@sendbird/chat/message';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isSentMessage } from '../../utils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n}\n\nexport default function S3ThumbnailMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  showFileViewer,\n}: Props): ReactElement {\n  const [imageRendered, setImageRendered] = useState(false);\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        message?.reactions?.length > 0 ? 'reactions' : '',\n      ])}\n      onClick={() => {\n        if (isSentMessage(message)) {\n          showFileViewer(true);\n        }\n      }}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={message.message}\n        alt={message.message}\n        width=\"360px\"\n        height=\"270px\"\n        onLoad={() => { setImageRendered(true) }}\n        placeHolder={(style) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style}\n          >\n            <div className=\"sendbird-thumbnail-message-item-body__placeholder__icon\">\n              <Icon\n                type={IconTypes.PHOTO}\n                fillColor={IconColors.ON_BACKGROUND_2}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )}\n      />\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport UserProfile from '../UserProfile';\nimport MessageStatus from '../MessageStatus';\nimport MessageItemMenu from '../MessageItemMenu';\nimport MessageItemReactionMenu from '../MessageItemReactionMenu';\nimport ContextMenu, { MenuItems } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport EmojiReactions from '../EmojiReactions';\n\nimport ClientAdminMessage from '../AdminMessage';\nimport TextMessageItemBody from '../TextMessageItemBody';\nimport FileMessageItemBody from '../FileMessageItemBody';\nimport ThumbnailMessageItemBody from '../ThumbnailMessageItemBody';\nimport S3ThumbnailMessageItemBody from '../S3ThumbnailMessageItemBody';\nimport OGMessageItemBody from '../OGMessageItemBody';\nimport UnknownMessageItemBody from '../UnknownMessageItemBody';\nimport QuoteMessage from '../QuoteMessage';\n\nimport {\n  getClassName,\n  getUIKitMessageTypes,\n  getUIKitMessageType,\n  isTextMessage,\n  isOGMessage,\n  isThumbnailMessage,\n  getSenderName,\n  isS3ImageMessage,\n} from '../../utils';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport { ReplyType } from '../../module.js';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../hooks/useSendbirdStateContext';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { EmojiContainer } from '@sendbird/chat';\nimport { AdminMessage, FileMessage, UserMessage } from '@sendbird/chat/message';\nimport { FileInputContext } from '../../smart-components/App';\n\ninterface Props {\n  className?: string | Array<string>;\n  userId: string;\n  channel: GroupChannel;\n  message: AdminMessage | UserMessage | FileMessage;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  isReactionEnabled?: boolean;\n  replyType?: ReplyType;\n  nicknamesMap?: Map<string, string>;\n  emojiContainer?: EmojiContainer;\n  scrollToMessage?: (createdAt: number, messageId: number) => void;\n  showEdit?: (bool: boolean) => void;\n  showRemove?: (bool: boolean) => void;\n  showFileViewer?: (bool: boolean) => void;\n  resendMessage?: (message: UserMessage | FileMessage) => Promise<UserMessage | FileMessage>;\n  toggleReaction?: (message: UserMessage | FileMessage, reactionKey: string, isReacted: boolean) => void;\n  setQuoteMessage?: (message: UserMessage | FileMessage) => void;\n}\nexport default function MessageContent({\n  className,\n  userId,\n  channel,\n  message,\n  disabled = false,\n  chainTop = false,\n  chainBottom = false,\n  isReactionEnabled = false,\n  replyType,\n  nicknamesMap,\n  emojiContainer,\n  scrollToMessage,\n  showEdit,\n  showRemove,\n  showFileViewer,\n  resendMessage,\n  toggleReaction,\n  setQuoteMessage,\n}: Props): ReactElement {\n  const messageTypes = getUIKitMessageTypes();\n  const { dateLocale } = useLocalization();\n  const { config } = useSendbirdStateContext?.() || {};\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const { externalBucketUrl } = useContext<FileInputContext>(FileInputContext);\n  const avatarRef = useRef(null);\n  const [mouseHover, setMouseHover] = useState(false);\n  const [supposedHover, setSupposedHover] = useState(false);\n\n  const isByMe = (userId === (message as UserMessage | FileMessage)?.sender?.userId)\n    || ((message as UserMessage | FileMessage).sendingStatus === 'pending')\n    || ((message as UserMessage | FileMessage).sendingStatus === 'failed');\n  const isByMeClassName = isByMe ? 'outgoing' : 'incoming';\n  const chainTopClassName = chainTop ? 'chain-top' : '';\n  const isReactionEnabledClassName = isReactionEnabled ? 'use-reactions' : '';\n  const supposedHoverClassName = supposedHover ? 'supposed-hover' : '';\n  const useReplying = !!((replyType === 'QUOTE_REPLY') && message?.parentMessageId && message?.parentMessage);\n  const useReplyingClassName = useReplying ? 'use-quote' : '';\n\n  if (message?.isAdminMessage?.() || message?.messageType === 'admin') {\n    return (<ClientAdminMessage message={message} />);\n  }\n  return (\n    <div\n      className={getClassName([className, 'sendbird-message-content', isByMeClassName])}\n      onMouseOver={() => setMouseHover(true)}\n      onMouseLeave={() => setMouseHover(false)}\n    >\n      {/* left */}\n      <div className={getClassName(['sendbird-message-content__left', isReactionEnabledClassName, isByMeClassName, useReplyingClassName])}>\n        {(!isByMe && !chainBottom) && (\n          /** user profile */\n          <ContextMenu\n            menuTrigger={(toggleDropdown: () => void): ReactElement => (\n              <Avatar\n                className=\"sendbird-message-content__left__avatar\"\n                // @ts-ignore\n                src={channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.profileUrl || message?.sender?.profileUrl || ''}\n                // TODO: Divide getting profileUrl logic to utils\n                ref={avatarRef}\n                width=\"28px\"\n                height=\"28px\"\n                onClick={(): void => { if (!disableUserProfile) toggleDropdown() }}\n              />\n            )}\n            menuItems={(closeDropdown: () => void): ReactElement => (\n              <MenuItems\n                /**\n                * parentRef: For catching location(x, y) of MenuItems\n                * parentContainRef: For toggling more options(menus & reactions)\n                */\n                parentRef={avatarRef}\n                parentContainRef={avatarRef}\n                closeDropdown={closeDropdown}\n                style={{ paddingTop: 0, paddingBottom: 0 }}\n              >\n                {renderUserProfile\n                  // @ts-ignore\n                  ? renderUserProfile({ user: message?.sender, close: closeDropdown })\n                  // @ts-ignore\n                  : (<UserProfile user={message.sender} onSuccess={closeDropdown} />)\n                }\n              </MenuItems>\n            )}\n          />\n        )}\n        {/* outgoing menu */}\n        {isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', isReactionEnabledClassName, supposedHoverClassName, isByMeClassName])}>\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n          </div>\n        )}\n      </div>\n      {/* middle */}\n      <div className=\"sendbird-message-content__middle\">\n        {(!isByMe && !chainTop && !useReplying) && (\n          <Label\n            className=\"sendbird-message-content__middle__sender-name\"\n            type={LabelTypography.CAPTION_2}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {\n              // @ts-ignore\n              channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.nickname\n              || getSenderName(message as UserMessage | FileMessage)\n              // TODO: Divide getting profileUrl logic to utils\n            }\n          </Label>\n        )}\n        {/* quote message */}\n        {(useReplying) ? (\n          <div className={getClassName(['sendbird-message-content__middle__quote-message', isByMe ? 'outgoing' : 'incoming', useReplyingClassName])}>\n            <QuoteMessage\n              message={message as UserMessage | FileMessage}\n              userId={userId}\n              isByMe={isByMe}\n              onClick={() => {\n                if (message?.parentMessage?.createdAt && message?.parentMessageId) {\n                  scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                }\n              }}\n            />\n          </div>\n        ) : null}\n        {/* container: message item body + emoji reactions */}\n        <div className={getClassName(['sendbird-message-content__middle__body-container'])} >\n          {/* message status component */}\n          {(isByMe && !chainBottom) && (\n            <div className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'left', supposedHoverClassName])}>\n              <div className=\"sendbird-message-content__middle__body-container__created-at__component-container\">\n                <MessageStatus\n                  message={message as UserMessage | FileMessage}\n                  channel={channel}\n                />\n              </div>\n            </div>\n          )}\n          {/* message item body components */}\n          {isTextMessage(message as UserMessage, externalBucketUrl) && (\n            <TextMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isMentionEnabled={config?.isMentionEnabled || false}\n            />\n          )}\n          {(isS3ImageMessage(message as UserMessage, externalBucketUrl)) && (\n            <S3ThumbnailMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              showFileViewer={showFileViewer}\n            />\n          )}\n          {(isOGMessage(message as UserMessage)) && (\n            <OGMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as UserMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              isMentionEnabled={config?.isMentionEnabled || false}\n            />\n          )}\n          {(getUIKitMessageType((message as FileMessage)) === messageTypes.FILE) && (\n            <FileMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as FileMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n            />\n          )}\n          {(isThumbnailMessage(message as FileMessage)) && (\n            <ThumbnailMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message as FileMessage}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n              showFileViewer={showFileViewer}\n            />\n          )}\n          {(getUIKitMessageType((message as FileMessage)) === messageTypes.UNKNOWN) && (\n            <UnknownMessageItemBody\n              className=\"sendbird-message-content__middle__message-item-body\"\n              message={message}\n              isByMe={isByMe}\n              mouseHover={mouseHover}\n            />\n          )}\n          {/* reactions */}\n          {(isReactionEnabled && message?.reactions?.length > 0) && (\n            <div className={getClassName([\n              'sendbird-message-content-reactions',\n              (!isByMe || isThumbnailMessage(message as FileMessage) || isOGMessage(message as UserMessage)) ? '' : 'primary',\n              mouseHover ? 'mouse-hover' : '',\n            ])}>\n              <EmojiReactions\n                userId={userId}\n                message={message as UserMessage | FileMessage}\n                isByMe={isByMe}\n                emojiContainer={emojiContainer}\n                memberNicknamesMap={nicknamesMap}\n                toggleReaction={toggleReaction}\n              />\n            </div>\n          )}\n          {(!isByMe && !chainBottom) && (\n            <Label\n              className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'right', supposedHoverClassName])}\n              type={LabelTypography.CAPTION_3}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {format(message?.createdAt || 0, 'p', {\n                locale: dateLocale,\n              })}\n            </Label>\n          )}\n        </div>\n      </div>\n      {/* right */}\n      <div className={getClassName(['sendbird-message-content__right', chainTopClassName, isReactionEnabledClassName, useReplyingClassName])}>\n        {/* incoming menu */}\n        {!isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', chainTopClassName, supposedHoverClassName, isByMeClassName])}>\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, {\n  useRef,\n  useMemo,\n  useState,\n  useEffect,\n  useLayoutEffect,\n} from 'react';\nimport type { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\n\nimport SuggestedMentionList from '../SuggestedMentionList';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport { getClassName } from '../../../../utils';\nimport { isDisabledBecauseFrozen, isDisabledBecauseMuted } from '../../context/utils';\nimport { MAX_USER_MENTION_COUNT, MAX_USER_SUGGESTION_COUNT } from '../../context/const';\n\nimport DateSeparator from '../../../../ui/DateSeparator';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport MessageInput from '../../../../ui/MessageInput';\nimport MessageContent from '../../../../ui/MessageContent';\nimport FileViewer from '../FileViewer';\nimport RemoveMessageModal from '../RemoveMessageModal';\nimport { MessageInputKeys } from '../../../../ui/MessageInput/const';\nimport { EveryMessage, RenderMessageProps } from '../../../../types';\nimport { useLocalization } from '../../../../lib/LocalizationContext';\n\ntype MessageUIProps = {\n  message: EveryMessage;\n  hasSeparator?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  handleScroll: () => void;\n  // for extending\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderCustomSeparator?: () => React.ReactElement;\n  renderEditInput?: () => React.ReactElement;\n  renderMessageContent?: () => React.ReactElement;\n};\n\nconst Message = (props: MessageUIProps): React.FC<MessageUIProps> | React.ReactElement => {\n  const {\n    message,\n    hasSeparator,\n    chainTop,\n    chainBottom,\n    handleScroll,\n    renderCustomSeparator,\n    renderEditInput,\n    renderMessage,\n    renderMessageContent,\n  } = props;\n\n  const { dateLocale } = useLocalization();\n  const globalStore = useSendbirdStateContext();\n  const {\n    userId,\n    isOnline,\n    isMentionEnabled,\n    userMention,\n  } = globalStore?.config;\n  const maxUserMentionCount = userMention?.maxMentionCount || MAX_USER_MENTION_COUNT;\n  const maxUserSuggestionCount = userMention?.maxSuggestionCount || MAX_USER_SUGGESTION_COUNT;\n\n  const {\n    initialized,\n    currentGroupChannel,\n    highLightedMessageId,\n    setHighLightedMessageId,\n    animatedMessageId,\n    setAnimatedMessageId,\n    updateMessage,\n    scrollToMessage,\n    replyType,\n    isReactionEnabled,\n    toggleReaction,\n    emojiContainer,\n    nicknamesMap,\n    setQuoteMessage,\n    resendMessage,\n    renderUserMentionItem,\n  } = useChannelContext();\n\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const [isHighlighted, setIsHighlighted] = useState(false);\n  const [mentionNickname, setMentionNickname] = useState('');\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [mentionedUserIds, setMentionedUserIds] = useState([]);\n  const [messageInputEvent, setMessageInputEvent] = useState(null);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [mentionSuggestedUsers, setMentionSuggestedUsers] = useState([]);\n  const [ableMention, setAbleMention] = useState(true);\n  const editMessageInputRef = useRef(null);\n  const useMessageScrollRef = useRef(null);\n  const displaySuggestedMentionList = isOnline\n    && isMentionEnabled\n    && mentionNickname.length > 0\n    && !isDisabledBecauseFrozen(currentGroupChannel)\n    && !isDisabledBecauseMuted(currentGroupChannel);\n  const disabled = !initialized\n    || isDisabledBecauseFrozen(currentGroupChannel)\n    || isDisabledBecauseMuted(currentGroupChannel)\n    || !isOnline;\n\n  useEffect(() => {\n    if (mentionedUsers?.length >= maxUserMentionCount) {\n      setAbleMention(false);\n    } else {\n      setAbleMention(true);\n    }\n  }, [mentionedUsers]);\n\n  useEffect(() => {\n    setMentionedUsers(mentionedUsers.filter(({ userId }) => {\n      const i = mentionedUserIds.indexOf(userId);\n      if (i < 0) {\n        return false;\n      } else {\n        mentionedUserIds.splice(i, 1);\n        return true;\n      }\n    }));\n  }, [mentionedUserIds]);\n\n  useLayoutEffect(() => {\n    handleScroll?.();\n  }, [showEdit, message?.reactions?.length]);\n\n  useLayoutEffect(() => {\n    if (highLightedMessageId === message.messageId) {\n      if (useMessageScrollRef && useMessageScrollRef.current) {\n        useMessageScrollRef.current.scrollIntoView({ block: 'center', inline: 'center' });\n        setIsAnimated(false);\n        setTimeout(() => {\n          setIsHighlighted(true);\n        }, 500);\n        setTimeout(() => {\n          setHighLightedMessageId(0);\n        }, 1600);\n      }\n    } else {\n      setIsHighlighted(false);\n    }\n  }, [highLightedMessageId, useMessageScrollRef.current, message.messageId]);\n\n  useLayoutEffect(() => {\n    if (animatedMessageId === message.messageId) {\n      if (useMessageScrollRef && useMessageScrollRef.current) {\n        useMessageScrollRef.current.scrollIntoView({ block: 'center', inline: 'center' });\n        setIsHighlighted(false);\n        setTimeout(() => {\n          setIsAnimated(true);\n        }, 500);\n        setTimeout(() => {\n          setAnimatedMessageId(0);\n        }, 1600);\n      }\n    } else {\n      setIsAnimated(false);\n    }\n  }, [animatedMessageId, useMessageScrollRef.current, message.messageId]);\n  const renderedMessage = useMemo(() => {\n    return renderMessage?.({\n      message,\n      chainTop,\n      chainBottom,\n    });\n  }, [message, renderMessage]);\n  const renderedCustomSeparator = useMemo(() => {\n    if (renderCustomSeparator) {\n      return renderCustomSeparator?.();\n    }\n    return null;\n  }, [message, renderCustomSeparator]);\n\n  if (renderedMessage) {\n    return (\n      <div\n        ref={useMessageScrollRef}\n        className={getClassName([\n          'sendbird-msg-hoc sendbird-msg--scroll-ref',\n          isAnimated ? 'sendbird-msg-hoc__animated' : '',\n          isHighlighted ? 'sendbird-msg-hoc__highlighted' : '',\n        ])}\n      >\n        {/* date-separator */}\n        {\n          // TODO: Add message instance as a function parameter\n          hasSeparator && (renderedCustomSeparator || (\n            <DateSeparator>\n              <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n                {format(message.createdAt, 'MMMM dd, yyyy', {\n                  locale: dateLocale,\n                })}\n              </Label>\n            </DateSeparator>\n          ))\n        }\n        {renderedMessage}\n      </div>\n    );\n  }\n\n  if (showEdit && message.isUserMessage()) {\n    return renderEditInput?.() || (\n      <>\n        {\n          displaySuggestedMentionList && (\n            <SuggestedMentionList\n              targetNickname={mentionNickname}\n              inputEvent={messageInputEvent}\n              renderUserMentionItem={renderUserMentionItem}\n              onUserItemClick={(user) => {\n                if (user) {\n                  setMentionedUsers([...mentionedUsers, user]);\n                }\n                setMentionNickname('');\n                setSelectedUser(user);\n                setMessageInputEvent(null);\n              }}\n              onFocusItemChange={() => {\n                setMessageInputEvent(null);\n              }}\n              onFetchUsers={(users) => {\n                setMentionSuggestedUsers(users);\n              }}\n              ableAddMention={ableMention}\n              maxMentionCount={maxUserMentionCount}\n              maxSuggestionCount={maxUserSuggestionCount}\n            />\n          )\n        }\n        <MessageInput\n          isEdit\n          disabled={disabled}\n          ref={editMessageInputRef}\n          mentionSelectedUser={selectedUser}\n          isMentionEnabled={isMentionEnabled}\n          message={message}\n          onUpdateMessage={({ messageId, message, mentionTemplate }) => {\n            updateMessage({\n              messageId,\n              message,\n              mentionedUsers,\n              mentionTemplate,\n            });\n            setShowEdit(false);\n          }}\n          onCancelEdit={() => {\n            setMentionNickname('');\n            setMentionedUsers([]);\n            setMentionedUserIds([]);\n            setMentionSuggestedUsers([])\n            setShowEdit(false);\n          }}\n          onUserMentioned={(user) => {\n            if (selectedUser?.userId === user?.userId) {\n              setSelectedUser(null);\n              setMentionNickname('');\n            }\n          }}\n          onMentionStringChange={(mentionText) => {\n            setMentionNickname(mentionText);\n          }}\n          onMentionedUserIdsUpdated={(userIds) => {\n            setMentionedUserIds(userIds);\n          }}\n          onKeyDown={(e) => {\n            if (displaySuggestedMentionList && mentionSuggestedUsers?.length > 0\n              && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)\n            ) {\n              setMessageInputEvent(e);\n              return true;\n            }\n            return false;\n          }}\n        />\n      </>\n    );\n  }\n\n  return (\n    <div\n      className={getClassName([\n        'sendbird-msg-hoc sendbird-msg--scroll-ref',\n        isAnimated ? 'sendbird-msg-hoc__animated' : '',\n        isHighlighted ? 'sendbird-msg-hoc__highlighted' : '',\n      ])}\n      style={{ marginBottom: '2px' }}\n      ref={useMessageScrollRef}\n    >\n      {/* date-separator */}\n      {\n        hasSeparator && (renderedCustomSeparator || (\n          <DateSeparator>\n            <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n              {format(message.createdAt, 'MMMM dd, yyyy', {\n                locale: dateLocale,\n              })}\n            </Label>\n          </DateSeparator>\n        ))\n      }\n      {/* Message */}\n      {\n        renderMessageContent?.() || (\n          <MessageContent\n            className=\"sendbird-message-hoc__message-content\"\n            userId={userId}\n            scrollToMessage={scrollToMessage}\n            channel={currentGroupChannel}\n            message={message}\n            disabled={!isOnline}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n            isReactionEnabled={isReactionEnabled}\n            replyType={replyType}\n            nicknamesMap={nicknamesMap}\n            emojiContainer={emojiContainer}\n            showEdit={setShowEdit}\n            showRemove={setShowRemove}\n            showFileViewer={setShowFileViewer}\n            resendMessage={resendMessage}\n            toggleReaction={toggleReaction}\n            setQuoteMessage={setQuoteMessage}\n          />\n        )\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            message={message}\n            onCancel={() => setShowRemove(false)}\n          />\n        )\n      }\n      {\n        showFileViewer && (\n          <FileViewer\n            message={message as FileMessage}\n            onCancel={() => setShowFileViewer(false)}\n          />\n        )\n      }\n    </div>\n  );\n};\n\nexport default Message;\n","import './message-list.scss';\n\nimport React, { useState, useMemo } from 'react';\nimport isSameDay from 'date-fns/isSameDay';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport { compareMessagesForGrouping } from '../../context/utils';\nimport Message from '../Message';\nimport { RenderMessageProps } from '../../../../types';\nimport { isAboutSame } from '../../context/utils';\nimport uuidv4 from '../../../../utils/uuid';\n\nexport type MessageListProps = {\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderPlaceholderEmpty?: () => React.ReactElement;\n  renderCustomSeparator?: () => React.ReactElement;\n};\n\nconst SCROLL_REF_CLASS_NAME = '.sendbird-msg--scroll-ref';\n\nconst MessageList: React.FC<MessageListProps> = (props: MessageListProps) => {\n  const {\n    renderMessage,\n    renderPlaceholderEmpty,\n    renderCustomSeparator,\n  } = props;\n  const {\n    allMessages,\n    hasMorePrev,\n    setInitialTimeStamp,\n    setAnimatedMessageId,\n    setHighLightedMessageId,\n    isMessageGroupingEnabled,\n    scrollRef,\n    onScrollCallback,\n    onScrollDownCallback,\n    messagesDispatcher,\n    messageActionTypes,\n    currentGroupChannel,\n  } = useChannelContext();\n  const [scrollBottom, setScrollBottom] = useState(0);\n\n  const onScroll = (e) => {\n    const element = e.target;\n    const {\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    } = element;\n\n    if (scrollTop === 0) {\n      if (!hasMorePrev) {\n        return;\n      }\n      const nodes = scrollRef.current.querySelectorAll(SCROLL_REF_CLASS_NAME);\n      const first = nodes && nodes[0];\n      onScrollCallback(([messages]) => {\n        if (messages) {\n          // https://github.com/scabbiaza/react-scroll-position-on-updating-dom\n          // Set block to nearest to prevent unexpected scrolling from outer components\n          try {\n            first.scrollIntoView({ block: \"start\", inline: \"nearest\" });\n          } catch (error) {\n            //\n          }\n        }\n      });\n    }\n\n    if (isAboutSame(clientHeight + scrollTop, scrollHeight, 10)) {\n      onScrollDownCallback(([messages]) => {\n        if (messages) {\n          try {\n            element.scrollTop = scrollHeight - clientHeight;\n          } catch (error) {\n            //\n          }\n        }\n      });\n    }\n\n    // save the lastest scroll bottom value\n    if (scrollRef?.current) {\n      const current = scrollRef?.current;\n      setScrollBottom(current.scrollHeight - current.scrollTop - current.offsetHeight)\n    }\n\n    // do this later\n    setTimeout(() => {\n      // mark as read if scroll is at end\n      if (clientHeight + scrollTop === scrollHeight) {\n        messagesDispatcher({\n          type: messageActionTypes.MARK_AS_READ,\n          payload: { channel: currentGroupChannel },\n        });\n        currentGroupChannel?.markAsRead();\n      }\n    }, 500);\n  };\n\n  const onClickScrollBot = () => {\n    setInitialTimeStamp?.(null);\n    setAnimatedMessageId?.(null);\n    setHighLightedMessageId?.(null);\n    if (scrollRef?.current?.scrollTop > -1) {\n      scrollRef.current.scrollTop = scrollRef?.current?.scrollHeight - scrollRef?.current?.offsetHeight;\n    }\n  };\n\n  // Because every message components are re-rendered everytime by every scroll events\n  const memoizedAllMessages = useMemo(() => {\n    return (\n      allMessages.map((m, idx) => {\n        const previousMessage = allMessages[idx - 1];\n        const nextMessage = allMessages[idx + 1];\n        const [chainTop, chainBottom] = isMessageGroupingEnabled\n          ? compareMessagesForGrouping(previousMessage, m, nextMessage)\n          : [false, false];\n        const previousMessageCreatedAt = previousMessage?.createdAt;\n        const currentCreatedAt = m.createdAt;\n        // https://stackoverflow.com/a/41855608\n        const hasSeparator = !(previousMessageCreatedAt && (\n          isSameDay(currentCreatedAt, previousMessageCreatedAt)\n        ));\n\n        const handleScroll = () => {\n          const current = scrollRef?.current;\n          if (current) {\n            const bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n            if (scrollBottom < bottom) {\n              current.scrollTop += bottom - scrollBottom;\n            }\n          }\n        }\n\n        return (\n          <Message\n            handleScroll={handleScroll}\n            renderMessage={renderMessage}\n            message={m}\n            hasSeparator={hasSeparator}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n            renderCustomSeparator={renderCustomSeparator}\n            key={m.messageId + uuidv4()}\n          />\n        );\n      })\n    );\n  }, [allMessages]);\n\n  if (allMessages.length < 1) {\n    return (\n      <>\n        {\n          renderPlaceholderEmpty?.() || (\n            <PlaceHolder\n              className=\"sendbird-conversation__no-messages\"\n              type={PlaceHolderTypes.NO_MESSAGES}\n            />)\n        }\n      </>\n    );\n  }\n  return (\n    <div className=\"sendbird-conversation__messages\">\n      <div className=\"sendbird-conversation__scroll-container\">\n        <div className=\"sendbird-conversation__padding\" />\n        <div\n          className=\"sendbird-conversation__messages-padding\"\n          ref={scrollRef}\n          onScroll={onScroll}\n        >\n          {memoizedAllMessages}\n        </div>\n      </div>\n      {\n        // This flag is an unmatched variable\n        (scrollBottom > 1) && (\n          <div\n            className=\"sendbird-conversation__scroll-bottom-button\"\n            onClick={onClickScrollBot}\n            onKeyDown={onClickScrollBot}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <Icon\n              width=\"24px\"\n              height=\"24px\"\n              type={IconTypes.CHEVRON_DOWN}\n              fillColor={IconColors.PRIMARY}\n            />\n          </div>\n        )\n      }\n    </div>\n  );\n};\n\nexport default MessageList;\n","import type { User } from '@sendbird/chat';\n\nimport React, { useState, useContext, useEffect } from 'react';\n\nimport './message-input.scss';\nimport * as utils from '../../context/utils';\n\nimport MessageInput from '../../../../ui/MessageInput';\nimport QuoteMessageInput from '../../../../ui/QuoteMessageInput';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport SuggestedMentionList from '../SuggestedMentionList';\nimport { MessageInputKeys } from '../../../../ui/MessageInput/const';\nimport { FileInputContext } from '../../../../smart-components/App';\n\nconst MessageInputWrapper = (): JSX.Element => {\n  const {\n    currentGroupChannel,\n    initialized,\n    quoteMessage,\n    sendMessage,\n    sendFileMessage,\n    setQuoteMessage,\n    messageInputRef,\n    renderUserMentionItem,\n  } = useChannelContext();\n  const globalStore = useSendbirdStateContext();\n  const channel = currentGroupChannel;\n\n  const { isOnline, isMentionEnabled, userMention } = globalStore?.config;\n  const maxUserMentionCount = userMention?.maxMentionCount || 10;\n  const maxUserSuggestionCount = userMention?.maxSuggestionCount || 15;\n\n  const { onFilePicked } = useContext<FileInputContext>(FileInputContext);\n  const { stringSet } = useContext(LocalizationContext);\n  const [mentionNickname, setMentionNickname] = useState('');\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [mentionedUserIds, setMentionedUserIds] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [mentionSuggestedUsers, setMentionSuggestedUsers] = useState([]);\n  const [ableMention, setAbleMention] = useState(true);\n  const [messageInputEvent, setMessageInputEvent] = useState(null);\n  const disabled = !initialized\n    || utils.isDisabledBecauseFrozen(channel)\n    || utils.isDisabledBecauseMuted(channel)\n    || !isOnline;\n  const isOperator = utils.isOperator(channel);\n  const isBroadcast = channel?.isBroadcast;\n\n  const displaySuggestedMentionList = isOnline\n    && isMentionEnabled\n    && mentionNickname.length > 0\n    && !utils.isDisabledBecauseFrozen(channel)\n    && !utils.isDisabledBecauseMuted(channel);\n\n  // Reset when channel changes\n  useEffect(() => {\n    setMentionNickname('');\n    setMentionedUsers([]);\n    setMentionedUserIds([]);\n    setSelectedUser(null);\n    setMentionSuggestedUsers([]);\n    setAbleMention(true);\n    setMessageInputEvent(null);\n  }, [channel?.url]);\n\n  useEffect(() => {\n    if (mentionedUsers?.length >= maxUserMentionCount) {\n      setAbleMention(false);\n    } else {\n      setAbleMention(true);\n    }\n  }, [mentionedUsers]);\n\n  useEffect(() => {\n    setMentionedUsers(mentionedUsers.filter(({ userId }) => {\n      const i = mentionedUserIds.indexOf(userId);\n      if (i < 0) {\n        return false;\n      } else {\n        mentionedUserIds.splice(i, 1);\n        return true;\n      }\n    }));\n  }, [mentionedUserIds]);\n\n  // broadcast channel + not operator\n  if (isBroadcast && !isOperator) {\n    return null;\n  }\n  // other conditions\n  return (\n    <div className=\"sendbird-message-input-wrapper\">\n      {\n        displaySuggestedMentionList && (\n          <SuggestedMentionList\n            targetNickname={mentionNickname}\n            inputEvent={messageInputEvent}\n            renderUserMentionItem={renderUserMentionItem}\n            onUserItemClick={(user) => {\n              if (user) {\n                setMentionedUsers([...mentionedUsers, user]);\n              }\n              setMentionNickname('');\n              setSelectedUser(user);\n              setMessageInputEvent(null);\n            }}\n            onFocusItemChange={() => {\n              setMessageInputEvent(null);\n            }}\n            onFetchUsers={(users) => {\n              setMentionSuggestedUsers(users);\n            }}\n            ableAddMention={ableMention}\n            maxMentionCount={maxUserMentionCount}\n            maxSuggestionCount={maxUserSuggestionCount}\n          />\n        )\n      }\n      {quoteMessage && (\n        <div className=\"sendbird-message-input-wrapper__quote-message-input\">\n          <QuoteMessageInput\n            replyingMessage={quoteMessage}\n            onClose={() => setQuoteMessage(null)}\n          />\n        </div>\n      )}\n      <MessageInput\n        className=\"sendbird-message-input-wrapper__message-input\"\n        channelUrl={channel?.url}\n        mentionSelectedUser={selectedUser}\n        isMentionEnabled={isMentionEnabled}\n        placeholder={\n          (quoteMessage && stringSet.MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER)\n          || (utils.isDisabledBecauseFrozen(channel) && stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED)\n          || (utils.isDisabledBecauseMuted(channel) && stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED)\n        }\n        ref={messageInputRef}\n        disabled={disabled}\n        onStartTyping={() => {\n          channel?.startTyping();\n        }}\n        onSendMessage={({ message, mentionTemplate }) => {\n          sendMessage({\n            message,\n            quoteMessage,\n            mentionedUsers,\n            mentionTemplate,\n          });\n          setMentionNickname('');\n          setMentionedUsers([]);\n          setQuoteMessage(null);\n          channel?.endTyping();\n        }}\n        onFileUpload={(file) => {\n          // TODO: upload to s3\n          onFilePicked(file).then((result) => {\n            if(result) {\n              sendMessage({\n                message: result,\n              })\n            }\n          });\n\n          // sendFileMessage(file, quoteMessage);\n          setQuoteMessage(null);\n        }}\n        onUserMentioned={(user) => {\n          if (selectedUser?.userId === user?.userId) {\n            setSelectedUser(null);\n            setMentionNickname('');\n          }\n        }}\n        onMentionStringChange={(mentionText) => {\n          setMentionNickname(mentionText);\n        }}\n        onMentionedUserIdsUpdated={(userIds) => {\n          setMentionedUserIds(userIds);\n        }}\n        onKeyDown={(e) => {\n          if (displaySuggestedMentionList && mentionSuggestedUsers?.length > 0\n            && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)\n          ) {\n            setMessageInputEvent(e);\n            return true;\n          }\n          return false;\n        }}\n      />\n    </div>\n  );\n}\n\nexport default React.forwardRef(MessageInputWrapper);\n","import './channel-ui.scss';\n\nimport React, { useEffect, useState } from 'react';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport ConnectionStatus from '../../../../ui/ConnectionStatus';\nimport ChannelHeader from '../ChannelHeader';\nimport MessageList from '../MessageList';\nimport TypingIndicator from '../TypingIndicator';\nimport FrozenNotification from '../FrozenNotification';\nimport UnreadCount from '../UnreadCount';\nimport MessageInputWrapper from '../MessageInput';\nimport { RenderMessageProps } from '../../../../types';\nimport * as messageActionTypes from '../../context/dux/actionTypes';\n\nexport interface ChannelUIProps {\n  renderPlaceholderLoader?: () => React.ReactNode;\n  renderPlaceholderInvalid?: () => React.ReactNode;\n  renderPlaceholderEmpty?: () => React.ReactNode;\n  renderChannelHeader?: () => React.ReactNode;\n  renderMessage?: (props: RenderMessageProps) => React.ReactNode;\n  renderMessageInput?: () => React.ReactNode;\n  renderTypingIndicator?: () => React.ReactNode;\n  renderCustomSeparator?: () => React.ReactNode;\n}\n\nconst ChannelUI: React.FC<ChannelUIProps> = ({\n  renderPlaceholderLoader,\n  renderPlaceholderInvalid,\n  renderPlaceholderEmpty,\n  renderChannelHeader,\n  renderMessage,\n  renderMessageInput,\n  renderTypingIndicator,\n  renderCustomSeparator,\n}: ChannelUIProps) => {\n  const {\n    currentGroupChannel,\n    channelUrl,\n    isInvalid,\n    unreadSince,\n    loading,\n    setInitialTimeStamp,\n    setAnimatedMessageId,\n    setHighLightedMessageId,\n    scrollRef,\n    messagesDispatcher,\n  } = useChannelContext();\n  const [unreadCount, setUnreadCount] = useState(0);\n  useEffect(() => {\n    setUnreadCount(currentGroupChannel?.unreadMessageCount);\n  }, [currentGroupChannel?.unreadMessageCount]);\n\n  const globalStore = useSendbirdStateContext();\n  const sdkError = globalStore?.stores?.sdkStore?.error;\n  const logger = globalStore?.config?.logger;\n  const isOnline = globalStore?.config?.isOnline;\n\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderInvalid?.() || (\n          <PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} />\n        )\n      }\n    </div>);\n  }\n  if (isInvalid) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder type={PlaceHolderTypes.WRONG} />\n          )\n        }\n      </div>\n    );\n  }\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder\n              type={PlaceHolderTypes.WRONG}\n              retryToConnect={() => {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n  return (\n    <div className='sendbird-conversation'>\n      {\n        renderChannelHeader?.() || (\n          <ChannelHeader />\n        )\n      }\n      {\n        currentGroupChannel?.isFrozen && (\n          <FrozenNotification />\n        )\n      }\n      {\n        unreadCount > 0 && (\n          <UnreadCount\n            count={unreadCount}\n            time={unreadSince}\n            onClick={() => {\n              setUnreadCount(0);\n              if (scrollRef?.current?.scrollTop) {\n                scrollRef.current.scrollTop = scrollRef?.current?.scrollHeight - scrollRef?.current?.offsetHeight;\n              }\n              currentGroupChannel?.markAsRead();\n              messagesDispatcher({\n                type: messageActionTypes.MARK_AS_READ,\n                payload: { channel: currentGroupChannel },\n              });\n              setInitialTimeStamp(null);\n              setAnimatedMessageId(null);\n              setHighLightedMessageId(null);\n            }}\n          />\n        )\n      }\n      {\n        loading\n          ? (\n            <div className=\"sendbird-conversation\">\n              {\n                renderPlaceholderLoader?.() || (\n                  <PlaceHolder type={PlaceHolderTypes.LOADING} />\n                )\n              }\n            </div>\n          ) : (\n            <MessageList\n              renderMessage={renderMessage}\n              renderPlaceholderEmpty={renderPlaceholderEmpty}\n              renderCustomSeparator={renderCustomSeparator}\n            />\n          )\n      }\n      <div className=\"sendbird-conversation__footer\">\n        {\n          renderMessageInput?.() || (\n            <MessageInputWrapper />\n          )\n        }\n        <div className=\"sendbird-conversation__footer__typing-indicator\">\n          {\n            renderTypingIndicator?.() || (\n              <TypingIndicator />\n            )\n          }\n          {\n            !isOnline && (\n              <ConnectionStatus />\n            )\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChannelUI;\n","import React from 'react';\n\nimport {\n  ChannelProvider,\n  ChannelContextProps,\n} from './context/ChannelProvider';\n\nimport ChannelUI, { ChannelUIProps } from './components/ChannelUI';\nexport interface ChannelProps extends ChannelContextProps, ChannelUIProps {\n}\n\nconst Channel: React.FC<ChannelProps> = (props: ChannelProps) => {\n  return (\n    <ChannelProvider\n      channelUrl={props?.channelUrl}\n      isReactionEnabled={props?.isReactionEnabled}\n      isMessageGroupingEnabled={props?.isMessageGroupingEnabled}\n      showSearchIcon={props?.showSearchIcon}\n      highlightedMessage={props?.highlightedMessage}\n      startingPoint={props?.startingPoint}\n      onBeforeSendUserMessage={props?.onBeforeSendUserMessage}\n      onBeforeSendFileMessage={props?.onBeforeSendFileMessage}\n      onBeforeUpdateUserMessage={props?.onBeforeUpdateUserMessage}\n      onChatHeaderActionClick={props?.onChatHeaderActionClick}\n      onSearchClick={props?.onSearchClick}\n      replyType={props?.replyType}\n      queries={props?.queries}\n      renderUserProfile={props?.renderUserProfile}\n      disableUserProfile={props?.disableUserProfile}\n    >\n      <ChannelUI\n        renderPlaceholderLoader={props?.renderPlaceholderLoader}\n        renderPlaceholderInvalid={props?.renderPlaceholderInvalid}\n        renderPlaceholderEmpty={props?.renderPlaceholderEmpty}\n        renderChannelHeader={props?.renderChannelHeader}\n        renderMessage={props?.renderMessage}\n        renderMessageInput={props?.renderMessageInput}\n        renderTypingIndicator={props?.renderTypingIndicator}\n        renderCustomSeparator={props?.renderCustomSeparator}\n      />\n    </ChannelProvider>\n  );\n};\n\nexport default Channel;\n","/**\n * This is a drop in Chat solution\n * Can also be used as an example for creating\n * default chat apps\n */\nimport React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Sendbird from '../../lib/Sendbird';\n\nimport ChannelList from '../ChannelList';\nimport Channel from '../Channel';\nimport ChannelSettings from '../ChannelSettings';\nimport MessageSearchPannel from '../MessageSearch';\n\nimport './index.scss';\n\nconst FileInputContext = createContext({\n  onFilePicked: (file) => file.name,\n  externalBucketUrl: '',\n});\n\nexport { FileInputContext };\nexport default function App(props) {\n  const {\n    appId,\n    userId,\n    accessToken,\n    theme,\n    userListQuery,\n    nickname,\n    profileUrl,\n    dateLocale,\n    config = {},\n    isReactionEnabled,\n    isMentionEnabled,\n    replyType,\n    isMessageGroupingEnabled,\n    colorSet,\n    stringSet,\n    allowProfileEdit,\n    disableUserProfile,\n    renderUserProfile,\n    showSearchIcon,\n    onProfileEditSuccess,\n    imageCompression,\n    disableAutoSelect,\n    isTypingIndicatorEnabledOnChannelList,\n    isMessageReceiptStatusEnabledOnChannelList,\n    onFilePicked,\n    externalBucketUrl,\n  } = props;\n  const [currentChannelUrl, setCurrentChannelUrl] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [highlightedMessage, setHighlightedMessage] = useState(null);\n  const [startingPoint, setStartingPoint] = useState(null);\n\n  return (\n    <FileInputContext.Provider value={{ onFilePicked, externalBucketUrl }}>\n      <Sendbird\n        stringSet={stringSet}\n        appId={appId}\n        userId={userId}\n        accessToken={accessToken}\n        theme={theme}\n        nickname={nickname}\n        profileUrl={profileUrl}\n        dateLocale={dateLocale}\n        userListQuery={userListQuery}\n        config={config}\n        colorSet={colorSet}\n        disableUserProfile={disableUserProfile}\n        renderUserProfile={renderUserProfile}\n        imageCompression={imageCompression}\n        isReactionEnabled={isReactionEnabled}\n        isMentionEnabled={isMentionEnabled}\n        isTypingIndicatorEnabledOnChannelList={isTypingIndicatorEnabledOnChannelList}\n        isMessageReceiptStatusEnabledOnChannelList={isMessageReceiptStatusEnabledOnChannelList}\n      >\n        <div className=\"sendbird-app__wrap\">\n          <div className=\"sendbird-app__channellist-wrap\">\n            <ChannelList\n              allowProfileEdit={allowProfileEdit}\n              onProfileEditSuccess={onProfileEditSuccess}\n              disableAutoSelect={disableAutoSelect}\n              onChannelSelect={(channel) => {\n                setStartingPoint(null);\n                setHighlightedMessage(null);\n                if (channel?.url) {\n                  setCurrentChannelUrl(channel.url);\n                } else {\n                  setCurrentChannelUrl('');\n                }\n              }}\n            />\n          </div>\n          <div\n            className={`\n              ${showSettings ? 'sendbird-app__conversation--settings-open' : ''}\n              ${showSearch ? 'sendbird-app__conversation--search-open' : ''}\n              sendbird-app__conversation-wrap\n            `}\n          >\n            <Channel\n              channelUrl={currentChannelUrl}\n              onChatHeaderActionClick={() => {\n                setShowSearch(false);\n                setShowSettings(!showSettings);\n              }}\n              onSearchClick={() => {\n                setShowSettings(false);\n                setShowSearch(!showSearch);\n              }}\n              showSearchIcon={showSearchIcon}\n              startingPoint={startingPoint}\n              highlightedMessage={highlightedMessage}\n              isReactionEnabled={isReactionEnabled}\n              replyType={replyType}\n              isMessageGroupingEnabled={isMessageGroupingEnabled}\n            />\n          </div>\n          {showSettings && (\n            <div className=\"sendbird-app__settingspanel-wrap\">\n              <ChannelSettings\n                className=\"sendbird-channel-settings\"\n                channelUrl={currentChannelUrl}\n                onCloseClick={() => {\n                  setShowSettings(false);\n                }}\n              />\n            </div>\n          )}\n          {showSearch && (\n            <div className=\"sendbird-app__searchpanel-wrap\">\n              <MessageSearchPannel\n                channelUrl={currentChannelUrl}\n                onResultClick={(message) => {\n                  if (message.messageId === highlightedMessage) {\n                    setHighlightedMessage(null);\n                    setTimeout(() => {\n                      setHighlightedMessage(message.messageId);\n                    });\n                  } else {\n                    setStartingPoint(message.createdAt);\n                    setHighlightedMessage(message.messageId);\n                  }\n                }}\n                onCloseClick={() => {\n                  setShowSearch(false);\n                }}\n              />\n            </div>\n          )}\n        </div>\n      </Sendbird>\n    </FileInputContext.Provider>\n  );\n}\n\nApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  theme: PropTypes.string,\n  userListQuery: PropTypes.func,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  allowProfileEdit: PropTypes.bool,\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  onProfileEditSuccess: PropTypes.func,\n  dateLocale: PropTypes.shape({}),\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n  }),\n  isReactionEnabled: PropTypes.bool,\n  replyType: PropTypes.oneOf(['NONE', 'QUOTE_REPLY', 'THREAD']),\n  showSearchIcon: PropTypes.bool,\n  isMessageGroupingEnabled: PropTypes.bool,\n  stringSet: PropTypes.objectOf(PropTypes.string),\n  colorSet: PropTypes.objectOf(PropTypes.string),\n  imageCompression: PropTypes.shape({\n    compressionRate: PropTypes.number,\n    resizingWidth: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n    resizingHeight: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n  disableAutoSelect: PropTypes.bool,\n  isMentionEnabled: PropTypes.bool,\n  isTypingIndicatorEnabledOnChannelList: PropTypes.bool,\n  isMessageReceiptStatusEnabledOnChannelList: PropTypes.bool,\n  onFilePicked: PropTypes.any,\n  externalBucketUrl: PropTypes.string,\n};\n\nApp.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  userListQuery: null,\n  dateLocale: null,\n  allowProfileEdit: false,\n  onProfileEditSuccess: null,\n  disableUserProfile: false,\n  showSearchIcon: false,\n  renderUserProfile: null,\n  config: {},\n  isReactionEnabled: true,\n  isMentionEnabled: false,\n  replyType: 'NONE',\n  isMessageGroupingEnabled: true,\n  stringSet: null,\n  colorSet: null,\n  imageCompression: {},\n  disableAutoSelect: false,\n  isTypingIndicatorEnabledOnChannelList: false,\n  isMessageReceiptStatusEnabledOnChannelList: false,\n  onFilePicked: (file) => file.name,\n  externalBucketUrl: '',\n};\n"],"names":["S3ThumbnailMessageItemBody","_a","className","message","_c","isByMe","_d","mouseHover","showFileViewer","_e","useState","setImageRendered","React","getClassName","reactions","_b","length","isSentMessage","style","IconTypes","PHOTO","IconColors","ON_BACKGROUND_2","MessageContent","userId","channel","_g","disabled","_h","chainTop","_j","chainBottom","_k","isReactionEnabled","replyType","nicknamesMap","emojiContainer","scrollToMessage","showEdit","showRemove","resendMessage","toggleReaction","setQuoteMessage","messageTypes","getUIKitMessageTypes","dateLocale","useLocalization","config","useSendbirdStateContext","_l","useContext","UserProfileContext","disableUserProfile","renderUserProfile","externalBucketUrl","FileInputContext","avatarRef","useRef","_m","setMouseHover","_o","supposedHover","setSupposedHover","sender","sendingStatus","isByMeClassName","chainTopClassName","isReactionEnabledClassName","supposedHoverClassName","useReplying","parentMessageId","parentMessage","useReplyingClassName","isAdminMessage","call","messageType","ClientAdminMessage","toggleDropdown","members","find","member","profileUrl","closeDropdown","paddingTop","paddingBottom","user","close","UserProfile","LabelTypography","CAPTION_2","LabelColors","ONBACKGROUND_2","nickname","getSenderName","createdAt","isTextMessage","isMentionEnabled","isS3ImageMessage","isOGMessage","getUIKitMessageType","FILE","isThumbnailMessage","UNKNOWN","_f","CAPTION_3","format","locale","Message","props","hasSeparator","handleScroll","renderCustomSeparator","renderEditInput","renderMessage","renderMessageContent","globalStore","isOnline","userMention","maxUserMentionCount","maxMentionCount","MAX_USER_MENTION_COUNT","maxUserSuggestionCount","maxSuggestionCount","MAX_USER_SUGGESTION_COUNT","useChannelContext","initialized","currentGroupChannel","highLightedMessageId","setHighLightedMessageId","animatedMessageId","setAnimatedMessageId","updateMessage","renderUserMentionItem","setShowEdit","setShowRemove","setShowFileViewer","isAnimated","setIsAnimated","isHighlighted","setIsHighlighted","mentionNickname","setMentionNickname","mentionedUsers","setMentionedUsers","mentionedUserIds","setMentionedUserIds","messageInputEvent","setMessageInputEvent","selectedUser","setSelectedUser","_p","mentionSuggestedUsers","setMentionSuggestedUsers","_q","ableMention","setAbleMention","editMessageInputRef","useMessageScrollRef","displaySuggestedMentionList","isDisabledBecauseFrozen","isDisabledBecauseMuted","useEffect","filter","i","indexOf","splice","useLayoutEffect","messageId","current","scrollIntoView","block","inline","setTimeout","renderedMessage","useMemo","renderedCustomSeparator","isUserMessage","__spreadArray","users","mentionTemplate","mentionText","userIds","e","key","MessageInputKeys","Enter","ArrowUp","ArrowDown","marginBottom","RemoveMessageModal","SCROLL_REF_CLASS_NAME","MessageList","renderPlaceholderEmpty","allMessages","hasMorePrev","setInitialTimeStamp","isMessageGroupingEnabled","scrollRef","onScrollCallback","onScrollDownCallback","messagesDispatcher","messageActionTypes","scrollBottom","setScrollBottom","onScroll","element","target","scrollTop","clientHeight","scrollHeight","nodes","querySelectorAll","first_1","messages","error","isAboutSame","offsetHeight","type","MARK_AS_READ","payload","markAsRead","onClickScrollBot","memoizedAllMessages","map","m","idx","previousMessage","nextMessage","compareMessagesForGrouping","previousMessageCreatedAt","currentCreatedAt","isSameDay","bottom","uuidv4","PlaceHolderTypes","NO_MESSAGES","CHEVRON_DOWN","PRIMARY","MessageInputWrapper","quoteMessage","sendMessage","sendFileMessage","messageInputRef","onFilePicked","stringSet","LocalizationContext","utils","isOperator","isBroadcast","url","MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER","MESSAGE_INPUT__PLACE_HOLDER__DISABLED","MESSAGE_INPUT__PLACE_HOLDER__MUTED","startTyping","endTyping","file","then","result","forwardRef","ChannelUI","renderPlaceholderLoader","renderPlaceholderInvalid","renderChannelHeader","renderMessageInput","renderTypingIndicator","channelUrl","isInvalid","unreadSince","loading","unreadCount","setUnreadCount","unreadMessageCount","sdkError","stores","sdkStore","logger","NO_CHANNELS","WRONG","info","ChannelHeader","isFrozen","LOADING","Channel","showSearchIcon","highlightedMessage","startingPoint","onBeforeSendUserMessage","onBeforeSendFileMessage","onBeforeUpdateUserMessage","onChatHeaderActionClick","onSearchClick","queries","createContext","name","App","appId","accessToken","theme","userListQuery","colorSet","allowProfileEdit","onProfileEditSuccess","imageCompression","disableAutoSelect","isTypingIndicatorEnabledOnChannelList","isMessageReceiptStatusEnabledOnChannelList","currentChannelUrl","setCurrentChannelUrl","showSettings","setShowSettings","showSearch","setShowSearch","setHighlightedMessage","setStartingPoint","propTypes","PropTypes","string","isRequired","func","bool","shape","logLevel","oneOfType","arrayOf","oneOf","objectOf","compressionRate","number","resizingWidth","resizingHeight","any","defaultProps"],"mappings":"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"}