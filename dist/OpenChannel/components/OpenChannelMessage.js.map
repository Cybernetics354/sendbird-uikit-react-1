{"version":3,"file":"OpenChannelMessage.js","sources":["../../../src/smart-components/OpenChannel/components/OpenChannelMessage/RemoveMessageModal.tsx","../../../src/ui/FileViewer/types.js","../../../src/smart-components/OpenChannel/components/OpenChannelMessage/utils.ts","../../../src/smart-components/OpenChannel/components/OpenChannelMessage/index.tsx"],"sourcesContent":["import React, { useContext } from 'react'\nimport { ClientFileMessage, ClientUserMessage } from '../../../../module';\nimport Modal from '../../../../ui/Modal';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\n\ninterface Props {\n  onCloseModal(): void;\n  onDeleteMessage(message: ClientUserMessage | ClientFileMessage, callback?: () => void): void;\n}\n\nexport default function RemoveMessageModal({\n  onCloseModal,\n  onDeleteMessage,\n}: Props): JSX.Element {\n  const { stringSet } = useContext(LocalizationContext);\n\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onDeleteMessage}\n      submitText={stringSet.MESSAGE_MENU__DELETE}\n      titleText={stringSet.MODAL__DELETE_MESSAGE__TITLE}\n    />\n  );\n}\n","// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nconst SUPPORTED_MIMES = {\n  IMAGE: [\n    'image/jpeg',\n    'image/jpg',\n    'image/png',\n    'image/gif',\n    'image/svg+xml',\n    'image/webp', // not supported in IE\n  ],\n  VIDEO: [\n    'video/mpeg',\n    'video/ogg',\n    'video/webm',\n    'video/mp4',\n  ],\n};\n\nexport const isImage = (type) => SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0;\nexport const isVideo = (type) => SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0;\nexport const isGif = (type) => type === 'image/gif';\nexport const unSupported = (type) => !(isImage(type) || isVideo(type));\n\nexport default SUPPORTED_MIMES;\n","import { AdminMessage, FileMessage, UserMessage } from '@sendbird/chat/message';\nimport { isImage, isVideo } from '../../../../ui/FileViewer/types';\n\nexport const MessageTypes = {\n  ADMIN: 'ADMIN',\n  USER: 'USER',\n  FILE: 'FILE',\n  THUMBNAIL: 'THUMBNAIL',\n  OG: 'OG',\n  UNKNOWN: 'UNKNOWN',\n};\n\nexport const SendingMessageStatus = {\n  NONE: 'none',\n  SUCCEEDED: 'succeeded',\n  FAILED: 'failed',\n  PENDING: 'pending',\n};\n\nexport const getMessageType = (message: UserMessage | FileMessage | AdminMessage): string => {\n  if ((message.isUserMessage && message.isUserMessage()) || message.messageType === 'user') {\n    return (message.ogMetaData)\n      ? MessageTypes.OG\n      : MessageTypes.USER;\n  }\n  if (message.isAdminMessage && message.isAdminMessage()) {\n    return MessageTypes.ADMIN;\n  }\n  if (message.messageType === 'file') {\n    return (isImage((message as FileMessage).type) || isVideo((message as FileMessage).type))\n      ? MessageTypes.THUMBNAIL\n      : MessageTypes.FILE;\n  }\n  return MessageTypes.UNKNOWN;\n};\n\nexport default {\n  MessageTypes,\n  SendingMessageStatus,\n  getMessageType,\n};\n","import React, {\n  useState,\n  useRef,\n  ReactElement,\n  useMemo,\n} from 'react';\nimport { AdminMessage, FileMessage, UserMessage } from '@sendbird/chat/message';\nimport { User } from '@sendbird/chat';\nimport format from 'date-fns/format';\n\nimport OpenChannelUserMessage from '../../../../ui/OpenchannelUserMessage';\nimport OpenChannelAdminMessage from '../../../../ui/OpenChannelAdminMessage';\nimport OpenChannelOGMessage from '../../../../ui/OpenchannelOGMessage';\nimport OpenChannelThumbnailMessage from '../../../../ui/OpenchannelThumbnailMessage';\nimport OpenChannelFileMessage from '../../../../ui/OpenchannelFileMessage';\n// import UnknownMessage from '../../../../ui/UnknownMessage';\n\nimport DateSeparator from '../../../../ui/DateSeparator';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport MessageInput from '../../../../ui/MessageInput';\nimport FileViewer from '../../../../ui/FileViewer';\n\nimport RemoveMessageModal from './RemoveMessageModal';\nimport {\n  MessageTypes,\n  SendingMessageStatus,\n  getMessageType,\n} from './utils';\nimport { useOpenChannelContext } from '../../context/OpenChannelProvider';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport type { RenderMessageProps } from '../../../../types';\nimport { useLocalization } from '../../../../lib/LocalizationContext';\n\nexport type OpenChannelMessageProps = {\n  renderMessage?: (props: RenderMessageProps) => React.ElementType<RenderMessageProps>;\n  message: UserMessage | FileMessage | AdminMessage;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  hasSeparator?: boolean;\n  editDisabled?: boolean;\n};\n\nexport default function MessagOpenChannelMessageeHoc(props: OpenChannelMessageProps): ReactElement {\n  const {\n    message,\n    chainTop,\n    chainBottom,\n    hasSeparator,\n    renderMessage,\n  } = props;\n\n  const {\n    currentOpenChannel,\n    deleteMessage,\n    updateMessage,\n    resendMessage,\n  } = useOpenChannelContext();\n  const { dateLocale } = useLocalization();\n  const editDisabled = currentOpenChannel?.isFrozen;\n\n  const globalState = useSendbirdStateContext();\n  const userId = globalState?.config?.userId;\n\n  let sender: User = null;\n  if (message?.messageType !== 'admin') {\n    sender = (message as UserMessage | FileMessage)?.sender;\n  }\n\n  const RenderedMessage = useMemo(() => (props: RenderMessageProps) => {\n    return (\n      <>\n        {\n          renderMessage\n            ? (renderMessage(props))\n            : null\n        }\n      </>\n    );\n  }, [message, renderMessage]);\n\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const editMessageInputRef = useRef(null);\n\n  let isByMe = false;\n\n  if (sender && message?.messageType !== 'admin') {\n    // pending and failed messages are by me\n    isByMe = (userId === sender.userId)\n      || ((message as UserMessage | FileMessage)?.sendingStatus === SendingMessageStatus.PENDING)\n      || ((message as UserMessage | FileMessage)?.sendingStatus === SendingMessageStatus.FAILED);\n  }\n\n  if (renderMessage && RenderedMessage) {\n    return (\n      <div className=\"sendbird-msg-hoc sendbird-msg--scroll-ref\">\n        <RenderedMessage message={message} chainTop={chainTop} chainBottom={chainBottom} />\n      </div>\n    );\n  }\n\n  if (message?.messageType === 'user' && showEdit) {\n    return (\n      <MessageInput\n        isEdit\n        disabled={editDisabled}\n        ref={editMessageInputRef}\n        message={message as UserMessage}\n        name={message?.messageId}\n        onUpdateMessage={({ messageId, message }) => {\n          updateMessage(messageId, message);\n          setShowEdit(false);\n        }}\n        onCancelEdit={() => { setShowEdit(false); }}\n      />\n    );\n  }\n\n  return (\n    <div className=\"sendbird-msg-hoc sendbird-msg--scroll-ref\">\n      {/* date-separator */}\n      {\n        hasSeparator && (\n          <DateSeparator>\n            <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n              {format(message?.createdAt, 'MMMM dd, yyyy', {\n                locale: dateLocale,\n              })}\n            </Label>\n          </DateSeparator>\n        )\n      }\n      {/* Message */}\n      {\n        {\n          [MessageTypes.ADMIN]: (() => {\n            if (message?.messageType === 'admin') {\n              return (\n                <OpenChannelAdminMessage message={message as AdminMessage} />\n              )\n            }\n          })(),\n          [MessageTypes.FILE]: (() => {\n            if (message?.messageType === 'file') {\n              return (\n                <OpenChannelFileMessage\n                  message={message as FileMessage}\n                  disabled={editDisabled}\n                  userId={userId}\n                  showRemove={setShowRemove}\n                  resendMessage={resendMessage}\n                  chainTop={chainTop}\n                  chainBottom={chainBottom}\n                />\n              );\n            }\n            return;\n          })(),\n          [MessageTypes.OG]: (() => {\n            if (message?.messageType === 'user') {\n              return (\n                <OpenChannelOGMessage\n                  message={message as UserMessage}\n                  userId={userId}\n                  showEdit={setShowEdit}\n                  disabled={editDisabled}\n                  showRemove={setShowRemove}\n                  resendMessage={resendMessage}\n                  chainTop={chainTop}\n                  chainBottom={chainBottom}\n                />\n              );\n            }\n            return;\n          })(),\n          [MessageTypes.THUMBNAIL]: (() => {\n            if (message?.messageType === 'file') {\n              return (\n                <OpenChannelThumbnailMessage\n                  message={message as FileMessage}\n                  disabled={editDisabled}\n                  userId={userId}\n                  showRemove={setShowRemove}\n                  resendMessage={resendMessage}\n                  onClick={setShowFileViewer}\n                  chainTop={chainTop}\n                  chainBottom={chainBottom}\n                />\n              );\n            }\n            return;\n          })(),\n          [MessageTypes.USER]: (() => {\n            if (message?.messageType === 'user') {\n              return (\n                <OpenChannelUserMessage\n                  message={message as UserMessage}\n                  userId={userId}\n                  disabled={editDisabled}\n                  showEdit={setShowEdit}\n                  showRemove={setShowRemove}\n                  resendMessage={resendMessage}\n                  chainTop={chainTop}\n                  chainBottom={chainBottom}\n                />\n              );\n            }\n            return;\n          })(),\n          [MessageTypes.UNKNOWN]: (() => {\n            return;\n            // return (\n            //   <OpenChannelUnknownMessage message={message} />\n            // );\n          })(),\n        }[getMessageType(message)]\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            onCloseModal={() => setShowRemove(false)}\n            onDeleteMessage={() => {\n              if (message?.messageType !== 'admin') {\n                deleteMessage(message);\n              }\n            }}\n          />\n        )\n      }\n      {\n        (showFileViewer && message?.messageType === 'file') && (\n          <FileViewer\n            onClose={() => setShowFileViewer(false)}\n            message={message}\n            onDelete={() => deleteMessage(message)}\n            isByMe={isByMe}\n          />\n        )\n      }\n      {/* {\n        !((message?.isFileMessage && message?.isFileMessage()) || message?.messageType === 'file')\n        && !(message?.isAdminMessage && message?.isAdminMessage())\n        && !(((message?.isUserMessage && message?.isUserMessage()) || message?.messageType === 'user'))\n        && !(showFileViewer)\n        && (\n          <UnknownMessage\n            message={message}\n            isByMe={isByMe}\n            showRemove={setShowRemove}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n          />\n        )\n      } */}\n    </div>\n  );\n}\n"],"names":["RemoveMessageModal","_a","onCloseModal","onDeleteMessage","stringSet","useContext","LocalizationContext","React","MESSAGE_MENU__DELETE","MODAL__DELETE_MESSAGE__TITLE","SUPPORTED_MIMES","IMAGE","VIDEO","isImage","type","indexOf","isVideo","MessageTypes","ADMIN","USER","FILE","THUMBNAIL","OG","UNKNOWN","SendingMessageStatus","NONE","SUCCEEDED","FAILED","PENDING","getMessageType","message","isUserMessage","messageType","ogMetaData","isAdminMessage","MessagOpenChannelMessageeHoc","props","chainTop","chainBottom","hasSeparator","renderMessage","_c","useOpenChannelContext","currentOpenChannel","deleteMessage","updateMessage","resendMessage","dateLocale","useLocalization","editDisabled","isFrozen","globalState","useSendbirdStateContext","userId","config","sender","RenderedMessage","useMemo","_d","useState","showEdit","setShowEdit","_e","showRemove","setShowRemove","_f","showFileViewer","setShowFileViewer","editMessageInputRef","useRef","isByMe","sendingStatus","messageId","LabelTypography","CAPTION_2","LabelColors","ONBACKGROUND_2","format","createdAt","locale","OpenChannelFileMessage","OpenChannelOGMessage","OpenChannelThumbnailMessage","OpenChannelUserMessage"],"mappings":"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"}