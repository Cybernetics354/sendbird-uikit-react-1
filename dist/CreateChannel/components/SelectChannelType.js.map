{"version":3,"file":"SelectChannelType.js","sources":["../../../src/smart-components/CreateChannel/utils.ts","../../../src/smart-components/CreateChannel/components/SelectChannelType.tsx"],"sourcesContent":["import type { SendbirdGroupChat } from \"@sendbird/chat/groupChannel\";\n\nexport const isBroadcastChannelEnabled = (sdk: SendbirdGroupChat): boolean => {\n  const ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n  }\n\n  return false;\n};\n\nexport const isSuperGroupChannelEnabled = (sdk: SendbirdGroupChat): boolean => {\n  const ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n  const applicationAttributes = sdk?.appInfo?.applicationAttributes;\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n  }\n\n  return false;\n};\n","import React, { useContext } from 'react';\nimport type { SendbirdGroupChat } from '@sendbird/chat/groupChannel';\n\nimport * as sendbirdSelectors from '../../../lib/selectors';\nimport useSendbirdStateContext from '../../../hooks/useSendbirdStateContext';\n\nimport { useCreateChannelContext } from '../context/CreateChannelProvider';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../ui/Icon';\n\nimport Modal from '../../../ui/Modal';\n\nimport {\n  isBroadcastChannelEnabled,\n  isSuperGroupChannelEnabled,\n} from '../utils';\nimport { CHANNEL_TYPE } from '../types';\n\nexport interface SelectChannelTypeProps {\n  onCancel?(): void;\n}\n\nconst SelectChannelType: React.FC<SelectChannelTypeProps> = (props: SelectChannelTypeProps) => {\n  const { onCancel } = props;\n  const store = useSendbirdStateContext();\n\n  const sdk = sendbirdSelectors.getSdk(store) as SendbirdGroupChat;\n\n  const createChannelProps = useCreateChannelContext();\n  const {\n    setStep,\n    setType,\n  } = createChannelProps;\n\n  const { stringSet } = useContext(LocalizationContext);\n\n  const isBroadcastAvailable = isBroadcastChannelEnabled(sdk);\n  const isSupergroupAvailable = isSuperGroupChannelEnabled(sdk);\n\n  return (\n    <Modal\n      titleText={stringSet?.MODAL__CREATE_CHANNEL__TITLE}\n      hideFooter\n      onCancel={() => { onCancel(); }}\n    >\n      <div className=\"sendbird-add-channel__rectangle-wrap\">\n        <div\n          className=\"sendbird-add-channel__rectangle\"\n          onClick={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={() => {\n            setType(CHANNEL_TYPE.GROUP);\n            setStep(1);\n          }}\n        >\n          <Icon\n            className=\"sendbird-add-channel__rectangle__chat-icon\"\n            type={IconTypes.CHAT}\n            fillColor={IconColors.PRIMARY}\n            width=\"28px\"\n            height=\"28px\"\n          />\n          <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.MODAL__CREATE_CHANNEL__GROUP}\n          </Label>\n        </div>\n        {\n          isSupergroupAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.SUPERGROUP);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__supergroup-icon\"\n                type={IconTypes.SUPERGROUP}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__SUPER}\n              </Label>\n            </div>\n          )\n        }\n        {\n          isBroadcastAvailable && (\n            <div\n              className=\"sendbird-add-channel__rectangle\"\n              onClick={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n              role=\"button\"\n              tabIndex={0}\n              onKeyDown={() => {\n                setType(CHANNEL_TYPE.BROADCAST);\n                setStep(1);\n              }}\n            >\n              <Icon\n                className=\"sendbird-add-channel__rectangle__broadcast-icon\"\n                type={IconTypes.BROADCAST}\n                fillColor={IconColors.PRIMARY}\n                width=\"28px\"\n                height=\"28px\"\n              />\n              <Label type={LabelTypography.SUBTITLE_1} color={LabelColors.ONBACKGROUND_1}>\n                {stringSet.MODAL__CREATE_CHANNEL__BROADCAST}\n              </Label>\n            </div>\n          )\n        }\n      </div>\n    </Modal>\n  );\n}\n\nexport default SelectChannelType;\n"],"names":["isBroadcastChannelEnabled","sdk","ALLOW_BROADCAST_CHANNEL","applicationAttributes","appInfo","Array","isArray","includes","isSuperGroupChannelEnabled","ALLOW_SUPER_GROUP_CHANNEL","SelectChannelType","props","onCancel","store","useSendbirdStateContext","sendbirdSelectors","createChannelProps","useCreateChannelContext","setStep","setType","stringSet","useContext","LocalizationContext","isBroadcastAvailable","isSupergroupAvailable","React","MODAL__CREATE_CHANNEL__TITLE","CHANNEL_TYPE","GROUP","IconTypes","CHAT","IconColors","PRIMARY","LabelTypography","SUBTITLE_1","LabelColors","ONBACKGROUND_1","MODAL__CREATE_CHANNEL__GROUP","SUPERGROUP","MODAL__CREATE_CHANNEL__SUPER","BROADCAST","MODAL__CREATE_CHANNEL__BROADCAST"],"mappings":"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"}