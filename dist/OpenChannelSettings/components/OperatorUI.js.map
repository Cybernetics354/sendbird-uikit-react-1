{"version":3,"file":"OperatorUI.js","sources":["../../../src/smart-components/OpenChannelSettings/components/DeleteOpenChannel.tsx","../../../src/smart-components/OpenChannelSettings/components/OperatorUI/index.tsx"],"sourcesContent":["import React, {\n  ReactElement,\n  useState,\n  useContext,\n} from 'react';\n\nimport Modal from '../../../ui/Modal';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport Icon, { IconTypes } from '../../../ui/Icon';\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../../hooks/useSendbirdStateContext';\nimport { useOpenChannelSettingsContext } from '../context/OpenChannelSettingsProvider';\n\nexport default function DeleteChannel(): ReactElement {\n  const [showDeleteChannelModal, setShowDeleteChannelModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n  const globalState = useSendbirdStateContext();\n  const isOnline = globalState?.config?.isOnline;\n  const logger = globalState?.config?.logger;\n\n  const { channel, onDeleteChannel } = useOpenChannelSettingsContext();\n\n  const deleteChannel = () => {\n    channel?.delete().then((response) => {\n      logger.info('OpenChannelSettings: Delete channel success', response);\n      if (onDeleteChannel) {\n        onDeleteChannel(channel);\n      }\n    }).catch((error) => {\n      logger.warning('OpenChannelSettings: Delete channel failed', error);\n    });\n  }\n  return (\n    <>\n      <div\n        className={\n          `sendbird-openchannel-settings__panel-item\n          sendbird-openchannel-settings__delete-channel\n            ${!isOnline ? 'sendbird-openchannel-settings__panel-item__disabled' : ''}`\n        }\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={() => {\n          if (!isOnline) { return; }\n          setShowDeleteChannelModal(true);\n        }}\n        onClick={() => {\n          if (!isOnline) { return; }\n          setShowDeleteChannelModal(true);\n        }}\n      >\n        <Icon\n          type={IconTypes.DELETE}\n          className={[\n            'sendbird-openchannel-settings__panel-icon-left',\n            'sendbird-openchannel-settings__panel-icon__delete',\n          ].join(' ')}\n          height=\"24px\"\n          width=\"24px\"\n        />\n        <Label\n          type={LabelTypography.SUBTITLE_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL}\n        </Label>\n      </div>\n      {\n        showDeleteChannelModal && (\n          <Modal\n            onCancel={() => {\n              setShowDeleteChannelModal(false);\n            }}\n            onSubmit={() => {\n              deleteChannel();\n            }}\n            submitText={stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT}\n            titleText={stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE}\n          />\n        )\n      }\n    </>\n  )\n}\n","import React, { useContext } from 'react';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\n\nimport Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport Icon, {\n  IconTypes,\n  IconColors,\n} from '../../../../ui/Icon';\nimport { useOpenChannelSettingsContext } from '../../context/OpenChannelSettingsProvider';\nimport OpenChannelProfile from '../OpenChannelProfile';\nimport DeleteChannel from '../DeleteOpenChannel';\nimport ParticipantsAccordion from '../ParticipantUI';\nimport Accordion, { AccordionGroup } from '../../../../ui/Accordion';\n\nexport const copyToClipboard = (text: string): boolean => {\n  // @ts-ignore: Unreachable code error\n  if (window.clipboardData && window.clipboardData.setData) {\n    // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n    // @ts-ignore: Unreachable code error\n    return window.clipboardData.setData('Text', text);\n  }\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    const textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport interface OperatorUIProps {\n  renderChannelProfile?: () => React.ReactNode;\n}\n\nexport const OperatorUI: React.FC<OperatorUIProps> = ({\n  renderChannelProfile,\n}: OperatorUIProps) => {\n  const { stringSet } = useContext(LocalizationContext);\n  const {\n    onCloseClick,\n    channel,\n  } = useOpenChannelSettingsContext();\n  return (\n    <>\n      <div className=\"sendbird-openchannel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <Icon\n          className=\"sendbird-openchannel-settings__close-icon\"\n          type={IconTypes.CLOSE}\n          height=\"24px\"\n          width=\"24px\"\n          onClick={() => {\n            onCloseClick();\n          }}\n        />\n      </div>\n      <div className=\"sendbird-openchannel-settings__profile\">\n        {\n          renderChannelProfile?.() || (\n            <OpenChannelProfile />\n          )\n        }\n      </div>\n      <div className=\"sendbird-openchannel-settings__url\">\n        <Icon\n          className=\"sendbird-openchannel-settings__copy-icon\"\n          type={IconTypes.COPY}\n          height=\"22px\"\n          width=\"22px\"\n          onClick={() => {\n            copyToClipboard(channel?.url);\n          }}\n        />\n        <Label\n          className=\"sendbird-openchannel-settings__url-label\"\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.OPEN_CHANNEL_SETTINGS__OPERATOR_URL}\n        </Label>\n        <Label\n          className=\"sendbird-openchannel-settings__url-value\"\n          type={LabelTypography.SUBTITLE_2}\n        >\n          {channel?.url}\n        </Label>\n      </div>\n      <AccordionGroup>\n        <Accordion\n          className=\"sendbird-channel-settings__operators-list\"\n          id=\"participants\"\n          renderTitle={() => (\n            <>\n              <Icon\n                type={IconTypes.MEMBERS}\n                fillColor={IconColors.PRIMARY}\n                width={24}\n                height={24}\n                className=\"sendbird-openchannel-settings__operator-accordion-icon\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE}\n              </Label>\n            </>\n          )}\n          renderContent={() => (\n            <>\n              <ParticipantsAccordion />\n            </>\n          )}\n        />\n      </AccordionGroup>\n      <DeleteChannel />\n    </>\n  );\n};\n\nexport default OperatorUI;\n"],"names":["DeleteChannel","_c","useState","showDeleteChannelModal","setShowDeleteChannelModal","stringSet","useContext","LocalizationContext","globalState","useSendbirdStateContext","isOnline","config","logger","_d","useOpenChannelSettingsContext","channel","onDeleteChannel","deleteChannel","delete","then","response","info","catch","error","warning","React","IconTypes","DELETE","join","LabelTypography","SUBTITLE_1","LabelColors","ONBACKGROUND_1","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT","OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE","copyToClipboard","text","window","clipboardData","setData","document","queryCommandSupported","textarea","createElement","textContent","style","position","body","appendChild","select","execCommand","ex","removeChild","OperatorUI","_a","renderChannelProfile","_b","onCloseClick","H_2","CHANNEL_SETTING__HEADER__TITLE","CLOSE","OpenChannelProfile","COPY","url","CAPTION_2","ONBACKGROUND_2","OPEN_CHANNEL_SETTINGS__OPERATOR_URL","SUBTITLE_2","MEMBERS","IconColors","PRIMARY","OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE","ParticipantsAccordion"],"mappings":"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"}