{"version":3,"file":"index-d354fb02.js","sources":["../src/ui/S3ThumbnailMessageItemBody/index.tsx","../src/ui/MessageContent/index.tsx","../src/smart-components/Channel/components/Message/index.tsx","../src/smart-components/Channel/components/MessageList/index.tsx","../src/smart-components/Channel/components/MessageInput/index.tsx","../src/smart-components/Channel/components/ChannelUI/index.tsx","../src/smart-components/Channel/index.tsx","../src/smart-components/App/index.jsx"],"sourcesContent":["import './index.scss';\nimport React, { ReactElement, useState } from 'react';\nimport type { UserMessage } from '@sendbird/chat/message';\n\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport ImageRenderer from '../ImageRenderer';\nimport { getClassName, isSentMessage } from '../../utils';\n\ninterface Props {\n  className?: string | Array<string>;\n  message: UserMessage;\n  isByMe?: boolean;\n  mouseHover?: boolean;\n  showFileViewer?: (bool: boolean) => void;\n}\n\nexport default function S3ThumbnailMessageItemBody({\n  className,\n  message,\n  isByMe = false,\n  mouseHover = false,\n  showFileViewer,\n}: Props): ReactElement {\n  const [imageRendered, setImageRendered] = useState(false);\n\n  return (\n    <div\n      className={getClassName([\n        className,\n        'sendbird-thumbnail-message-item-body',\n        isByMe ? 'outgoing' : 'incoming',\n        mouseHover ? 'mouse-hover' : '',\n        message?.reactions?.length > 0 ? 'reactions' : '',\n      ])}\n      onClick={() => {\n        if (isSentMessage(message)) {\n          showFileViewer(true);\n        }\n      }}\n    >\n      <ImageRenderer\n        className=\"sendbird-thumbnail-message-item-body__thumbnail\"\n        url={message.message}\n        alt={message.message}\n        width=\"360px\"\n        height=\"270px\"\n        onLoad={() => { setImageRendered(true) }}\n        placeHolder={(style) => (\n          <div\n            className=\"sendbird-thumbnail-message-item-body__placeholder\"\n            style={style}\n          >\n            <div className=\"sendbird-thumbnail-message-item-body__placeholder__icon\">\n              <Icon\n                type={IconTypes.PHOTO}\n                fillColor={IconColors.ON_BACKGROUND_2}\n                width=\"34px\"\n                height=\"34px\"\n              />\n            </div>\n          </div>\n        )}\n      />\n      <div className=\"sendbird-thumbnail-message-item-body__image-cover\" />\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\nimport format from 'date-fns/format';\nimport './index.scss';\n\nimport Avatar from '../Avatar';\nimport UserProfile from '../UserProfile';\nimport MessageStatus from '../MessageStatus';\nimport MessageItemMenu from '../MessageItemMenu';\nimport MessageItemReactionMenu from '../MessageItemReactionMenu';\nimport ContextMenu, { MenuItems } from '../ContextMenu';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport EmojiReactions from '../EmojiReactions';\n\nimport ClientAdminMessage from '../AdminMessage';\nimport TextMessageItemBody from '../TextMessageItemBody';\nimport FileMessageItemBody from '../FileMessageItemBody';\nimport ThumbnailMessageItemBody from '../ThumbnailMessageItemBody';\nimport S3ThumbnailMessageItemBody from '../S3ThumbnailMessageItemBody';\nimport OGMessageItemBody from '../OGMessageItemBody';\nimport UnknownMessageItemBody from '../UnknownMessageItemBody';\nimport QuoteMessage from '../QuoteMessage';\n\nimport {\n  getClassName,\n  getUIKitMessageTypes,\n  getUIKitMessageType,\n  isTextMessage,\n  isOGMessage,\n  isThumbnailMessage,\n  getSenderName,\n  isS3ImageMessage,\n} from '../../utils';\nimport { UserProfileContext } from '../../lib/UserProfileContext';\nimport { ReplyType } from '../../module.js';\nimport { useLocalization } from '../../lib/LocalizationContext';\nimport useSendbirdStateContext from '../../hooks/useSendbirdStateContext';\nimport { GroupChannel } from '@sendbird/chat/groupChannel';\nimport { EmojiContainer } from '@sendbird/chat';\nimport { AdminMessage, FileMessage, UserMessage } from '@sendbird/chat/message';\nimport { FileInputContext } from '../../smart-components/App';\n\ninterface Props {\n  className?: string | Array<string>;\n  userId: string;\n  channel: GroupChannel;\n  message: AdminMessage | UserMessage | FileMessage;\n  disabled?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  isReactionEnabled?: boolean;\n  replyType?: ReplyType;\n  nicknamesMap?: Map<string, string>;\n  emojiContainer?: EmojiContainer;\n  scrollToMessage?: (createdAt: number, messageId: number) => void;\n  showEdit?: (bool: boolean) => void;\n  showRemove?: (bool: boolean) => void;\n  showFileViewer?: (bool: boolean) => void;\n  resendMessage?: (message: UserMessage | FileMessage) => Promise<UserMessage | FileMessage>;\n  toggleReaction?: (message: UserMessage | FileMessage, reactionKey: string, isReacted: boolean) => void;\n  setQuoteMessage?: (message: UserMessage | FileMessage) => void;\n}\nexport default function MessageContent({\n  className,\n  userId,\n  channel,\n  message,\n  disabled = false,\n  chainTop = false,\n  chainBottom = false,\n  isReactionEnabled = false,\n  replyType,\n  nicknamesMap,\n  emojiContainer,\n  scrollToMessage,\n  showEdit,\n  showRemove,\n  showFileViewer,\n  resendMessage,\n  toggleReaction,\n  setQuoteMessage,\n}: Props): ReactElement {\n  const messageTypes = getUIKitMessageTypes();\n  const { dateLocale } = useLocalization();\n  const { config } = useSendbirdStateContext?.() || {};\n  const { disableUserProfile, renderUserProfile } = useContext(UserProfileContext);\n  const { externalBucketUrl, renderCustomMessage } = useContext<FileInputContext>(FileInputContext);\n  const avatarRef = useRef(null);\n  const [mouseHover, setMouseHover] = useState(false);\n  const [supposedHover, setSupposedHover] = useState(false);\n\n  const isByMe = (userId === (message as UserMessage | FileMessage)?.sender?.userId)\n    || ((message as UserMessage | FileMessage).sendingStatus === 'pending')\n    || ((message as UserMessage | FileMessage).sendingStatus === 'failed');\n  const isByMeClassName = isByMe ? 'outgoing' : 'incoming';\n  const chainTopClassName = chainTop ? 'chain-top' : '';\n  const isReactionEnabledClassName = isReactionEnabled ? 'use-reactions' : '';\n  const supposedHoverClassName = supposedHover ? 'supposed-hover' : '';\n  const useReplying = !!((replyType === 'QUOTE_REPLY') && message?.parentMessageId && message?.parentMessage);\n  const useReplyingClassName = useReplying ? 'use-quote' : '';\n\n  if (message?.isAdminMessage?.() || message?.messageType === 'admin') {\n    return (<ClientAdminMessage message={message} />);\n  }\n\n  function RenderMessageContent() {\n    const renderedItem = renderCustomMessage({\n      className: \"sendbird-message-content__middle__message-item-body\",\n      isMentionEnabled: config?.isMentionEnabled || false,\n      message,\n      isByMe,\n      mouseHover,\n      showFileViewer,\n    });\n\n    if (renderedItem) {\n      return <div>{ renderedItem }</div>\n    }\n\n    return <div>\n      {isTextMessage(message as UserMessage, externalBucketUrl) && (\n        <TextMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as UserMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n          isMentionEnabled={config?.isMentionEnabled || false}\n        />\n      )}\n      {(isS3ImageMessage(message as UserMessage, externalBucketUrl)) && (\n        <S3ThumbnailMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as UserMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n          showFileViewer={showFileViewer}\n        />\n      )}\n      {(isOGMessage(message as UserMessage)) && (\n        <OGMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as UserMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n          isMentionEnabled={config?.isMentionEnabled || false}\n        />\n      )}\n      {(getUIKitMessageType((message as FileMessage)) === messageTypes.FILE) && (\n        <FileMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as FileMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n        />\n      )}\n      {(isThumbnailMessage(message as FileMessage)) && (\n        <ThumbnailMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message as FileMessage}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n          showFileViewer={showFileViewer}\n        />\n      )}\n      {(getUIKitMessageType((message as FileMessage)) === messageTypes.UNKNOWN) && (\n        <UnknownMessageItemBody\n          className=\"sendbird-message-content__middle__message-item-body\"\n          message={message}\n          isByMe={isByMe}\n          mouseHover={mouseHover}\n        />\n      )}\n    </div>\n  }\n\n  return (\n    <div\n      className={getClassName([className, 'sendbird-message-content', isByMeClassName])}\n      onMouseOver={() => setMouseHover(true)}\n      onMouseLeave={() => setMouseHover(false)}\n    >\n      {/* left */}\n      <div className={getClassName(['sendbird-message-content__left', isReactionEnabledClassName, isByMeClassName, useReplyingClassName])}>\n        {(!isByMe && !chainBottom) && (\n          /** user profile */\n          <ContextMenu\n            menuTrigger={(toggleDropdown: () => void): ReactElement => (\n              <Avatar\n                className=\"sendbird-message-content__left__avatar\"\n                // @ts-ignore\n                src={channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.profileUrl || message?.sender?.profileUrl || ''}\n                // TODO: Divide getting profileUrl logic to utils\n                ref={avatarRef}\n                width=\"28px\"\n                height=\"28px\"\n                onClick={(): void => { if (!disableUserProfile) toggleDropdown() }}\n              />\n            )}\n            menuItems={(closeDropdown: () => void): ReactElement => (\n              <MenuItems\n                /**\n                * parentRef: For catching location(x, y) of MenuItems\n                * parentContainRef: For toggling more options(menus & reactions)\n                */\n                parentRef={avatarRef}\n                parentContainRef={avatarRef}\n                closeDropdown={closeDropdown}\n                style={{ paddingTop: 0, paddingBottom: 0 }}\n              >\n                {renderUserProfile\n                  // @ts-ignore\n                  ? renderUserProfile({ user: message?.sender, close: closeDropdown })\n                  // @ts-ignore\n                  : (<UserProfile user={message.sender} onSuccess={closeDropdown} />)\n                }\n              </MenuItems>\n            )}\n          />\n        )}\n        {/* outgoing menu */}\n        {isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', isReactionEnabledClassName, supposedHoverClassName, isByMeClassName])}>\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showEdit={showEdit}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n          </div>\n        )}\n      </div>\n      {/* middle */}\n      <div className=\"sendbird-message-content__middle\">\n        {(!isByMe && !chainTop && !useReplying) && (\n          <Label\n            className=\"sendbird-message-content__middle__sender-name\"\n            type={LabelTypography.CAPTION_2}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {\n              // @ts-ignore\n              channel?.members?.find((member) => member?.userId === message?.sender?.userId)?.nickname\n              || getSenderName(message as UserMessage | FileMessage)\n              // TODO: Divide getting profileUrl logic to utils\n            }\n          </Label>\n        )}\n        {/* quote message */}\n        {(useReplying) ? (\n          <div className={getClassName(['sendbird-message-content__middle__quote-message', isByMe ? 'outgoing' : 'incoming', useReplyingClassName])}>\n            <QuoteMessage\n              message={message as UserMessage | FileMessage}\n              userId={userId}\n              isByMe={isByMe}\n              onClick={() => {\n                if (message?.parentMessage?.createdAt && message?.parentMessageId) {\n                  scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                }\n              }}\n            />\n          </div>\n        ) : null}\n        {/* container: message item body + emoji reactions */}\n        <div className={getClassName(['sendbird-message-content__middle__body-container'])} >\n          {/* message status component */}\n          {(isByMe && !chainBottom) && (\n            <div className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'left', supposedHoverClassName])}>\n              <div className=\"sendbird-message-content__middle__body-container__created-at__component-container\">\n                <MessageStatus\n                  message={message as UserMessage | FileMessage}\n                  channel={channel}\n                />\n              </div>\n            </div>\n          )}\n          {/* message item body components */}\n          <RenderMessageContent />\n          {/* reactions */}\n          {(isReactionEnabled && message?.reactions?.length > 0) && (\n            <div className={getClassName([\n              'sendbird-message-content-reactions',\n              (!isByMe || isThumbnailMessage(message as FileMessage) || isOGMessage(message as UserMessage)) ? '' : 'primary',\n              mouseHover ? 'mouse-hover' : '',\n            ])}>\n              <EmojiReactions\n                userId={userId}\n                message={message as UserMessage | FileMessage}\n                isByMe={isByMe}\n                emojiContainer={emojiContainer}\n                memberNicknamesMap={nicknamesMap}\n                toggleReaction={toggleReaction}\n              />\n            </div>\n          )}\n          {(!isByMe && !chainBottom) && (\n            <Label\n              className={getClassName(['sendbird-message-content__middle__body-container__created-at', 'right', supposedHoverClassName])}\n              type={LabelTypography.CAPTION_3}\n              color={LabelColors.ONBACKGROUND_2}\n            >\n              {format(message?.createdAt || 0, 'p', {\n                locale: dateLocale,\n              })}\n            </Label>\n          )}\n        </div>\n      </div>\n      {/* right */}\n      <div className={getClassName(['sendbird-message-content__right', chainTopClassName, isReactionEnabledClassName, useReplyingClassName])}>\n        {/* incoming menu */}\n        {!isByMe && (\n          <div className={getClassName(['sendbird-message-content-menu', chainTopClassName, supposedHoverClassName, isByMeClassName])}>\n            {isReactionEnabled && (\n              <MessageItemReactionMenu\n                className=\"sendbird-message-content-menu__reaction-menu\"\n                message={message as UserMessage | FileMessage}\n                userId={userId}\n                spaceFromTrigger={{}}\n                emojiContainer={emojiContainer}\n                toggleReaction={toggleReaction}\n                setSupposedHover={setSupposedHover}\n              />\n            )}\n            <MessageItemMenu\n              className=\"sendbird-message-content-menu__normal-menu\"\n              channel={channel}\n              message={message as UserMessage | FileMessage}\n              isByMe={isByMe}\n              replyType={replyType}\n              disabled={disabled}\n              showRemove={showRemove}\n              resendMessage={resendMessage}\n              setQuoteMessage={setQuoteMessage}\n              setSupposedHover={setSupposedHover}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, {\n  useRef,\n  useMemo,\n  useState,\n  useEffect,\n  useLayoutEffect,\n} from 'react';\nimport type { FileMessage } from '@sendbird/chat/message';\nimport format from 'date-fns/format';\n\nimport SuggestedMentionList from '../SuggestedMentionList';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport { getClassName } from '../../../../utils';\nimport { isDisabledBecauseFrozen, isDisabledBecauseMuted } from '../../context/utils';\nimport { MAX_USER_MENTION_COUNT, MAX_USER_SUGGESTION_COUNT } from '../../context/const';\n\nimport DateSeparator from '../../../../ui/DateSeparator';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport MessageInput from '../../../../ui/MessageInput';\nimport MessageContent from '../../../../ui/MessageContent';\nimport FileViewer from '../FileViewer';\nimport RemoveMessageModal from '../RemoveMessageModal';\nimport { MessageInputKeys } from '../../../../ui/MessageInput/const';\nimport { EveryMessage, RenderMessageProps } from '../../../../types';\nimport { useLocalization } from '../../../../lib/LocalizationContext';\n\ntype MessageUIProps = {\n  message: EveryMessage;\n  hasSeparator?: boolean;\n  chainTop?: boolean;\n  chainBottom?: boolean;\n  handleScroll: () => void;\n  // for extending\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderCustomSeparator?: () => React.ReactElement;\n  renderEditInput?: () => React.ReactElement;\n  renderMessageContent?: () => React.ReactElement;\n};\n\nconst Message = (props: MessageUIProps): React.FC<MessageUIProps> | React.ReactElement => {\n  const {\n    message,\n    hasSeparator,\n    chainTop,\n    chainBottom,\n    handleScroll,\n    renderCustomSeparator,\n    renderEditInput,\n    renderMessage,\n    renderMessageContent,\n  } = props;\n\n  const { dateLocale } = useLocalization();\n  const globalStore = useSendbirdStateContext();\n  const {\n    userId,\n    isOnline,\n    isMentionEnabled,\n    userMention,\n  } = globalStore?.config;\n  const maxUserMentionCount = userMention?.maxMentionCount || MAX_USER_MENTION_COUNT;\n  const maxUserSuggestionCount = userMention?.maxSuggestionCount || MAX_USER_SUGGESTION_COUNT;\n\n  const {\n    initialized,\n    currentGroupChannel,\n    highLightedMessageId,\n    setHighLightedMessageId,\n    animatedMessageId,\n    setAnimatedMessageId,\n    updateMessage,\n    scrollToMessage,\n    replyType,\n    isReactionEnabled,\n    toggleReaction,\n    emojiContainer,\n    nicknamesMap,\n    setQuoteMessage,\n    resendMessage,\n    renderUserMentionItem,\n  } = useChannelContext();\n\n  const [showEdit, setShowEdit] = useState(false);\n  const [showRemove, setShowRemove] = useState(false);\n  const [showFileViewer, setShowFileViewer] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const [isHighlighted, setIsHighlighted] = useState(false);\n  const [mentionNickname, setMentionNickname] = useState('');\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [mentionedUserIds, setMentionedUserIds] = useState([]);\n  const [messageInputEvent, setMessageInputEvent] = useState(null);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [mentionSuggestedUsers, setMentionSuggestedUsers] = useState([]);\n  const [ableMention, setAbleMention] = useState(true);\n  const editMessageInputRef = useRef(null);\n  const useMessageScrollRef = useRef(null);\n  const displaySuggestedMentionList = isOnline\n    && isMentionEnabled\n    && mentionNickname.length > 0\n    && !isDisabledBecauseFrozen(currentGroupChannel)\n    && !isDisabledBecauseMuted(currentGroupChannel);\n  const disabled = !initialized\n    || isDisabledBecauseFrozen(currentGroupChannel)\n    || isDisabledBecauseMuted(currentGroupChannel)\n    || !isOnline;\n\n  useEffect(() => {\n    if (mentionedUsers?.length >= maxUserMentionCount) {\n      setAbleMention(false);\n    } else {\n      setAbleMention(true);\n    }\n  }, [mentionedUsers]);\n\n  useEffect(() => {\n    setMentionedUsers(mentionedUsers.filter(({ userId }) => {\n      const i = mentionedUserIds.indexOf(userId);\n      if (i < 0) {\n        return false;\n      } else {\n        mentionedUserIds.splice(i, 1);\n        return true;\n      }\n    }));\n  }, [mentionedUserIds]);\n\n  useLayoutEffect(() => {\n    handleScroll?.();\n  }, [showEdit, message?.reactions?.length]);\n\n  useLayoutEffect(() => {\n    if (highLightedMessageId === message.messageId) {\n      if (useMessageScrollRef && useMessageScrollRef.current) {\n        useMessageScrollRef.current.scrollIntoView({ block: 'center', inline: 'center' });\n        setIsAnimated(false);\n        setTimeout(() => {\n          setIsHighlighted(true);\n        }, 500);\n        setTimeout(() => {\n          setHighLightedMessageId(0);\n        }, 1600);\n      }\n    } else {\n      setIsHighlighted(false);\n    }\n  }, [highLightedMessageId, useMessageScrollRef.current, message.messageId]);\n\n  useLayoutEffect(() => {\n    if (animatedMessageId === message.messageId) {\n      if (useMessageScrollRef && useMessageScrollRef.current) {\n        useMessageScrollRef.current.scrollIntoView({ block: 'center', inline: 'center' });\n        setIsHighlighted(false);\n        setTimeout(() => {\n          setIsAnimated(true);\n        }, 500);\n        setTimeout(() => {\n          setAnimatedMessageId(0);\n        }, 1600);\n      }\n    } else {\n      setIsAnimated(false);\n    }\n  }, [animatedMessageId, useMessageScrollRef.current, message.messageId]);\n  const renderedMessage = useMemo(() => {\n    return renderMessage?.({\n      message,\n      chainTop,\n      chainBottom,\n    });\n  }, [message, renderMessage]);\n  const renderedCustomSeparator = useMemo(() => {\n    if (renderCustomSeparator) {\n      return renderCustomSeparator?.();\n    }\n    return null;\n  }, [message, renderCustomSeparator]);\n\n  if (renderedMessage) {\n    return (\n      <div\n        ref={useMessageScrollRef}\n        className={getClassName([\n          'sendbird-msg-hoc sendbird-msg--scroll-ref',\n          isAnimated ? 'sendbird-msg-hoc__animated' : '',\n          isHighlighted ? 'sendbird-msg-hoc__highlighted' : '',\n        ])}\n      >\n        {/* date-separator */}\n        {\n          // TODO: Add message instance as a function parameter\n          hasSeparator && (renderedCustomSeparator || (\n            <DateSeparator>\n              <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n                {format(message.createdAt, 'MMMM dd, yyyy', {\n                  locale: dateLocale,\n                })}\n              </Label>\n            </DateSeparator>\n          ))\n        }\n        {renderedMessage}\n      </div>\n    );\n  }\n\n  if (showEdit && message.isUserMessage()) {\n    return renderEditInput?.() || (\n      <>\n        {\n          displaySuggestedMentionList && (\n            <SuggestedMentionList\n              targetNickname={mentionNickname}\n              inputEvent={messageInputEvent}\n              renderUserMentionItem={renderUserMentionItem}\n              onUserItemClick={(user) => {\n                if (user) {\n                  setMentionedUsers([...mentionedUsers, user]);\n                }\n                setMentionNickname('');\n                setSelectedUser(user);\n                setMessageInputEvent(null);\n              }}\n              onFocusItemChange={() => {\n                setMessageInputEvent(null);\n              }}\n              onFetchUsers={(users) => {\n                setMentionSuggestedUsers(users);\n              }}\n              ableAddMention={ableMention}\n              maxMentionCount={maxUserMentionCount}\n              maxSuggestionCount={maxUserSuggestionCount}\n            />\n          )\n        }\n        <MessageInput\n          isEdit\n          disabled={disabled}\n          ref={editMessageInputRef}\n          mentionSelectedUser={selectedUser}\n          isMentionEnabled={isMentionEnabled}\n          message={message}\n          onUpdateMessage={({ messageId, message, mentionTemplate }) => {\n            updateMessage({\n              messageId,\n              message,\n              mentionedUsers,\n              mentionTemplate,\n            });\n            setShowEdit(false);\n          }}\n          onCancelEdit={() => {\n            setMentionNickname('');\n            setMentionedUsers([]);\n            setMentionedUserIds([]);\n            setMentionSuggestedUsers([])\n            setShowEdit(false);\n          }}\n          onUserMentioned={(user) => {\n            if (selectedUser?.userId === user?.userId) {\n              setSelectedUser(null);\n              setMentionNickname('');\n            }\n          }}\n          onMentionStringChange={(mentionText) => {\n            setMentionNickname(mentionText);\n          }}\n          onMentionedUserIdsUpdated={(userIds) => {\n            setMentionedUserIds(userIds);\n          }}\n          onKeyDown={(e) => {\n            if (displaySuggestedMentionList && mentionSuggestedUsers?.length > 0\n              && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)\n            ) {\n              setMessageInputEvent(e);\n              return true;\n            }\n            return false;\n          }}\n        />\n      </>\n    );\n  }\n\n  return (\n    <div\n      className={getClassName([\n        'sendbird-msg-hoc sendbird-msg--scroll-ref',\n        isAnimated ? 'sendbird-msg-hoc__animated' : '',\n        isHighlighted ? 'sendbird-msg-hoc__highlighted' : '',\n      ])}\n      style={{ marginBottom: '2px' }}\n      ref={useMessageScrollRef}\n    >\n      {/* date-separator */}\n      {\n        hasSeparator && (renderedCustomSeparator || (\n          <DateSeparator>\n            <Label type={LabelTypography.CAPTION_2} color={LabelColors.ONBACKGROUND_2}>\n              {format(message.createdAt, 'MMMM dd, yyyy', {\n                locale: dateLocale,\n              })}\n            </Label>\n          </DateSeparator>\n        ))\n      }\n      {/* Message */}\n      {\n        renderMessageContent?.() || (\n          <MessageContent\n            className=\"sendbird-message-hoc__message-content\"\n            userId={userId}\n            scrollToMessage={scrollToMessage}\n            channel={currentGroupChannel}\n            message={message}\n            disabled={!isOnline}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n            isReactionEnabled={isReactionEnabled}\n            replyType={replyType}\n            nicknamesMap={nicknamesMap}\n            emojiContainer={emojiContainer}\n            showEdit={setShowEdit}\n            showRemove={setShowRemove}\n            showFileViewer={setShowFileViewer}\n            resendMessage={resendMessage}\n            toggleReaction={toggleReaction}\n            setQuoteMessage={setQuoteMessage}\n          />\n        )\n      }\n      {/* Modal */}\n      {\n        showRemove && (\n          <RemoveMessageModal\n            message={message}\n            onCancel={() => setShowRemove(false)}\n          />\n        )\n      }\n      {\n        showFileViewer && (\n          <FileViewer\n            message={message as FileMessage}\n            onCancel={() => setShowFileViewer(false)}\n          />\n        )\n      }\n    </div>\n  );\n};\n\nexport default Message;\n","import './message-list.scss';\n\nimport React, { useState, useMemo } from 'react';\nimport isSameDay from 'date-fns/isSameDay';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport { compareMessagesForGrouping } from '../../context/utils';\nimport Message from '../Message';\nimport { RenderMessageProps } from '../../../../types';\nimport { isAboutSame } from '../../context/utils';\nimport uuidv4 from '../../../../utils/uuid';\n\nexport type MessageListProps = {\n  renderMessage?: (props: RenderMessageProps) => React.ReactElement;\n  renderPlaceholderEmpty?: () => React.ReactElement;\n  renderCustomSeparator?: () => React.ReactElement;\n};\n\nconst SCROLL_REF_CLASS_NAME = '.sendbird-msg--scroll-ref';\n\nconst MessageList: React.FC<MessageListProps> = (props: MessageListProps) => {\n  const {\n    renderMessage,\n    renderPlaceholderEmpty,\n    renderCustomSeparator,\n  } = props;\n  const {\n    allMessages,\n    hasMorePrev,\n    setInitialTimeStamp,\n    setAnimatedMessageId,\n    setHighLightedMessageId,\n    isMessageGroupingEnabled,\n    scrollRef,\n    onScrollCallback,\n    onScrollDownCallback,\n    messagesDispatcher,\n    messageActionTypes,\n    currentGroupChannel,\n  } = useChannelContext();\n  const [scrollBottom, setScrollBottom] = useState(0);\n\n  const onScroll = (e) => {\n    const element = e.target;\n    const {\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    } = element;\n\n    if (scrollTop === 0) {\n      if (!hasMorePrev) {\n        return;\n      }\n      const nodes = scrollRef.current.querySelectorAll(SCROLL_REF_CLASS_NAME);\n      const first = nodes && nodes[0];\n      onScrollCallback(([messages]) => {\n        if (messages) {\n          // https://github.com/scabbiaza/react-scroll-position-on-updating-dom\n          // Set block to nearest to prevent unexpected scrolling from outer components\n          try {\n            first.scrollIntoView({ block: \"start\", inline: \"nearest\" });\n          } catch (error) {\n            //\n          }\n        }\n      });\n    }\n\n    if (isAboutSame(clientHeight + scrollTop, scrollHeight, 10)) {\n      onScrollDownCallback(([messages]) => {\n        if (messages) {\n          try {\n            element.scrollTop = scrollHeight - clientHeight;\n          } catch (error) {\n            //\n          }\n        }\n      });\n    }\n\n    // save the lastest scroll bottom value\n    if (scrollRef?.current) {\n      const current = scrollRef?.current;\n      setScrollBottom(current.scrollHeight - current.scrollTop - current.offsetHeight)\n    }\n\n    // do this later\n    setTimeout(() => {\n      // mark as read if scroll is at end\n      if (clientHeight + scrollTop === scrollHeight) {\n        messagesDispatcher({\n          type: messageActionTypes.MARK_AS_READ,\n          payload: { channel: currentGroupChannel },\n        });\n        currentGroupChannel?.markAsRead();\n      }\n    }, 500);\n  };\n\n  const onClickScrollBot = () => {\n    setInitialTimeStamp?.(null);\n    setAnimatedMessageId?.(null);\n    setHighLightedMessageId?.(null);\n    if (scrollRef?.current?.scrollTop > -1) {\n      scrollRef.current.scrollTop = scrollRef?.current?.scrollHeight - scrollRef?.current?.offsetHeight;\n    }\n  };\n\n  // Because every message components are re-rendered everytime by every scroll events\n  const memoizedAllMessages = useMemo(() => {\n    return (\n      allMessages.map((m, idx) => {\n        const previousMessage = allMessages[idx - 1];\n        const nextMessage = allMessages[idx + 1];\n        const [chainTop, chainBottom] = isMessageGroupingEnabled\n          ? compareMessagesForGrouping(previousMessage, m, nextMessage)\n          : [false, false];\n        const previousMessageCreatedAt = previousMessage?.createdAt;\n        const currentCreatedAt = m.createdAt;\n        // https://stackoverflow.com/a/41855608\n        const hasSeparator = !(previousMessageCreatedAt && (\n          isSameDay(currentCreatedAt, previousMessageCreatedAt)\n        ));\n\n        const handleScroll = () => {\n          const current = scrollRef?.current;\n          if (current) {\n            const bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n            if (scrollBottom < bottom) {\n              current.scrollTop += bottom - scrollBottom;\n            }\n          }\n        }\n\n        return (\n          <Message\n            handleScroll={handleScroll}\n            renderMessage={renderMessage}\n            message={m}\n            hasSeparator={hasSeparator}\n            chainTop={chainTop}\n            chainBottom={chainBottom}\n            renderCustomSeparator={renderCustomSeparator}\n            key={m.messageId + uuidv4()}\n          />\n        );\n      })\n    );\n  }, [allMessages]);\n\n  if (allMessages.length < 1) {\n    return (\n      <>\n        {\n          renderPlaceholderEmpty?.() || (\n            <PlaceHolder\n              className=\"sendbird-conversation__no-messages\"\n              type={PlaceHolderTypes.NO_MESSAGES}\n            />)\n        }\n      </>\n    );\n  }\n  return (\n    <div className=\"sendbird-conversation__messages\">\n      <div className=\"sendbird-conversation__scroll-container\">\n        <div className=\"sendbird-conversation__padding\" />\n        <div\n          className=\"sendbird-conversation__messages-padding\"\n          ref={scrollRef}\n          onScroll={onScroll}\n        >\n          {memoizedAllMessages}\n        </div>\n      </div>\n      {\n        // This flag is an unmatched variable\n        (scrollBottom > 1) && (\n          <div\n            className=\"sendbird-conversation__scroll-bottom-button\"\n            onClick={onClickScrollBot}\n            onKeyDown={onClickScrollBot}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <Icon\n              width=\"24px\"\n              height=\"24px\"\n              type={IconTypes.CHEVRON_DOWN}\n              fillColor={IconColors.PRIMARY}\n            />\n          </div>\n        )\n      }\n    </div>\n  );\n};\n\nexport default MessageList;\n","import type { User } from \"@sendbird/chat\";\n\nimport React, { useState, useContext, useEffect } from \"react\";\n\nimport \"./message-input.scss\";\nimport * as utils from \"../../context/utils\";\n\nimport MessageInput from \"../../../../ui/MessageInput\";\nimport QuoteMessageInput from \"../../../../ui/QuoteMessageInput\";\nimport { LocalizationContext } from \"../../../../lib/LocalizationContext\";\nimport { useChannelContext } from \"../../context/ChannelProvider\";\nimport useSendbirdStateContext from \"../../../../hooks/useSendbirdStateContext\";\nimport SuggestedMentionList from \"../SuggestedMentionList\";\nimport { MessageInputKeys } from \"../../../../ui/MessageInput/const\";\nimport { FileInputContext } from \"../../../../smart-components/App\";\n\nconst MessageInputWrapper = (): JSX.Element => {\n  const {\n    currentGroupChannel,\n    initialized,\n    quoteMessage,\n    sendMessage,\n    sendFileMessage,\n    setQuoteMessage,\n    messageInputRef,\n    renderUserMentionItem,\n  } = useChannelContext();\n  const globalStore = useSendbirdStateContext();\n  const channel = currentGroupChannel;\n\n  const { isOnline, isMentionEnabled, userMention } = globalStore?.config;\n  const maxUserMentionCount = userMention?.maxMentionCount || 10;\n  const maxUserSuggestionCount = userMention?.maxSuggestionCount || 15;\n\n  const { onFilePicked } = useContext<FileInputContext>(FileInputContext);\n  const { stringSet } = useContext(LocalizationContext);\n  const [mentionNickname, setMentionNickname] = useState(\"\");\n  const [mentionedUsers, setMentionedUsers] = useState([]);\n  const [mentionedUserIds, setMentionedUserIds] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [mentionSuggestedUsers, setMentionSuggestedUsers] = useState([]);\n  const [ableMention, setAbleMention] = useState(true);\n  const [messageInputEvent, setMessageInputEvent] = useState(null);\n  const disabled =\n    !initialized ||\n    utils.isDisabledBecauseFrozen(channel) ||\n    utils.isDisabledBecauseMuted(channel) ||\n    !isOnline;\n  const isOperator = utils.isOperator(channel);\n  const isBroadcast = channel?.isBroadcast;\n\n  const displaySuggestedMentionList =\n    isOnline &&\n    isMentionEnabled &&\n    mentionNickname.length > 0 &&\n    !utils.isDisabledBecauseFrozen(channel) &&\n    !utils.isDisabledBecauseMuted(channel);\n\n  // Reset when channel changes\n  useEffect(() => {\n    setMentionNickname(\"\");\n    setMentionedUsers([]);\n    setMentionedUserIds([]);\n    setSelectedUser(null);\n    setMentionSuggestedUsers([]);\n    setAbleMention(true);\n    setMessageInputEvent(null);\n  }, [channel?.url]);\n\n  useEffect(() => {\n    if (mentionedUsers?.length >= maxUserMentionCount) {\n      setAbleMention(false);\n    } else {\n      setAbleMention(true);\n    }\n  }, [mentionedUsers]);\n\n  useEffect(() => {\n    setMentionedUsers(\n      mentionedUsers.filter(({ userId }) => {\n        const i = mentionedUserIds.indexOf(userId);\n        if (i < 0) {\n          return false;\n        } else {\n          mentionedUserIds.splice(i, 1);\n          return true;\n        }\n      })\n    );\n  }, [mentionedUserIds]);\n\n  // broadcast channel + not operator\n  if (isBroadcast && !isOperator) {\n    return null;\n  }\n  // other conditions\n  return (\n    <div className=\"sendbird-message-input-wrapper\">\n      {displaySuggestedMentionList && (\n        <SuggestedMentionList\n          targetNickname={mentionNickname}\n          inputEvent={messageInputEvent}\n          renderUserMentionItem={renderUserMentionItem}\n          onUserItemClick={(user) => {\n            if (user) {\n              setMentionedUsers([...mentionedUsers, user]);\n            }\n            setMentionNickname(\"\");\n            setSelectedUser(user);\n            setMessageInputEvent(null);\n          }}\n          onFocusItemChange={() => {\n            setMessageInputEvent(null);\n          }}\n          onFetchUsers={(users) => {\n            setMentionSuggestedUsers(users);\n          }}\n          ableAddMention={ableMention}\n          maxMentionCount={maxUserMentionCount}\n          maxSuggestionCount={maxUserSuggestionCount}\n        />\n      )}\n      {quoteMessage && (\n        <div className=\"sendbird-message-input-wrapper__quote-message-input\">\n          <QuoteMessageInput\n            replyingMessage={quoteMessage}\n            onClose={() => setQuoteMessage(null)}\n          />\n        </div>\n      )}\n      <MessageInput\n        className=\"sendbird-message-input-wrapper__message-input\"\n        channelUrl={channel?.url}\n        mentionSelectedUser={selectedUser}\n        isMentionEnabled={isMentionEnabled}\n        placeholder={\n          (quoteMessage &&\n            stringSet.MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER) ||\n          (utils.isDisabledBecauseFrozen(channel) &&\n            stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED) ||\n          (utils.isDisabledBecauseMuted(channel) &&\n            stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED)\n        }\n        ref={messageInputRef}\n        disabled={disabled}\n        onStartTyping={() => {\n          channel?.startTyping();\n        }}\n        onSendMessage={({ message, mentionTemplate }) => {\n          sendMessage({\n            message,\n            quoteMessage,\n            mentionedUsers,\n            mentionTemplate,\n          });\n          setMentionNickname(\"\");\n          setMentionedUsers([]);\n          setQuoteMessage(null);\n          channel?.endTyping();\n        }}\n        onFileUpload={(file) => {\n          // TODO: upload to s3\n          onFilePicked(file).then((result) => {\n            if (!result) {\n              return;\n            }\n\n            console.log(result);\n\n            switch (result.type) {\n              case \"message\":\n                return sendMessage({ message: result.message });\n\n              case \"upload-to-sendbird\":\n                return sendFileMessage(file, quoteMessage);\n            }\n          });\n\n          setQuoteMessage(null);\n        }}\n        onUserMentioned={(user) => {\n          if (selectedUser?.userId === user?.userId) {\n            setSelectedUser(null);\n            setMentionNickname(\"\");\n          }\n        }}\n        onMentionStringChange={(mentionText) => {\n          setMentionNickname(mentionText);\n        }}\n        onMentionedUserIdsUpdated={(userIds) => {\n          setMentionedUserIds(userIds);\n        }}\n        onKeyDown={(e) => {\n          if (\n            displaySuggestedMentionList &&\n            mentionSuggestedUsers?.length > 0 &&\n            ((e.key === MessageInputKeys.Enter && ableMention) ||\n              e.key === MessageInputKeys.ArrowUp ||\n              e.key === MessageInputKeys.ArrowDown)\n          ) {\n            setMessageInputEvent(e);\n            return true;\n          }\n          return false;\n        }}\n      />\n    </div>\n  );\n};\n\nexport default React.forwardRef(MessageInputWrapper);\n","import './channel-ui.scss';\n\nimport React, { useEffect, useState } from 'react';\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\n\nimport { useChannelContext } from '../../context/ChannelProvider';\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport ConnectionStatus from '../../../../ui/ConnectionStatus';\nimport ChannelHeader from '../ChannelHeader';\nimport MessageList from '../MessageList';\nimport TypingIndicator from '../TypingIndicator';\nimport FrozenNotification from '../FrozenNotification';\nimport UnreadCount from '../UnreadCount';\nimport MessageInputWrapper from '../MessageInput';\nimport { RenderMessageProps } from '../../../../types';\nimport * as messageActionTypes from '../../context/dux/actionTypes';\n\nexport interface ChannelUIProps {\n  renderPlaceholderLoader?: () => React.ReactNode;\n  renderPlaceholderInvalid?: () => React.ReactNode;\n  renderPlaceholderEmpty?: () => React.ReactNode;\n  renderChannelHeader?: () => React.ReactNode;\n  renderMessage?: (props: RenderMessageProps) => React.ReactNode;\n  renderMessageInput?: () => React.ReactNode;\n  renderTypingIndicator?: () => React.ReactNode;\n  renderCustomSeparator?: () => React.ReactNode;\n}\n\nconst ChannelUI: React.FC<ChannelUIProps> = ({\n  renderPlaceholderLoader,\n  renderPlaceholderInvalid,\n  renderPlaceholderEmpty,\n  renderChannelHeader,\n  renderMessage,\n  renderMessageInput,\n  renderTypingIndicator,\n  renderCustomSeparator,\n}: ChannelUIProps) => {\n  const {\n    currentGroupChannel,\n    channelUrl,\n    isInvalid,\n    unreadSince,\n    loading,\n    setInitialTimeStamp,\n    setAnimatedMessageId,\n    setHighLightedMessageId,\n    scrollRef,\n    messagesDispatcher,\n  } = useChannelContext();\n  const [unreadCount, setUnreadCount] = useState(0);\n  useEffect(() => {\n    setUnreadCount(currentGroupChannel?.unreadMessageCount);\n  }, [currentGroupChannel?.unreadMessageCount]);\n\n  const globalStore = useSendbirdStateContext();\n  const sdkError = globalStore?.stores?.sdkStore?.error;\n  const logger = globalStore?.config?.logger;\n  const isOnline = globalStore?.config?.isOnline;\n\n  if (!channelUrl) {\n    return (<div className=\"sendbird-conversation\">\n      {\n        renderPlaceholderInvalid?.() || (\n          <PlaceHolder type={PlaceHolderTypes.NO_CHANNELS} />\n        )\n      }\n    </div>);\n  }\n  if (isInvalid) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder type={PlaceHolderTypes.WRONG} />\n          )\n        }\n      </div>\n    );\n  }\n  if (sdkError) {\n    return (\n      <div className=\"sendbird-conversation\">\n        {\n          renderPlaceholderInvalid?.() || (\n            <PlaceHolder\n              type={PlaceHolderTypes.WRONG}\n              retryToConnect={() => {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n              }}\n            />\n          )\n        }\n      </div>\n    );\n  }\n  return (\n    <div className='sendbird-conversation'>\n      {\n        renderChannelHeader?.() || (\n          <ChannelHeader />\n        )\n      }\n      {\n        currentGroupChannel?.isFrozen && (\n          <FrozenNotification />\n        )\n      }\n      {\n        unreadCount > 0 && (\n          <UnreadCount\n            count={unreadCount}\n            time={unreadSince}\n            onClick={() => {\n              setUnreadCount(0);\n              if (scrollRef?.current?.scrollTop) {\n                scrollRef.current.scrollTop = scrollRef?.current?.scrollHeight - scrollRef?.current?.offsetHeight;\n              }\n              currentGroupChannel?.markAsRead();\n              messagesDispatcher({\n                type: messageActionTypes.MARK_AS_READ,\n                payload: { channel: currentGroupChannel },\n              });\n              setInitialTimeStamp(null);\n              setAnimatedMessageId(null);\n              setHighLightedMessageId(null);\n            }}\n          />\n        )\n      }\n      {\n        loading\n          ? (\n            <div className=\"sendbird-conversation\">\n              {\n                renderPlaceholderLoader?.() || (\n                  <PlaceHolder type={PlaceHolderTypes.LOADING} />\n                )\n              }\n            </div>\n          ) : (\n            <MessageList\n              renderMessage={renderMessage}\n              renderPlaceholderEmpty={renderPlaceholderEmpty}\n              renderCustomSeparator={renderCustomSeparator}\n            />\n          )\n      }\n      <div className=\"sendbird-conversation__footer\">\n        {\n          renderMessageInput?.() || (\n            <MessageInputWrapper />\n          )\n        }\n        <div className=\"sendbird-conversation__footer__typing-indicator\">\n          {\n            renderTypingIndicator?.() || (\n              <TypingIndicator />\n            )\n          }\n          {\n            !isOnline && (\n              <ConnectionStatus />\n            )\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChannelUI;\n","import React from 'react';\n\nimport {\n  ChannelProvider,\n  ChannelContextProps,\n} from './context/ChannelProvider';\n\nimport ChannelUI, { ChannelUIProps } from './components/ChannelUI';\nexport interface ChannelProps extends ChannelContextProps, ChannelUIProps {\n}\n\nconst Channel: React.FC<ChannelProps> = (props: ChannelProps) => {\n  return (\n    <ChannelProvider\n      channelUrl={props?.channelUrl}\n      isReactionEnabled={props?.isReactionEnabled}\n      isMessageGroupingEnabled={props?.isMessageGroupingEnabled}\n      showSearchIcon={props?.showSearchIcon}\n      highlightedMessage={props?.highlightedMessage}\n      startingPoint={props?.startingPoint}\n      onBeforeSendUserMessage={props?.onBeforeSendUserMessage}\n      onBeforeSendFileMessage={props?.onBeforeSendFileMessage}\n      onBeforeUpdateUserMessage={props?.onBeforeUpdateUserMessage}\n      onChatHeaderActionClick={props?.onChatHeaderActionClick}\n      onSearchClick={props?.onSearchClick}\n      replyType={props?.replyType}\n      queries={props?.queries}\n      renderUserProfile={props?.renderUserProfile}\n      disableUserProfile={props?.disableUserProfile}\n    >\n      <ChannelUI\n        renderPlaceholderLoader={props?.renderPlaceholderLoader}\n        renderPlaceholderInvalid={props?.renderPlaceholderInvalid}\n        renderPlaceholderEmpty={props?.renderPlaceholderEmpty}\n        renderChannelHeader={props?.renderChannelHeader}\n        renderMessage={props?.renderMessage}\n        renderMessageInput={props?.renderMessageInput}\n        renderTypingIndicator={props?.renderTypingIndicator}\n        renderCustomSeparator={props?.renderCustomSeparator}\n      />\n    </ChannelProvider>\n  );\n};\n\nexport default Channel;\n","/**\n * This is a drop in Chat solution\n * Can also be used as an example for creating\n * default chat apps\n */\nimport React, { createContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Sendbird from \"../../lib/Sendbird\";\n\nimport ChannelList from \"../ChannelList\";\nimport Channel from \"../Channel\";\nimport ChannelSettings from \"../ChannelSettings\";\nimport MessageSearchPannel from \"../MessageSearch\";\n\nimport \"./index.scss\";\n\nconst FileInputContext = createContext({\n  onFilePicked: (file) => {\n    return {\n      type: \"upload-to-sendbird\",\n    };\n  },\n  externalBucketUrl: \"\",\n  renderCustomMessage: (props) => {\n    return null;\n  },\n});\n\nexport { FileInputContext };\nexport default function App(props) {\n  const {\n    appId,\n    userId,\n    accessToken,\n    theme,\n    userListQuery,\n    nickname,\n    profileUrl,\n    dateLocale,\n    config = {},\n    isReactionEnabled,\n    isMentionEnabled,\n    replyType,\n    isMessageGroupingEnabled,\n    colorSet,\n    stringSet,\n    allowProfileEdit,\n    disableUserProfile,\n    renderUserProfile,\n    showSearchIcon,\n    onProfileEditSuccess,\n    imageCompression,\n    disableAutoSelect,\n    isTypingIndicatorEnabledOnChannelList,\n    isMessageReceiptStatusEnabledOnChannelList,\n    onFilePicked,\n    externalBucketUrl,\n    renderCustomMessage\n  } = props;\n  const [currentChannelUrl, setCurrentChannelUrl] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [highlightedMessage, setHighlightedMessage] = useState(null);\n  const [startingPoint, setStartingPoint] = useState(null);\n\n  return (\n    <FileInputContext.Provider value={{ onFilePicked, externalBucketUrl, renderCustomMessage }}>\n      <Sendbird\n        stringSet={stringSet}\n        appId={appId}\n        userId={userId}\n        accessToken={accessToken}\n        theme={theme}\n        nickname={nickname}\n        profileUrl={profileUrl}\n        dateLocale={dateLocale}\n        userListQuery={userListQuery}\n        config={config}\n        colorSet={colorSet}\n        disableUserProfile={disableUserProfile}\n        renderUserProfile={renderUserProfile}\n        imageCompression={imageCompression}\n        isReactionEnabled={isReactionEnabled}\n        isMentionEnabled={isMentionEnabled}\n        isTypingIndicatorEnabledOnChannelList={\n          isTypingIndicatorEnabledOnChannelList\n        }\n        isMessageReceiptStatusEnabledOnChannelList={\n          isMessageReceiptStatusEnabledOnChannelList\n        }\n      >\n        <div className=\"sendbird-app__wrap\">\n          <div className=\"sendbird-app__channellist-wrap\">\n            <ChannelList\n              allowProfileEdit={allowProfileEdit}\n              onProfileEditSuccess={onProfileEditSuccess}\n              disableAutoSelect={disableAutoSelect}\n              onChannelSelect={(channel) => {\n                setStartingPoint(null);\n                setHighlightedMessage(null);\n                if (channel?.url) {\n                  setCurrentChannelUrl(channel.url);\n                } else {\n                  setCurrentChannelUrl(\"\");\n                }\n              }}\n            />\n          </div>\n          <div\n            className={`\n              ${showSettings ? \"sendbird-app__conversation--settings-open\" : \"\"}\n              ${showSearch ? \"sendbird-app__conversation--search-open\" : \"\"}\n              sendbird-app__conversation-wrap\n            `}\n          >\n            <Channel\n              channelUrl={currentChannelUrl}\n              onChatHeaderActionClick={() => {\n                setShowSearch(false);\n                setShowSettings(!showSettings);\n              }}\n              onSearchClick={() => {\n                setShowSettings(false);\n                setShowSearch(!showSearch);\n              }}\n              showSearchIcon={showSearchIcon}\n              startingPoint={startingPoint}\n              highlightedMessage={highlightedMessage}\n              isReactionEnabled={isReactionEnabled}\n              replyType={replyType}\n              isMessageGroupingEnabled={isMessageGroupingEnabled}\n            />\n          </div>\n          {showSettings && (\n            <div className=\"sendbird-app__settingspanel-wrap\">\n              <ChannelSettings\n                className=\"sendbird-channel-settings\"\n                channelUrl={currentChannelUrl}\n                onCloseClick={() => {\n                  setShowSettings(false);\n                }}\n              />\n            </div>\n          )}\n          {showSearch && (\n            <div className=\"sendbird-app__searchpanel-wrap\">\n              <MessageSearchPannel\n                channelUrl={currentChannelUrl}\n                onResultClick={(message) => {\n                  if (message.messageId === highlightedMessage) {\n                    setHighlightedMessage(null);\n                    setTimeout(() => {\n                      setHighlightedMessage(message.messageId);\n                    });\n                  } else {\n                    setStartingPoint(message.createdAt);\n                    setHighlightedMessage(message.messageId);\n                  }\n                }}\n                onCloseClick={() => {\n                  setShowSearch(false);\n                }}\n              />\n            </div>\n          )}\n        </div>\n      </Sendbird>\n    </FileInputContext.Provider>\n  );\n}\n\nApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  theme: PropTypes.string,\n  userListQuery: PropTypes.func,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  allowProfileEdit: PropTypes.bool,\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  onProfileEditSuccess: PropTypes.func,\n  dateLocale: PropTypes.shape({}),\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n  }),\n  isReactionEnabled: PropTypes.bool,\n  replyType: PropTypes.oneOf([\"NONE\", \"QUOTE_REPLY\", \"THREAD\"]),\n  showSearchIcon: PropTypes.bool,\n  isMessageGroupingEnabled: PropTypes.bool,\n  stringSet: PropTypes.objectOf(PropTypes.string),\n  colorSet: PropTypes.objectOf(PropTypes.string),\n  imageCompression: PropTypes.shape({\n    compressionRate: PropTypes.number,\n    resizingWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    resizingHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  }),\n  disableAutoSelect: PropTypes.bool,\n  isMentionEnabled: PropTypes.bool,\n  isTypingIndicatorEnabledOnChannelList: PropTypes.bool,\n  isMessageReceiptStatusEnabledOnChannelList: PropTypes.bool,\n  onFilePicked: PropTypes.object,\n  externalBucketUrl: PropTypes.string,\n  renderCustomMessage: PropTypes.object,\n};\n\nApp.defaultProps = {\n  accessToken: \"\",\n  theme: \"light\",\n  nickname: \"\",\n  profileUrl: \"\",\n  userListQuery: null,\n  dateLocale: null,\n  allowProfileEdit: false,\n  onProfileEditSuccess: null,\n  disableUserProfile: false,\n  showSearchIcon: false,\n  renderUserProfile: null,\n  config: {},\n  isReactionEnabled: true,\n  isMentionEnabled: false,\n  replyType: \"NONE\",\n  isMessageGroupingEnabled: true,\n  stringSet: null,\n  colorSet: null,\n  imageCompression: {},\n  disableAutoSelect: false,\n  isTypingIndicatorEnabledOnChannelList: false,\n  isMessageReceiptStatusEnabledOnChannelList: false,\n  onFilePicked: (file) => {\n    return {\n      type: \"upload-to-sendbird\",\n    };\n  },\n  externalBucketUrl: \"\",\n  renderCustomMessage: (props) => {\n    return null;\n  },\n};\n"],"names":["S3ThumbnailMessageItemBody","_a","className","message","_c","isByMe","_d","mouseHover","showFileViewer","_e","useState","setImageRendered","React","getClassName","reactions","_b","length","isSentMessage","style","IconTypes","PHOTO","IconColors","ON_BACKGROUND_2","MessageContent","userId","channel","_g","disabled","_h","chainTop","_j","chainBottom","_k","isReactionEnabled","replyType","nicknamesMap","emojiContainer","scrollToMessage","showEdit","showRemove","resendMessage","toggleReaction","setQuoteMessage","messageTypes","getUIKitMessageTypes","dateLocale","useLocalization","config","useSendbirdStateContext","_l","useContext","UserProfileContext","disableUserProfile","renderUserProfile","_m","FileInputContext","externalBucketUrl","renderCustomMessage","avatarRef","useRef","_o","setMouseHover","_p","supposedHover","setSupposedHover","sender","sendingStatus","isByMeClassName","chainTopClassName","isReactionEnabledClassName","supposedHoverClassName","useReplying","parentMessageId","parentMessage","useReplyingClassName","isAdminMessage","call","messageType","ClientAdminMessage","RenderMessageContent","renderedItem","isMentionEnabled","isTextMessage","isS3ImageMessage","isOGMessage","getUIKitMessageType","FILE","isThumbnailMessage","UNKNOWN","toggleDropdown","members","find","member","profileUrl","closeDropdown","paddingTop","paddingBottom","user","close","UserProfile","LabelTypography","CAPTION_2","LabelColors","ONBACKGROUND_2","nickname","getSenderName","createdAt","_f","CAPTION_3","format","locale","Message","props","hasSeparator","handleScroll","renderCustomSeparator","renderEditInput","renderMessage","renderMessageContent","globalStore","isOnline","userMention","maxUserMentionCount","maxMentionCount","MAX_USER_MENTION_COUNT","maxUserSuggestionCount","maxSuggestionCount","MAX_USER_SUGGESTION_COUNT","useChannelContext","initialized","currentGroupChannel","highLightedMessageId","setHighLightedMessageId","animatedMessageId","setAnimatedMessageId","updateMessage","renderUserMentionItem","setShowEdit","setShowRemove","setShowFileViewer","isAnimated","setIsAnimated","isHighlighted","setIsHighlighted","mentionNickname","setMentionNickname","mentionedUsers","setMentionedUsers","mentionedUserIds","setMentionedUserIds","messageInputEvent","setMessageInputEvent","selectedUser","setSelectedUser","mentionSuggestedUsers","setMentionSuggestedUsers","_q","ableMention","setAbleMention","editMessageInputRef","useMessageScrollRef","displaySuggestedMentionList","isDisabledBecauseFrozen","isDisabledBecauseMuted","useEffect","filter","i","indexOf","splice","useLayoutEffect","messageId","current","scrollIntoView","block","inline","setTimeout","renderedMessage","useMemo","renderedCustomSeparator","isUserMessage","__spreadArray","users","mentionTemplate","mentionText","userIds","e","key","MessageInputKeys","Enter","ArrowUp","ArrowDown","marginBottom","RemoveMessageModal","SCROLL_REF_CLASS_NAME","MessageList","renderPlaceholderEmpty","allMessages","hasMorePrev","setInitialTimeStamp","isMessageGroupingEnabled","scrollRef","onScrollCallback","onScrollDownCallback","messagesDispatcher","messageActionTypes","scrollBottom","setScrollBottom","onScroll","element","target","scrollTop","clientHeight","scrollHeight","nodes","querySelectorAll","first_1","messages","error","isAboutSame","offsetHeight","type","MARK_AS_READ","payload","markAsRead","onClickScrollBot","memoizedAllMessages","map","m","idx","previousMessage","nextMessage","compareMessagesForGrouping","previousMessageCreatedAt","currentCreatedAt","isSameDay","bottom","uuidv4","PlaceHolderTypes","NO_MESSAGES","CHEVRON_DOWN","PRIMARY","MessageInputWrapper","quoteMessage","sendMessage","sendFileMessage","messageInputRef","onFilePicked","stringSet","LocalizationContext","utils","isOperator","isBroadcast","url","MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER","MESSAGE_INPUT__PLACE_HOLDER__DISABLED","MESSAGE_INPUT__PLACE_HOLDER__MUTED","startTyping","endTyping","file","then","result","console","log","forwardRef","ChannelUI","renderPlaceholderLoader","renderPlaceholderInvalid","renderChannelHeader","renderMessageInput","renderTypingIndicator","channelUrl","isInvalid","unreadSince","loading","unreadCount","setUnreadCount","unreadMessageCount","sdkError","stores","sdkStore","logger","NO_CHANNELS","WRONG","info","ChannelHeader","isFrozen","LOADING","Channel","showSearchIcon","highlightedMessage","startingPoint","onBeforeSendUserMessage","onBeforeSendFileMessage","onBeforeUpdateUserMessage","onChatHeaderActionClick","onSearchClick","queries","createContext","App","appId","accessToken","theme","userListQuery","colorSet","allowProfileEdit","onProfileEditSuccess","imageCompression","disableAutoSelect","isTypingIndicatorEnabledOnChannelList","isMessageReceiptStatusEnabledOnChannelList","currentChannelUrl","setCurrentChannelUrl","showSettings","setShowSettings","showSearch","setShowSearch","setHighlightedMessage","setStartingPoint","propTypes","PropTypes","string","isRequired","func","bool","shape","logLevel","oneOfType","arrayOf","oneOf","objectOf","compressionRate","number","resizingWidth","resizingHeight","object","defaultProps"],"mappings":"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"}