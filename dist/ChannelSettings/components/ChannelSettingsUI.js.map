{"version":3,"file":"ChannelSettingsUI.js","sources":["../../../src/smart-components/ChannelSettings/components/ChannelSettingsUI/index.tsx"],"sourcesContent":["import './channel-settings-ui.scss';\n\nimport React, { useContext, useState } from 'react';\n\nimport useSendbirdStateContext from '../../../../hooks/useSendbirdStateContext';\nimport { useChannelSettingsContext } from '../../context/ChannelSettingsProvider';\n\nimport PlaceHolder, { PlaceHolderTypes } from '../../../../ui/PlaceHolder';\nimport Label, { LabelTypography, LabelColors } from '../../../../ui/Label';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport IconButton from '../../../../ui/IconButton';\nimport ChannelProfile from '../ChannelProfile';\nimport ModerationPanel from '../ModerationPanel';\nimport LeaveChannelModal from '../LeaveChannel';\nimport UserPanel from '../UserPanel';\n\nexport interface ChannelSettingsUIProps {\n  renderPlaceholderError?: () => React.ReactNode;\n  renderChannelProfile?: () => React.ReactNode;\n  renderModerationPanel?: () => React.ReactNode;\n  renderLeaveChannel?: () => React.ReactNode;\n}\n\nconst ChannelSettingsUI: React.FC<ChannelSettingsUIProps> = (props: ChannelSettingsUIProps) => {\n  const { stringSet } = useContext(LocalizationContext);\n\n  const state = useSendbirdStateContext();\n  const channelSettingStore = useChannelSettingsContext();\n\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  const isOnline = state?.config?.isOnline;\n  const logger = state?.config?.logger;\n\n  const {\n    channel,\n    invalidChannel,\n    onCloseClick,\n  } = channelSettingStore;\n\n  const {\n    renderPlaceholderError,\n    renderChannelProfile,\n    renderModerationPanel,\n    renderLeaveChannel,\n  } = props;\n\n  if (!channel || invalidChannel) {\n    return (\n      <div>\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            className=\"sendbird-channel-settings__close-icon\"\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          />\n        </div>\n        <div>\n          {\n            renderPlaceholderError\n              ? renderPlaceholderError()\n              : (\n                <PlaceHolder type={PlaceHolderTypes.WRONG} />\n              )\n          }\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <div className=\"sendbird-channel-settings__header-icon\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick?.();\n            }}\n          >\n            <Icon\n              className=\"sendbird-channel-settings__close-icon\"\n              type={IconTypes.CLOSE}\n              height=\"22px\"\n              width=\"22px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        {\n          renderChannelProfile?.() || (\n            <ChannelProfile />\n          )\n        }\n        {\n          renderModerationPanel?.() || (\n            channel?.myRole === 'operator'\n              ? (<ModerationPanel />)\n              : (<UserPanel />)\n          )\n        }\n        {\n          renderLeaveChannel?.() || (\n            <div\n              className={[\n                'sendbird-channel-settings__panel-item',\n                'sendbird-channel-settings__leave-channel',\n                !isOnline ? 'sendbird-channel-settings__panel-item__disabled' : '',\n              ].join(' ')}\n              role=\"button\"\n              onKeyDown={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              onClick={() => {\n                if (!isOnline) { return; }\n                setShowLeaveChannelModal(true);\n              }}\n              tabIndex={0}\n            >\n              <Icon\n                className={[\n                  'sendbird-channel-settings__panel-icon-left',\n                  'sendbird-channel-settings__panel-icon__leave',\n                ].join(' ')}\n                type={IconTypes.LEAVE}\n                fillColor={IconColors.ERROR}\n                height=\"24px\"\n                width=\"24px\"\n              />\n              <Label\n                type={LabelTypography.SUBTITLE_1}\n                color={LabelColors.ONBACKGROUND_1}\n              >\n                {stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n              </Label>\n            </div>\n          )\n        }\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCancel={() => {\n                setShowLeaveChannelModal(false);\n              }}\n              onSubmit={() => {\n                setShowLeaveChannelModal(false);\n                onCloseClick?.();\n              }}\n            />\n          )\n        }\n      </div>\n    </>\n  );\n}\n\nexport default ChannelSettingsUI;\n"],"names":["ChannelSettingsUI","props","stringSet","useContext","LocalizationContext","state","useSendbirdStateContext","channelSettingStore","useChannelSettingsContext","_c","useState","showLeaveChannelModal","setShowLeaveChannelModal","isOnline","config","logger","channel","invalidChannel","onCloseClick","renderPlaceholderError","renderChannelProfile","renderModerationPanel","renderLeaveChannel","React","LabelTypography","H_2","LabelColors","ONBACKGROUND_1","CHANNEL_SETTING__HEADER__TITLE","IconTypes","CLOSE","info","PlaceHolderTypes","WRONG","myRole","ModerationPanel","join","LEAVE","IconColors","ERROR","SUBTITLE_1","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","LeaveChannelModal"],"mappings":"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"}